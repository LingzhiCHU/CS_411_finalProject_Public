function onYouTubeIframeAPIReady(){"use strict";uitk.youtubeApiDefer.resolve()}if(window.console&&console.log||!function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,n=window.console={};i--;)n[t[i]]=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),a=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+a)},a);return e=n+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),window.isIE8)if("undefined"!=typeof define&&define.amd)define("hammer",function(){var e=function(e){};return e});else var Hammer=function(e){};else!function(e,t,i,n){"use strict";function a(e,t,i){return setTimeout(d(e,i),t)}function o(e,t,i){return!!Array.isArray(e)&&(s(e,i[t],i),!0)}function s(e,t,i){var a;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==n)for(a=0;a<e.length;)t.call(i,e[a],a,e),a++;else for(a in e)e.hasOwnProperty(a)&&t.call(i,e[a],a,e)}function r(e,t,i){for(var a=Object.keys(t),o=0;o<a.length;)(!i||i&&e[a[o]]===n)&&(e[a[o]]=t[a[o]]),o++;return e}function l(e,t){return r(e,t,!0)}function c(e,t,i){var n,a=t.prototype;n=e.prototype=Object.create(a),n.constructor=e,n._super=a,i&&r(n,i)}function d(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return typeof e==de?e.apply(t?t[0]||n:n,t):e}function h(e,t){return e===n?t:e}function p(e,t,i){s(v(t),function(t){e.addEventListener(t,i,!1)})}function f(e,t,i){s(v(t),function(t){e.removeEventListener(t,i,!1)})}function g(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function b(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function k(e,t,i){for(var n=[],a=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];b(a,s)<0&&n.push(e[o]),a[o]=s,o++}return i&&(n=t?n.sort(function(e,i){return e[t]>i[t]}):n.sort()),n}function w(e,t){for(var i,a,o=t[0].toUpperCase()+t.slice(1),s=0;s<le.length;){if(i=le[s],a=i?i+o:t,a in e)return a;s++}return n}function C(){return fe++}function T(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}function P(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){u(e.options.enable,[e])&&i.handler(t)},this.init()}function S(e){var t,i=e.options.inputClass;return new(t=i?i:ve?z:be?q:me?j:N)(e,D)}function D(e,t,i){var n=i.pointers.length,a=i.changedPointers.length,o=t&Pe&&n-a===0,s=t&(De|Ie)&&n-a===0;i.isFirst=!!o,i.isFinal=!!s,o&&(e.session={}),i.eventType=t,I(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function I(e,t){var i=e.session,n=t.pointers,a=n.length;i.firstInput||(i.firstInput=O(t)),a>1&&!i.firstMultiple?i.firstMultiple=O(t):1===a&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,r=s?s.center:o.center,l=t.center=E(n);t.timeStamp=pe(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=L(r,l),t.distance=M(r,l),x(i,t),t.offsetDirection=F(t.deltaX,t.deltaY),t.scale=s?H(s.pointers,n):1,t.rotation=s?R(s.pointers,n):0,_(i,t);var c=e.element;g(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function x(e,t){var i=t.center,n=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};(t.eventType===Pe||o.eventType===De)&&(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-n.x),t.deltaY=a.y+(i.y-n.y)}function _(e,t){var i,a,o,s,r=e.lastInterval||t,l=t.timeStamp-r.timeStamp;if(t.eventType!=Ie&&(l>Te||r.velocity===n)){var c=r.deltaX-t.deltaX,d=r.deltaY-t.deltaY,u=A(l,c,d);a=u.x,o=u.y,i=he(u.x)>he(u.y)?u.x:u.y,s=F(c,d),e.lastInterval=t}else i=r.velocity,a=r.velocityX,o=r.velocityY,s=r.direction;t.velocity=i,t.velocityX=a,t.velocityY=o,t.direction=s}function O(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:ue(e.pointers[i].clientX),clientY:ue(e.pointers[i].clientY)},i++;return{timeStamp:pe(),pointers:t,center:E(t),deltaX:e.deltaX,deltaY:e.deltaY}}function E(e){var t=e.length;if(1===t)return{x:ue(e[0].clientX),y:ue(e[0].clientY)};for(var i=0,n=0,a=0;t>a;)i+=e[a].clientX,n+=e[a].clientY,a++;return{x:ue(i/t),y:ue(n/t)}}function A(e,t,i){return{x:t/e||0,y:i/e||0}}function F(e,t){return e===t?xe:he(e)>=he(t)?e>0?_e:Oe:t>0?Ee:Ae}function M(e,t,i){i||(i=Re);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(n*n+a*a)}function L(e,t,i){i||(i=Re);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return 180*Math.atan2(a,n)/Math.PI}function R(e,t){return L(t[1],t[0],He)-L(e[1],e[0],He)}function H(e,t){return M(t[0],t[1],He)/M(e[0],e[1],He)}function N(){this.evEl=ze,this.evWin=$e,this.allow=!0,this.pressed=!1,P.apply(this,arguments)}function z(){this.evEl=Be,this.evWin=je,P.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=Ue,this.evWin=Ge,this.started=!1,P.apply(this,arguments)}function V(e,t){var i=y(e.touches),n=y(e.changedTouches);return t&(De|Ie)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=Je,this.targetIds={},P.apply(this,arguments)}function B(e,t){var i=y(e.touches),n=this.targetIds;if(t&(Pe|Se)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,o,s=y(e.changedTouches),r=[],l=this.target;if(o=i.filter(function(e){return g(e.target,l)}),t===Pe)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<s.length;)n[s[a].identifier]&&r.push(s[a]),t&(De|Ie)&&delete n[s[a].identifier],a++;return r.length?[k(o.concat(r),"identifier",!0),r]:void 0}function j(){P.apply(this,arguments);var e=d(this.handler,this);this.touch=new q(this.manager,e),this.mouse=new N(this.manager,e)}function W(e,t){this.manager=e,this.set(t)}function U(e){if(m(e,tt))return tt;var t=m(e,it),i=m(e,nt);return t&&i?it+" "+nt:t||i?t?it:nt:m(e,et)?et:Ze}function G(e){this.id=C(),this.manager=null,this.options=l(e||{},this.defaults),this.options.enable=h(this.options.enable,!0),this.state=at,this.simultaneous={},this.requireFail=[]}function Y(e){return e&ct?"cancel":e&rt?"end":e&st?"move":e&ot?"start":""}function J(e){return e==Ae?"down":e==Ee?"up":e==_e?"left":e==Oe?"right":""}function K(e,t){var i=t.manager;return i?i.get(e):e}function X(){G.apply(this,arguments)}function Q(){X.apply(this,arguments),this.pX=null,this.pY=null}function Z(){X.apply(this,arguments)}function ee(){G.apply(this,arguments),this._timer=null,this._input=null}function te(){X.apply(this,arguments)}function ie(){X.apply(this,arguments)}function ne(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return t=t||{},t.recognizers=h(t.recognizers,ae.defaults.preset),new oe(e,t)}function oe(e,t){t=t||{},this.options=l(t,ae.defaults),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.element=e,this.input=S(this),this.touchAction=new W(this,this.options.touchAction),se(this,!0),s(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function se(e,t){var i=e.element;i.style&&s(e.options.cssProps,function(e,n){i.style[w(i.style,n)]=t?e:""})}function re(e,i){var n=t.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var le=["","webkit","moz","MS","ms","o"],ce=t.createElement("div"),de="function",ue=Math.round,he=Math.abs,pe=Date.now,fe=1,ge=/mobile|tablet|ip(ad|hone|od)|android/i,me="ontouchstart"in e,ve=w(e,"PointerEvent")!==n,be=me&&ge.test(navigator.userAgent),ye="touch",ke="pen",we="mouse",Ce="kinect",Te=25,Pe=1,Se=2,De=4,Ie=8,xe=1,_e=2,Oe=4,Ee=8,Ae=16,Fe=_e|Oe,Me=Ee|Ae,Le=Fe|Me,Re=["x","y"],He=["clientX","clientY"];P.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var Ne={mousedown:Pe,mousemove:Se,mouseup:De},ze="mousedown",$e="mousemove mouseup";c(N,P,{handler:function(e){var t=Ne[e.type];t&Pe&&0===e.button&&(this.pressed=!0),t&Se&&1!==e.which&&(t=De),this.pressed&&this.allow&&(t&De&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:we,srcEvent:e}))}});var Ve={pointerdown:Pe,pointermove:Se,pointerup:De,pointercancel:Ie,pointerout:Ie},qe={2:ye,3:ke,4:we,5:Ce},Be="pointerdown",je="pointermove pointerup pointercancel";e.MSPointerEvent&&(Be="MSPointerDown",je="MSPointerMove MSPointerUp MSPointerCancel"),c(z,P,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),a=Ve[n],o=qe[e.pointerType]||e.pointerType,s=o==ye,r=b(t,e.pointerId,"pointerId");a&Pe&&(0===e.button||s)?0>r&&(t.push(e),r=t.length-1):a&(De|Ie)&&(i=!0),0>r||(t[r]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),i&&t.splice(r,1))}});var We={touchstart:Pe,touchmove:Se,touchend:De,touchcancel:Ie},Ue="touchstart",Ge="touchstart touchmove touchend touchcancel";c($,P,{handler:function(e){var t=We[e.type];if(t===Pe&&(this.started=!0),this.started){var i=V.call(this,e,t);t&(De|Ie)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ye,srcEvent:e})}}});var Ye={touchstart:Pe,touchmove:Se,touchend:De,touchcancel:Ie},Je="touchstart touchmove touchend touchcancel";c(q,P,{handler:function(e){var t=Ye[e.type],i=B.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ye,srcEvent:e})}}),c(j,P,{handler:function(e,t,i){var n=i.pointerType==ye,a=i.pointerType==we;if(n)this.mouse.allow=!1;else if(a&&!this.mouse.allow)return;t&(De|Ie)&&(this.mouse.allow=!0),this.callback(e,t,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=w(ce.style,"touchAction"),Xe=Ke!==n,Qe="compute",Ze="auto",et="manipulation",tt="none",it="pan-x",nt="pan-y";W.prototype={set:function(e){e==Qe&&(e=this.compute()),Xe&&this.manager.element.style&&(this.manager.element.style[Ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){u(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),U(e.join(" "))},preventDefaults:function(e){if(!Xe){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var n=this.actions,a=m(n,tt),o=m(n,nt),s=m(n,it);return a||o&&i&Fe||s&&i&Me?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var at=1,ot=2,st=4,rt=8,lt=rt,ct=16,dt=32;G.prototype={defaults:{},set:function(e){return r(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(o(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return o(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(o(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===b(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(o(e,"dropRequireFailure",this))return this;e=K(e,this);var t=b(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){i.manager.emit(i.options.event+(t?Y(n):""),e)}var i=this,n=this.state;rt>n&&t(!0),t(),n>=rt&&t(!0)},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=dt)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(dt|at)))return!1;e++}return!0},recognize:function(e){var t=r({},e);return u(this.options.enable,[this,t])?(this.state&(lt|ct|dt)&&(this.state=at),this.state=this.process(t),void(this.state&(ot|st|rt|ct)&&this.tryEmit(t))):(this.reset(),void(this.state=dt))},process:function(){},getTouchAction:function(){},reset:function(){}},c(X,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(ot|st),a=this.attrTest(e);return n&&(i&Ie||!a)?t|ct:n||a?i&De?t|rt:t&ot?t|st:ot:dt}}),c(Q,X,{defaults:{event:"pan",threshold:10,pointers:1,direction:Le},getTouchAction:function(){var e=this.options.direction,t=[];return e&Fe&&t.push(nt),e&Me&&t.push(it),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,a=e.direction,o=e.deltaX,s=e.deltaY;return a&t.direction||(t.direction&Fe?(a=0===o?xe:0>o?_e:Oe,i=o!=this.pX,n=Math.abs(e.deltaX)):(a=0===s?xe:0>s?Ee:Ae,i=s!=this.pY,n=Math.abs(e.deltaY))),e.direction=a,i&&n>t.threshold&&a&t.direction},attrTest:function(e){return X.prototype.attrTest.call(this,e)&&(this.state&ot||!(this.state&ot)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&this.manager.emit(this.options.event+t,e),this._super.emit.call(this,e)}}),c(Z,X,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ot)},emit:function(e){if(this._super.emit.call(this,e),1!==e.scale){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}}),c(ee,G,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(De|Ie)&&!o)this.reset();else if(e.eventType&Pe)this.reset(),this._timer=a(function(){this.state=lt,this.tryEmit()},t.time,this);else if(e.eventType&De)return lt;return dt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===lt&&(e&&e.eventType&De?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=pe(),this.manager.emit(this.options.event,this._input)))}}),c(te,X,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ot)}}),c(ie,X,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Fe|Me,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Fe|Me)?t=e.velocity:i&Fe?t=e.velocityX:i&Me&&(t=e.velocityY),this._super.attrTest.call(this,e)&&i&e.direction&&e.distance>this.options.threshold&&he(t)>this.options.velocity&&e.eventType&De},emit:function(e){var t=J(e.direction);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ne,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[et]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&Pe&&0===this.count)return this.failTimeout();if(n&&o&&i){if(e.eventType!=De)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,r=!this.pCenter||M(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,r&&s?this.count+=1:this.count=1,this._input=e;var l=this.count%t.taps;if(0===l)return this.hasRequireFailures()?(this._timer=a(function(){this.state=lt,this.tryEmit()},t.interval,this),ot):lt}return dt},failTimeout:function(){return this._timer=a(function(){this.state=dt},this.options.interval,this),dt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.4",ae.defaults={domEvents:!1,touchAction:Qe,enable:!0,inputTarget:null,inputClass:null,preset:[[te,{enable:!1}],[Z,{enable:!1},["rotate"]],[ie,{direction:Fe}],[Q,{direction:Fe},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ut=1,ht=2;oe.prototype={set:function(e){return r(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?ht:ut},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&lt)&&(a=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],t.stopped===ht||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(e),!a&&i.state&(ot|st|rt)&&(a=t.curRecognizer=i),o++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(o(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(o(e,"remove",this))return this;var t=this.recognizers;return e=this.get(e),t.splice(b(t,e),1),this.touchAction.update(),this},on:function(e,t){var i=this.handlers;return s(v(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this},off:function(e,t){var i=this.handlers;return s(v(e),function(e){t?i[e].splice(b(i[e],t),1):delete i[e]}),this},emit:function(e,t){this.options.domEvents&&re(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(ae,{INPUT_START:Pe,INPUT_MOVE:Se,INPUT_END:De,INPUT_CANCEL:Ie,STATE_POSSIBLE:at,STATE_BEGAN:ot,STATE_CHANGED:st,STATE_ENDED:rt,STATE_RECOGNIZED:lt,STATE_CANCELLED:ct,STATE_FAILED:dt,DIRECTION_NONE:xe,DIRECTION_LEFT:_e,DIRECTION_RIGHT:Oe,DIRECTION_UP:Ee,DIRECTION_DOWN:Ae,DIRECTION_HORIZONTAL:Fe,DIRECTION_VERTICAL:Me,DIRECTION_ALL:Le,Manager:oe,Input:P,TouchAction:W,TouchInput:q,MouseInput:N,PointerEventInput:z,TouchMouseInput:j,SingleTouchInput:$,Recognizer:G,AttrRecognizer:X,Tap:ne,Pan:Q,Swipe:ie,Pinch:Z,Rotate:te,Press:ee,on:p,off:f,each:s,merge:l,extend:r,inherit:c,bindFn:d,prefixed:w}),typeof define==de&&define.amd?define("hammer",function(){return ae}):"undefined"!=typeof module&&module.exports&&(module.exports=ae),e[i]=ae}(window,document,"Hammer");define("uitk_polyfill_placeholder",["uitk_domReady"],function(e){var t=function(){"use strict";function e(e){var t;e.createTextRange?(t=e.createTextRange(),t.move("character",0),t.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(0,0))}function t(){var t;this.value===this.getAttribute("placeholder")&&(f.hideOnFocus?(this.className=this.className.replace(m,""),this.value="",t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)):e(this))}function i(){var e;""===this.value&&(this.className=this.className+" "+f.className,this.value=this.getAttribute("placeholder"),e=this.getAttribute("data-placeholdertype"),e&&(this.type="text"))}function n(){var e,t,i,n=this.getElementsByTagName("input"),a=this.getElementsByTagName("textarea"),o=n.length,s=o+a.length;for(i=0;i<s;i+=1)e=i<o?n[i]:a[i-o],t=e.getAttribute("placeholder"),e.value===t&&(e.value="")}function a(e){return h=this.value,!(h===this.getAttribute("placeholder")&&g.indexOf(e.keyCode)>-1)}function o(){var t;this.value!==h&&(this.className=this.className.replace(m,""),this.value=this.value.replace(this.getAttribute("placeholder"),""),t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)),""===this.value&&(i.call(this),e(this))}function s(e,t,i){return e.addEventListener?e.addEventListener(t,i.bind(e),!1):e.attachEvent?e.attachEvent("on"+t,i.bind(e)):void 0}function r(e){f.hideOnFocus||(s(e,"keydown",a),s(e,"keyup",o)),s(e,"focus",t),s(e,"blur",i)}function l(){var e,t,i,a,o,l=document.getElementsByTagName("input"),c=document.getElementsByTagName("textarea"),d=l.length,u=d+c.length;for(e=0;e<u;e+=1)i=e<d?l[e]:c[e-d],o=i.getAttribute("placeholder"),p.indexOf(i.type)>-1&&o&&(a=i.getAttribute("data-currentplaceholder"),o!==a&&(i.value!==a&&i.value!==o&&i.value||(i.value=o,i.className=i.className+" "+f.className),a||(i.form&&(t=i.form,t.getAttribute("data-placeholdersubmit")||(s(t,"submit",n),t.setAttribute("data-placeholdersubmit","true"))),r(i)),i.setAttribute("data-currentplaceholder",o)))}function c(){var e,t,i,a,o=document.getElementsByTagName("input"),l=document.getElementsByTagName("textarea"),c=o.length,d=c+l.length;for(e=0;e<d;e+=1)if(t=e<c?o[e]:l[e-c],a=t.getAttribute("placeholder"),p.indexOf(t.type)>-1&&a){if("password"===t.type)try{t.type="text",t.setAttribute("data-placeholdertype","password")}catch(u){}t.setAttribute("data-currentplaceholder",a),""!==t.value&&t.value!==a||(t.className=t.className+" "+f.className,t.value=a),t.form&&(i=t.form,i.getAttribute("data-placeholdersubmit")||(s(i,"submit",n),i.setAttribute("data-placeholdersubmit","true"))),r(t)}}function d(e){var t,i,n,a,o,s=document.createElement("input");if("undefined"==typeof s.placeholder){for(t in e)e.hasOwnProperty(t)&&(f[t]=e[t]);i=document.createElement("style"),i.type="text/css";var r=f.styleImportant?"!important":"";return n=document.createTextNode("."+f.className+" { color:"+f.textColor+r+"; }"),i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),document.getElementsByTagName("head")[0].appendChild(i),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(a=t||0,o=this.length;a<o;a+=1)if(this[a]===e)return a;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),c(),f.live&&(u=setInterval(l,100)),!0}return!1}var u,h,p=["text","search","url","tel","email","password","number","textarea"],f={live:!1,hideOnFocus:!1,className:"placeholderspolyfill",textColor:"#757575",styleImportant:!0},g=[37,38,39,40],m=new RegExp("\\b"+f.className+"\\b");return{init:d,refresh:l}}();return t}),define("uitk",["uitk_domReady","jquery","uitk_i18n","handlebars","hbsHelpers"],function(e,t,i,n){"use strict";function a(e,t){e.val()?t.prop("disabled",!1):t.prop("disabled",!0)}var o,s,r,l,c,d,u,h,p,f,g,m,v,b,y,k,w,C,T,P,S,D,I,x,_,O,E,A,F,M,L,R,H,N,z,$,V,q=document.getElementsByTagName("html")[0].getAttribute("data-version"),B=!1,j=Modernizr.touch,W=Modernizr.win8touch,U=Modernizr.checkedselector,G=Modernizr.mediaqueries,Y=Modernizr.placeholder,J=j||W,K={},X={},Q=t("body"),Z="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable], body",ee={desktop:"(min-width: 60em)",tablet:"(min-width: 45.375em) and (max-width: 59.938em)",smallTablet:"(min-width: 30.688em) and (max-width: 45.313em)",mobile:"(max-width: 30.625em)"},te=t(window),ie="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",ne=t("html").data("language"),ae=ne.split("-");c=ae[0],ae[1]&&(c+="_"+ae[1].toUpperCase()),i&&(i.locale=c),r=function(e){e&&(X[e.toString()]=!0)},s=function(e){e&&!!X[e.toString()]&&delete X[e.toString()]},o=function(){m.init(),y(),P(),S.init()},v=function(){var e=0;return function(){return e++,"uitkId"+e}}(),l="click";var oe,se,re,le,ce;return re=function(e){if(!e.data||e.data&&!e.data.eventId)return!1;var i=e.data.eventId,n=e.handleObj.selector?t(e.target).closest(e.handleObj.selector):t(e.currentTarget),a=n.data("eventStorage");return a||(a={}),a[i]||(a[i]={preventDoubleClick:!1}),n.data("eventStorage",a),a[i]},ce=function(e){clearTimeout(oe),se=!0,oe=setTimeout(function(){se=!1},1e3),clearTimeout(e.touchEventTimeout),e.touchEventFlag=!0,e.touchEventTimeout=setTimeout(function(){e.touchEventFlag=!1},1e3)},le=function(e){e.preventDoubleClick=!0,setTimeout(function(){e.preventDoubleClick=!1},200)},t.event.special.uitkMouseenter={bindType:"mouseover",delegateType:"mouseover",handle:function(e){var i=null,n=re(e),a=n?n.touchEventFlag:se;return a||(i=t.event.special.mouseenter.handle.call(this,e)),i}},t.event.special.uitkMouseleave={bindType:"mouseout",delegateType:"mouseout",handle:function(e){var i=null,n=re(e)||{},a=n?n.touchEventFlag:se;return a||(i=t.event.special.mouseleave.handle.call(this,e)),i}},D=function(e){setTimeout(function(){window.location.href=e},0)},x=function(e,t,i){var n=t.attr("href"),a=new Function(e).call(t[0]),o=uitk.utils.keyIsDown(91)||uitk.utils.keyIsDown(17)||i&&i.metaKey,s=n&&"#"!==n&&""!==n;return a!==!1&&s?o?a:(i&&i.preventDefault(),uitk.redirect(n),a):(i&&i.preventDefault(),!1)},I=function(e){var i=t(e.target).closest("[data-onclick]");uitk.dataOnclick.runOnclickFunction(i.data("onclick"),i,e)},Q.on(l+".onclick","[data-onclick]",I),p=function(e,i,n,a,o){var s="uitk_toggle";Q.on(l+".toggle",e,{preventDoubleClick:!0},function(r){var l,c,d=t(r.target).closest(e);r.preventDefault(),d[s](),c=d.data(s).state,"closed"===c?(i&&i(d),d[s]("open"),n&&n(d)):"open"===c&&(a&&a(d),o&&(l=uitk.subscribe("toggle.closed",function(e,t){t[0]===d[0]&&(o(d),uitk.unsubscribe("toggle.closed",l))})),d[s]("close"))})},d={topics:{},lastToken:0,topic:function(e){var t=this.topics;return t[e]||(t[e]=[]),t[e]},publish:function(e){var t,i,n,a,o,s=d.topics[e],r=arguments.length,l=[];if(s){for(o=0;o<r;o+=1)l.push(arguments[o]);for(t=s.length,o=t-1;o>=0;o-=1)i=s[o],n=i.context,a=i.callback,"function"==typeof a&&a.apply(n,l)}},subscribe:function(e,t,i){var n,a,o,s,r=arguments.length,l=2,c=t,u=d.lastToken++;if("function"==typeof t&&(c=null,l=1),arguments.length>l)for(s=l;s<r;s+=1)n=arguments[s],"function"==typeof n&&(a=d.topic(e),o=a.length,a.push({context:c,callback:arguments[s],token:u.toString()}));return/^throttled\../.test(e)&&a&&a.length>0&&C(e.split(".")[1],100),u.toString()},unsubscribe:function(e){var t,i,n,a,o=d.topics[e],s=arguments.length;if(s>1&&o){for(n=1;n<s;n+=1)if(t=o.length,i=arguments[n],"function"==typeof i)for(a=t-1;a>=0;a-=1)o[a].callback===i&&o.splice(a,1);else if("string"==typeof i)for(a=t-1;a>=0;a-=1)o[a].token===i&&o.splice(a,1)}else 1===s&&o&&delete d.topics[e];o=d.topics[e],/^throttled\../.test(e)&&o&&0===o.length&&T(e.split(".")[1])}},u=function(e,i){var n,a,o={transition:"fade",publish:!0},s=i?t.extend(!0,{},o,i):o,r=Modernizr.csstransitions;if(n=function(){"function"==typeof d.publish&&(s.publish&&d.publish("remove",e),s.topic&&d.publish(s.topic,e))},a=t(document.activeElement),e.is(a)||e.find(a).length>0){var l=e.next(),c=l.length>0?l:e.parent();e.blur(),uitk.utils.focusElement(c)}"none"!==s.transition&&r?(e.addClass("remove-animated animated-fade"),e.one(uitk.utils.transitionEnd=ie,function(){e.empty().remove(),n()})):(e.empty().remove(),n())},Q.on(l+".remove","[data-control=remove]",function(e){var i=t(e.target).closest("[data-control=remove]"),n=i.data(),a=t(n.targetId?"#"+n.targetId:this);e.preventDefault(),uitk.remove(a,n)}),h=function(e,t){var i=t||{};d.publish("addNode",e,i)},Q.on(l+".add","[data-control=add]",function(e){var i=t(e.target).closest("[data-control=add]"),n=i.data(),a=n.templateId;e.preventDefault(),uitk.addNode(a,n)}),m=function(){var e={},i="placeholderspolyfill";return"undefined"==typeof Placeholders||Y?(e.init=function(){},e.refresh=function(){},e.updateClass=function(){},e.getInputValue=function(e){return e.val()},e.updateInputValue=function(e,t){e.val(t)}):(e.init=function(){Placeholders.init({styleImportant:!1,hideOnFocus:!0})},e.refresh=function(){Placeholders.refresh()},e.updateClass=function(e){e.each(function(){var e=t(this);e.attr("placeholder")!==e.attr("value")?e.removeClass(i):e.addClass(i)})},e.getInputValue=function(e){return e.val()===e.attr("placeholder")?"":e.val()},e.updateInputValue=function(e,t){t?(e.val(t),e.removeClass(i)):(e.val(e.attr("placeholder")),e.addClass(i))}),e}(),Q.on(l,'[data-control="clear-field"]',function(e){var n=t(this),a=t(e.target),o=a.closest(".input-btn-group"),s=o.find("input");e.preventDefault(),s.val(""),n.find(".field-value").text(""),uitk.utils.liveAnnounce(i.t("field_cleared")),uitk.publish("Input cleared",{$elem:s}),L(s),a.prop("disabled",!0)}),Q.on("keyup",".clear-btn-input",function(e){var i=t(e.target),n=i.closest(".input-btn-group"),o=n.find(".btn-clear"),s=o.find(".field-value"),r=n.find("input").val();s.text()!==r&&s.text(r),a(i,o)}),M=function(){var e=t(".clear-btn-input");uitk.refreshPlaceholders(),uitk.initCalendarInputs&&uitk.initCalendarInputs(),uitk.initDatePickerInputs&&uitk.initDatePickerInputs(),e.each(function(){var e=t(this),i=e.closest(".input-btn-group").find(".btn-clear");a(e,i)})},f={getFutureDateAsString:function(e,t){return e.setTime(e.getTime()+24*t*60*60*1e3),e.toGMTString()},createCookie:function(e,t,i){var n,a,o;i?(n=new Date,a=uitk.getFutureDateAsString(n,i),o="; expires="+a):o="",document.cookie=e+"="+t+o+"; path=/",i&&i<0?d.publish("cookie.deleted",e):d.publish("cookie.created",{name:e,value:t,days:i,expires:a})},readCookie:function(e){var t,i=e+"=",n=document.cookie.split(";"),a=n.length,o=0;for(o=0;o<a;o++){for(t=n[o];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(i))return t.substring(i.length,t.length)}return null},deleteCookie:function(e){uitk.createCookie(e,"",-1)}},g={publishState:function(e,t,i){var n="media."+e;d.publish(n,t,i)},embedVideo:function(e){var t,i=arguments;if("youtube"===e)return t=g.embedYoutube(i[1],i[2],i[3],i[4])},loadYoutubeApi:function(){uitk.youtubeApiDefer=t.Deferred();var e="//www.youtube.com/iframe_api",i=document.createElement("script"),n=document.getElementsByTagName("script")[0];i.src=e,n.parentNode.insertBefore(i,n)},embedYoutube:function(e,i,n,a){var o,s,r,l=t.Deferred();return uitk.youtubeApiDefer||g.loadYoutubeApi(),s={autohide:1,showinfo:1,fs:1,modestbranding:1,rel:0,theme:"light",enablejsapi:1},i=i?t.extend(!0,{},s,i):s,r=function(t){var i=t.data;switch(i){case 1:g.publishState("started","youtube",e);break;case 0:g.publishState("ended","youtube",e)}},uitk.youtubeApiDefer.done(function(){o=new YT.Player(n,{height:"",width:"",videoId:e,playerVars:i,events:{onReady:a,onStateChange:r}}),l.resolve(o)}),l.promise()},createVideoObject:function(e,t){var i;return i="youtube"===e?{videoObj:t,type:e,playVideo:function(){t.playVideo()},rewindVideo:function(){5!==t.getPlayerState()&&t.seekTo(0,!0)},pauseVideo:function(){t.pauseVideo()},stopVideo:function(){t.stopVideo()}}:{}}},S=function(){var e,t,i,n,a,o,s,r,l,c,u=Modernizr.highres,h=window.matchMedia||window.msMatchMedia,p=Modernizr.mediaqueries,f=Modernizr.mq,g={};return r=function(e,t){return{mediaQuery:e.media,key:t,retina:u,screenWidth:te.width(),orientation:window.orientation}},l=function(){return g},c=function(e,t){g[t]=e},e=function(e){d.publish("mediaquery.matched",e)},t=function(){n(!0)},i=function(t,i){f(t.media)&&e(r(t,i))},n=function(t){var i,n,a,o=l();for(i in o)o.hasOwnProperty(i)&&(n=o[i],
a=f(n.media),!a||n.currentMatch===!0&&t!==!0?a||(n.currentMatch=!1):(e(r(n,i)),n.currentMatch=!0))},o=function(){var e;return h?e=function(e,t){var n,a,o,s=l();s[t]?n=s[t]:(n=h(e),c(n,t)),a=function(){h(n.media).matches&&(clearTimeout(o),o=setTimeout(function(){i(n,t)},100))},n.addListener(a),void 0!==window.orientation&&window.addEventListener&&window.addEventListener("orientationchange",a),i(n,t)}:p?(d.subscribe("debounced.resize",n),e=function(e,t){var n,a=l();a[t]?n=a[t]:(n={media:e,currentMatch:!1},c(n,t)),i(n,t)}):e=function(){},e}(),a=function(){var e,t=arguments.length,i=arguments[0];if(2===t)S.registerSingle(i,arguments[1]);else if(1===t&&"object"==typeof i)for(e in i)i.hasOwnProperty(e)&&S.registerSingle(i[e],e)},s=function(){if(p)a(ee);else{var t={};t.media=ee.desktop,e(t,"desktop")}},{init:s,register:a,registerSingle:o,getData:r,getMediaQueries:l,publish:e,publishAgain:t}}(),b=function(e,i){var a,o,s=e.replace(/^#/,"");if(a=n.templates[e+".hbs"]||n.templates[e],!a)if(a=n.templates[s+".hbs"]||n.templates[s])e=s;else{if(o=t(e),!(o.length>0))return void console.log("ERROR: No template found");a=n.compile(o.html())}return i&&n.registerPartial(e,a),a},y=function(){var e,i,n,a=document.documentElement.clientWidth,o=document.documentElement.clientHeight;te.resize(function(){e&&clearTimeout(e),e=setTimeout(function(){document.documentElement.clientWidth===a&&document.documentElement.clientHeight===o||(a=document.documentElement.clientWidth,o=document.documentElement.clientHeight,d.publish("debounced.resize"))},100)});var l,c,u=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(l=function(){var e=document.documentElement,t=document.body;return Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight))},t(document).keydown(function(e){r(e.which),n&&clearTimeout(n),n=setTimeout(function(){d.publish("debounced.keydown",{key:e.which})},10)}),t(document).keyup(function(e){s(e.which),i&&clearTimeout(i),i=setTimeout(function(){d.publish("debounced.keyup",{key:e.which})},10)}),"undefined"!=typeof u){var h=new u(function(e){e.every(function(e){0!==e.addedNodes.length?d.publish("debounced.bodyResize"):0!==e.removedNodes.length&&d.publish("debounced.bodyResize")})}),p={attributes:!0,childList:!0,subtree:!0,characterData:!0};h.observe(Q[0],p)}else{var f=function(){setTimeout(function(){c!==l()&&(c=l(),d.publish("debounced.bodyResize")),f()},500)};f()}},k=function(e){var i;t(e).scroll(function(){i&&clearTimeout(i),i=setTimeout(function(){d.publish("debounced.scroll")},150)})},k(window),k("[data-scroll-area]"),w=function(e,t,i){t=t||100;var n,a=0;return function(){var o=i||this,s=(new Date).getTime(),r=a+t-s,l=arguments;a&&r>0?(clearTimeout(n),n=setTimeout(function(){a=(new Date).getTime(),n=null,e&&e.apply(o,l)},r)):(a=s,clearTimeout(n),n=null,e&&e.apply(o,l))}},C=function(e,t){var i="throttled."+e;if(d.topic(i).length&&!C.boundTo[e]){var n=w(function(){d.publish(i,arguments)},t);te.on(e,n),C.boundTo[e]=n}},C.boundTo={},T=function(e){C.boundTo[e]&&(te.off(e,C.boundTo[e]),C.boundTo[e]=null)},P=function(){var e='input[data-autoselect="touch"]';J&&(Q.on("focus",e,function(i){var n=t(i.target).closest(e);n&&setTimeout(function(){n[0].setSelectionRange(0,9999)},50)}),Q.on("mouseup",e,function(e){e.preventDefault()}))},_=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!==e&&e.length>=4?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:[]}return[]},O=function(){var e=document.querySelector&&document.querySelector('meta[name="viewport"]'),t=navigator.userAgent,i=function(){e.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};e&&_()[0]<=5&&!/Opera Mini/.test(t)&&(e.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",document.addEventListener("gesturestart",i,!1))}(),E=function(e,t,i,n){throw window.expClientLogging&&window.expClientLogging.logMessage&&expClientLogging.logMessage(i+"Error",["errorName="+n.name,"errorMessage="+n.message,"stackTrace="+n.stack,"file="+e,"module="+t,"function="+i]),n},A=function(e){var i,n=e[0],a=0,o=0,s=!1;for(i=n;null!==i;i=i.offsetParent)a+=Math.floor(i.offsetLeft),o+=Math.floor(i.offsetTop),"fixed"===t(i).css("position")&&(s=!0);return s&&(o+=te.scrollTop()),{left:a,top:o}},F=function(){var e,t=uitk.version.split("."),i=t[0].replace("v",""),n=t[1],a=t[3];return e="local"===t[3]?"/static/core/":"SNAPSHOT"===t[4]?"//a.travel-assets.com/uitoolkit/SNAPSHOT/"+i+"-"+n+"/"+a+"/core/":"//a.travel-assets.com/uitoolkit/"+i+"-"+n+"/"+a+"/core/"},L=function(e){return e.is(Z)||e.attr("tabindex","-1").addClass("no-outline"),e.focus(),e},R=function(e){return e.find(Z).filter(":visible:not([tabindex=-1]):not(.uitk-focus-trap)")},H=function(e){var t=!1;return!e.is(document)&&e.is(Z)&&(t=!0),t},N=function(){return Z},z=function(e){return isNaN(e)&&(e=parseInt(e)),!!X[e.toString()]},$=function(e,i){var n=t("#uitk-live-announce");return i=i||"assertive",n.length>0&&(n.empty(""),n.attr("aria-live",i),"object"==typeof e&&e.jquery?n.text(e.text()):"string"==typeof e&&(e=t("<div></div>").append(e).text(),n.text(e)),n)},V=function(e){return t("<textarea/>").html(e).text()},window.uitk={init:o,supportsChecked:U,version:q,readyState:B,locale:c,redirect:D,dataOnclick:{runOnclickFunction:x,dataOnclickHandler:I},publish:d.publish,subscribe:d.subscribe,unsubscribe:d.unsubscribe,remove:u,addNode:h,getFutureDateAsString:f.getFutureDateAsString,createCookie:f.createCookie,readCookie:f.readCookie,deleteCookie:f.deleteCookie,customToggle:p,refreshPlaceholders:m.refresh,updatePlaceholderClass:m.updateClass,updatePlaceholderValue:m.updateInputValue,getPlaceholderValue:m.getInputValue,prepFields:M,embedVideo:g.embedVideo,createVideoObject:g.createVideoObject,createUniqueId:v,isTouchDevice:J,getCompiledTemplate:b,registerScrollArea:k,hasTouch:j,clickEvent:l,getEventStorage:re,isResponsive:G,iosVersion:_,mediaquery:S,logError:E,corePath:F,getPosition:A,modules:{},timestamps:K,utils:{focusElement:L,focusableElements:R,isFocusableElement:H,getFocusableElementSelector:N,keyIsDown:z,liveAnnounce:$,throttle:w,htmlDecode:V},modelGenerators:{}},window.uitk}),require(["uitk"],function(e){"use strict";e.init()}),define("uitk_focus",["jquery","uitk"],function(e,t){"use strict";var i=!document.removeEventListener&&!!document.activeElement,n=function(){function e(){s=setTimeout(function(){try{o!=document.activeElement&&c&&c.apply(),r&&e()}catch(t){}},1)}function t(){l&&!r&&(i(),r=!0,e())}function i(){l&&(r=!1,clearTimeout(s))}function n(e){c=e||function(){},l=!0}function a(){c=null,l=!1}var o="",s=-1,r=!1,l=!1,c=function(){};return{start:t,stop:i,init:n,uninit:a,initialized:function(){return l}}},a=function(){function a(e){f=e}function o(){return"uitk.focusCapture"}function s(){var i=t.utils.focusableElements(e(f)),n="";n=t.utils.keyIsDown(16)?i.last():i.first(),n&&t.utils.focusElement(e(n))}function r(i){var n="h1,h2,h3,h4,h5,h6";i&&(n=n+","+t.utils.getFocusableElementSelector()),t.utils.focusElement(e(f).find(n).filter(":visible:not(.uitk-focus-trap)").first()),p.initialized()&&p.start()}function l(e){e?t.utils.focusElement(e):window.focus(),p.initialized()&&p.stop()}function c(i){var n=document.activeElement||i.target,a=e(f)[0];t.publish(o(),{focused:n,isContainedInContext:!!a&&!e(n).hasClass(g)&&e.contains(a,n)||!1,container:a})}function d(){i?p.init(c):document.addEventListener("focus",c,!0)}function u(){i?p.uninit():document.removeEventListener("focus",c,!0)}function h(t){var i=document.createElement("span"),n=e(f)[0];i.className=g+" visuallyhidden",i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","0"),"top"===t?n.insertBefore(i,n.firstChild):n.appendChild(i)}var p=n(),f="body",g="uitk-focus-trap";return{focus:s,firstFocus:r,blur:l,enable:d,disable:u,focusEvent:o,setFocusContextSelector:a,injectFocusTrap:h}};return t.createFocus=function(){return a()},a}),define("uitk_browserStorage",["uitk_domReady","uitk"],function(e,t){"use strict";function i(e){var t=this;if(!h[e])throw new Error("UITK Html5BrowserStorage: 'type' must be '"+s+"' or '"+r+"' and not '"+e+"'");t.type=e,t.endpoint=h[e].endpoint}function n(e,i){var n=this;if(e!==l&&e!==c)throw new Error("UITK CookieBrowserStorage: 'type' must be '"+l+"' or '"+c+"' and not '"+e+"'");n.type=e,n.storage={},n.endpoint={setItem:function(e,n,a){a=a||i,t.createCookie(e,n,a)},getItem:function(e){return t.readCookie(e)},removeItem:function(e){return t.deleteCookie(e)}}}function a(){var e=this;e.type=d,e.storage={},e.endpoint={setItem:function(t,i){e.storage[t]=i},getItem:function(t){return e.storage.hasOwnProperty(t)?e.storage[t]:null},removeItem:function(t){e.storage.hasOwnProperty(t)&&delete e.storage[t]}}}var o="UITK BrowserStorage",s="local",r="session",l="persistentCookies",c="sessionCookies",d="page",u={saveItem:function(e,t,i){var n=this.type,a=" saveItem(key, value, expiry): ";if("string"!=typeof e)throw new TypeError(o+a+"'key' must be a string");if("string"!=typeof t&&n!==d)throw new TypeError(o+a+"'value' must be a string");if(i&&"number"!=typeof i&&(n===l||n===c))throw new TypeError(o+a+"'expiry' must be a number");this.endpoint.setItem(e,t,i)},saveItems:function(e,t){if("object"!=typeof e)throw new TypeError(o+" saveItems(keyValueObj): 'keyValueObj' must be an object");for(var i in e)e.hasOwnProperty(i)&&this.saveItem(i,e[i],t)},saveAsJSON:function(e,t,i){JSON&&this.saveItem(e,JSON.stringify(t),i)},readItem:function(e){if("string"==typeof e)return this.endpoint.getItem(e);throw new TypeError(o+" readItem(key): 'key' must be a string")},readJSONAsObject:function(e){return jQuery.parseJSON(this.readItem(e))},doesKeyExist:function(e){return null!==this.readItem(e)},deleteItem:function(e){if("string"!=typeof e)throw new TypeError(o+" deleteItem(key): 'key' must be a string");this.endpoint.removeItem(e)},deleteItems:function(e){var t,i=this,n=e.length;for(t=0;t<n;t+=1)i.endpoint.removeItem(e[t])}},h={},p=Modernizr.localstorage,f=Modernizr.sessionstorage;return h[s]={available:p,endpoint:p?window.localStorage:{},fallback:d},h[r]={available:f,endpoint:f?window.sessionStorage:{},fallback:d},i.prototype=u,i.prototype.constructor=i,n.prototype=u,n.prototype.constructor=n,a.prototype=u,a.prototype.constructor=a,t.createBrowserStorage=function(e){var t,o,u=arguments,p=u[1],f=u[2];if("string"==typeof p?(t=p,"number"==typeof f&&(o=f)):"number"==typeof p&&(o=p),t&&t!==l&&t!==c&&t!==d)throw new Error("uitk.createBrowserStorage: 'fallback' must be '"+l+"', '"+c+"', '"+d+"' or '' and not '"+t+"'");if(e===s||e===r){if(h[e].available)return new i(e);e=t||h[e].fallback}if(e===c)return new n(e);if(e===l)return o=o||365,new n(e,o);if(e===d)return new a;throw new Error("uitk.createBrowserStorage: 'type' must be '"+s+"', '"+r+"', '"+l+"', '"+c+"' or '"+d+"' and not '"+e+"'")},t}),define("uitk_abacus",["uitk","uitk_i18n","uitk_browserStorage"],function(e,t){"use strict";var i,n,a,o,s,r,l,c="uitk_ab_",d=e.createBrowserStorage("session");return o=function(e){var t=/^.{8}(-.{4}){3}-.{12}$/,i=e.match(t)?e:e.slice(0,8)+"-"+e.slice(8,12)+"-"+e.slice(12,16)+"-"+e.slice(16,20)+"-"+e.slice(20);return i},n=function(){if(!i){var t,n="undefined"!=typeof dctk,a=e.readCookie("MC1")||e.readCookie("mc1");a?t=a.split("GUID=")[1]:n&&dctk._guid?t=dctk._guid:"undefined"!=typeof utag_data&&"undefined"!=typeof utag_data.context&&"undefined"!=typeof utag_data.context.user?t=utag_data.context.user.guid:console.log("uitk abacus error: guid not found"),i=t?o(t):t}return i},a=function(e){i=e},s=function(t){require(["dctk/dctk"],function(i){var n=t,a=e.abacus._getGuid(),o=parseInt(t.id);a&&o&&i.evaluateExperiment({guid:a,tpid:1,eapid:0,id:o,pageName:"uitk",callback:function(e){var t=e.value,i=e.error,s={id:o,bucket:t};i?console.log("uitk abacus evaluation error for experiment "+o+": "+i):(d.saveAsJSON(c+o,{abacusData:s,guid:a}),n.successCallback.call(n.successContext||this,s))}})})},r=function(t){require(["dctk/dctk"],function(i){var n=e.abacus._getGuid(),a=parseInt(t.id),o=t.logToOmniture||!1,s=t.pageName||"uitk";n&&a&&i.logExperiment({guid:n,tpid:1,eapid:0,pageName:s,id:a,logToOmniture:o,callback:function(e){var t=e?e.error:void 0;t&&console.log("uitk abacus logging error for experiment "+a+": "+t)}})})},l=function(t){require(["dctk/dctk"],function(){var i=d.readJSONAsObject(c+t.id),n=e.abacus._getGuid();i&&i.guid===n?t.successCallback.call(t.successContext||this,i.abacusData):e.abacus._evaluateExperiment(t)})},e.abacus={_convertGuid:o,_getGuid:n,_setStoredGuid:a,_evaluateExperiment:s,logExperiment:r,addExperiment:l},require(["dctk/dctk"],function(e){var t,i,n=["page.uitk.docs","page.car.search.list"];"undefined"!=typeof e.logging&&(t=e.logging.pageName),"undefined"!=typeof Array.prototype.indexOf&&(i=n.indexOf(t)>-1),i&&l({id:12383,successCallback:function(e){$("html").addClass("uitk-ab"+e.id+"-"+e.bucket),r(e)}})}),require(["dctk/dctk"],function(e){var t,i,n=["page.uitk.docs","page.car.search.list","page.Flight-Search-Roundtrip.Out","page.Flight-Search-Roundtrip.In","page.Flight-Search-Oneway","page.Flight-Search-MDest"];"undefined"!=typeof e.logging&&(t=e.logging.pageName),"undefined"!=typeof Array.prototype.indexOf&&(i=n.indexOf(t)>-1),i&&l({id:12403,successCallback:function(e){$("html").addClass("uitk-ab"+e.id+"-"+e.bucket),r(e)}})}),e.abacus}),define("uitk_plugins",["jquery"],function(e){"use strict";function t(t,i,n){var a;this.element=e(t),i=i||{},a=this.element.data()||{},this.options=e.extend(!0,{},n,a,i),this.init&&this.init()}function i(t,i){e.fn[t]=function(){var n,a,o,s;return"object"==typeof arguments[0]?(n=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3]):(n={},a=arguments[0],o=arguments[1],s=arguments[2]),this.each(function(){e.data(this,t)||e.data(this,t,new i(this,n)),"string"==typeof a&&e.data(this,t)[a](o,s)})}}return{newModule:t,initPlugin:i}}),define("uitk_date",["jquery","uitk","uitk_messages"],function(e,t,i){"use strict";return"undefined"==typeof i&&(i={}),"undefined"==typeof i.core&&(i.core={}),"undefined"==typeof i.core.date&&(i.core.date={}),i.core.date.Calendar=function(e){var t={config:e,rM:[31,28,31,30,31,30,31,31,30,31,30,31],getDateFormat:function(){return this.config.getDateFormat()},getDateSeparator:function(){return this.config.getDateSeparator()},getStartOfWeek:function(){return this.config.getStartOfWeek()},getDateFromString:function(e,t){if(!e||!e.length)return null;if(e=e.replace(/\s+/g,""),e.match(/[^-|\d|\.|\/]/))return null;for(var i=e.split(/-|\.|\//),n=0;n<i.length;n++)i[n]=parseInt(i[n],10);if(!i[1])return null;var a,o,s,r=this.getDateFormat();if("yymmdd"===r){if(!i[2])return null;a=i[1],o=i[2],s=i[0]}else"mmddyy"===r?(a=i[0],o=i[1]):(a=i[1],o=i[0]),s=i[2]?i[2]:this.DefYr(a-1,o);var l=(new Date).getFullYear();return a-=1,s.toString().length<=2&&(s+=2e3),s<l&&!t&&(s=l),s<1601||s>4500||a<0||a>11||o<1||o>this.getMonthCount(a,s)?null:new Date(s,a,o)},toStringFromComp:function(e,t,i){function n(e){return e<10?"0"+e:e}var a="",o=this.getDateSeparator(),s=this.getDateFormat();return e=n(e),t=n(t),a="mmddyy"===s?t+o+e+o+i:"ddmmyy"===s?e+o+t+o+i:i+o+t+o+e},toStringFromDate:function(e){var t="",i=this.getDateSeparator(),n=this.getDateFormat(),a=e.getMonth()+1,o=e.getDate(),s=e.getFullYear();return t="mmddyy"===n?a+i+o+i+s:"ddmmyy"===n?o+i+a+i+s:s+i+a+i+o},IsLY:function(e){return 0===e%4&&(e%100!==0||e%400===0)},DefYr:function(e,t){var i=new Date,n=i.getYear()<1e3?1900+i.getYear():i.getYear();return(e<i.getMonth()||e===i.getMonth()&&t<i.getDate())&&n++,n},getMonthCount:function(e,t){var i=this.rM[e];return 1===e&&this.IsLY(t)&&i++,i},IsLastDayOfMonth:function(e){return this.getMonthCount(e.getMonth(),e.getFullYear())===e.getDate()},incrementMonth:function(e){return 11===e.getMonth()?(e.setMonth(0),e.setFullYear(e.getFullYear()+1)):e.setMonth(e.getMonth()+1),e},decrementMonth:function(e){return 0===e.getMonth()?(e.setMonth(11),e.setFullYear(e.getFullYear()-1)):e.setMonth(e.getMonth()-1),e}};return t},i.core.date.DateUpdater=function(n,a){var o,s={config:a,calendar:n,register:function(t,i,n,a,s,r,l){n=n||0;var c=e("body"),d=e(t),u=e(i),h=this.calendar.getDateFromString(d[0].value,l),p=this.calendar.getDateFromString(u[0].value,l),f=this.calendar.getDateSeparator(),g=this.calendar.getDateFormat();g=g.substring(0,2)+f+g.substring(2,4)+f+g.substring(4,6);var m=new Date;m.setHours(0,0,0,0),l||(h&&h.valueOf()<m.valueOf()&&(d[0].value=g),p&&p.valueOf()<m.valueOf()&&(u[0].value=g)),o=this;var v=function(){o.update("#"+t.id,"#"+i.id,n,a,r,l)},b=function(){o.updateByNights(d[0],u[0],n,l),o.update(d[0],u[0],n,a,null,l)};c.on("blur","#"+t.id,v),c.on("focus","#"+t.id,v),c.on("blur","#"+i.id,v),c.on("focus","#"+i.id,v);var y=e("#"+t.id+"-stay-nights");0!==y.length&&(y.change(b),y.keypress(b))},days_between:function(e,t){var i=864e5,n=e.getTime(),a=t.getTime(),o=Math.abs(n-a);return Math.round(o/i)},updateNumberOfNights:function(e,t){var i=document.getElementById("hot-sear-date-num-nights");if(void 0!==this.config&&null!==i){var n=this.config.getNightTextConfig(),a=this.days_between(t,e);a>1?i.innerHTML=a+" "+n[1]:i.innerHTML=n[0],i.style.display="inline"}},updateDayName:function(t,i){var n=e("#"+t.id+"-day");if(void 0!==this.config&&0!==n.length)try{var a=i.getDay();if(void 0===a)return void n.html("");var o=this.config.getDayNames();n.html(o[a])}catch(s){n.html("")}},updateByNights:function(t,i,n,a){var o=this.calendar.getDateFromString(e(t).val(),a),s=e("#"+t.id+"-stay-nights");o&&(o.setDate(o.getDate()+parseInt(s.get(0).value)),e(i).val(this.calendar.toStringFromComp(o.getDate(),o.getMonth()+1,o.getFullYear())))},doWeCrossDST:function(e,t){var i=new Date(e.valueOf()+864e5*t),n=e.getTimezoneOffset(),a=i.getTimezoneOffset(),o=0;return(n<a||n>a)&&(o=1),o},update:function(n,a,o,s,r,l){var c,d=e(n),u=e(a),h=this.calendar.getDateFromString(d.val(),l),p=this.calendar.getDateFromString(u.val(),l),f=e("#"+n.id+"-stay-nights");if(o=d.attr("data-min-booking-length")||d.attr("data-min-range-length")||0,(!r||isNaN(parseInt(r))||p)&&(r=0),this.updateDayName(n,h),this.updateDayName(a,p),h&&p&&this.updateNumberOfNights(h,p),h){if(p&&0!==f.length){var g=Math.round((p-h)/1e3/60/60/24);g<1&&(g=f.get(0).value),f.get(0).value=g}var m=Math.max(o,r),v=this.doWeCrossDST(h,m);h=new Date(h.valueOf()+36e5*(24+v)*m),c=this.calendar.toStringFromComp(h.getDate(),h.getMonth()+1,h.getFullYear()),p&&p<=h&&(p=null),null!==p||"true"===u.attr("data-optional")&&""===u.val()||(p=this.calendar.getDateFromString(d.val(),l),this.updateNumberOfNights(p,h),0!==f.length&&1!==f.get(0).value&&(h.setDate(h.getDate()+parseInt(f.get(0).value)-1),c=this.calendar.toStringFromComp(h.getDate(),h.getMonth()+1,h.getFullYear())),c!==u.val()&&u.val(c),i.core.date.datePicker&&(i.core.date.datePicker.entries[u.attr("id")].currentValue=h),this.updateDayName(a,h))}d.is(".fieldDefaultText")&&d.removeClass("fieldDefaultText"),u.is(".fieldDefaultText")&&u.removeClass("fieldDefaultText"),t.updatePlaceholderClass(d),t.updatePlaceholderClass(u)}};return s},i.core.date.CalendarControl=function(){var e=function(){var e="mmddyy",t="/",i=0,n=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["S","M","T","W","T","F","S"],r="Close",l="",c=["night","nights"],d=function(e){c=e},u=function(i,n){e=i,t=n},h=function(e,t,a,r){i=e,n=t,s=a,void 0!==r&&(o=r)},p=function(e,t,n){i=e,a=t,s=n},f=function(e){r=e},g=function(e){l=e};return{setFormatConfig:u,setUnitConfig:h,setSingleUnitConfig:p,setTextConfig:f,setLocaleConfig:g,setNightTextConfig:d,getDateFormat:function(){return e},getDateSeparator:function(){return t},getStartOfWeek:function(){return i},getMonths:function(){return n},getSingleMonths:function(){return a},getDayAbbrs:function(){return s},getDayNames:function(){return o},getCloseText:function(){return r},getLocaleConfig:function(){return l},getNightTextConfig:function(){return c}}};return{Config:new e("ddmmyy",".",2)}}(),t.publish("sf.date.ready"),window.exp=i,i}),define("uitk_typeahead",["jquery","handlebars","uitk","uitk_i18n","uitk_tooltip","uitk-ta-by-category.hbs","uitk-ta-default.hbs"],function(e,t,i,n){"use strict";function a(e,t,i){this.__essAbacusIds=e,this.__variantAssigner=t,this.__pageIdGetter=i,this.siteId=this.__getSiteId(),this.guid=this.__getGuid()}function o(t){if(!t.data("typeahead")){var i=t.data("template");void 0!=i&&(i.indexOf("/")>=0?e.ajax({url:i,success:function(e){var i=t.data();i.rawHtml=!0,new r(t,e,i)},dataType:"text"}):new r(t,i,t.data()))}}if("undefined"!=typeof window.uitkTypeahead)return console.log("Typeahead is now included in the UITK so you no longer need to load it manually"),window.uitkTypeahead;if(e("body")[0].hasAttribute("data-disable-typeahead"))return!0;var s="uitk_tooltip",r=function(n,a,o){this.$element=e(n),this.$label=this.$element.closest("label"),this.ariaOwns=this.$element.attr("aria-owns")||"backwards";var l="uitk_ta_content",c='<div id="'+l+'" role="presentation"></div>',d=e("#"+l).length;0===d&&e("body").append(c),this.firstItemFlag=!0,this.lastItemFlag=!0,o.rawHtml?this.template=t.compile(a):i?this.template=i.getCompiledTemplate(a):(a=e(a).html(),this.template=t.compile(a)),this.opts=e.extend(!0,{},r.defaultOptions,o),this.searchType=null,this.cache={},this.ignoreNext=!1,this.isClickOn=!1,this.bodyClick=!1,this.$element.autocomplete="off",this.$element.on("focus",e.proxy(this.focus,this)).on("keydown",e.proxy(this.keyDown,this)).on("keyup",e.proxy(this.keyUp,this)).on("keypress",e.proxy(this.keyPress,this)).on("blur",e.proxy(this.blur,this)),this.$ta=e('<div class="typeahead" role="presentation">'),this.opts.tooltip?this.$element[s]({content:this.$ta,template:'<div class="uitk-tooltip" role="presentation"><div class="tooltip-inner" role="presentation"></div><span class="tooltip-arrow-border" role="presentation"></span><span class="tooltip-arrow" role="presentation"></span></div>'}):(this.$ta.appendTo(document.body),i.isTouchDevice?this.$ta.on("click",function(e){e.preventDefault()}):this.$ta.on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on("click",e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this))),this.$element.data("typeahead",this),this.opts.openDefaultTa?(this.shouldBeOpen=!0,this.request("defaultResponse",!1)):this.request("zzzzzz",!0)};return r.prototype={constructor:r,shouldBeOpen:!1,startRequest:function(){var e=this.$element.val();e.length>=this.opts.minchar?this.cache[e]?this.render(e,this.cache[e]):this.request(e):this.close()},request:function(t,i){var n,o={},s=a.defaultGenerator;"v4"===this.opts.version?(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/api/",this.opts.version,"/typeahead/",encodeURIComponent(t),"?callback=?"].join(""),"CARS"==this.opts.lob&&(o.sortcriteria="category"),o.regiontype=this.opts.mask,o.locale=this.opts.locale,o.ab=this.opts.abtest,o.lob=this.opts.lob,o.format="jsonp",o.dest=this.opts.dest,o.maxresults=this.opts.maxresults,o.rid=this.opts.regionid,o.features=this.opts.features,o.client=this.opts.clientId?this.opts.clientId:s.getClientId(),o.siteid=s.siteId,o.guid=s.guid):(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/hint/es/",this.opts.version,"/ac/",this.opts.locale,"/",encodeURIComponent(t),"?callback=?"].join(""),o.type=this.opts.mask,o.ab=this.opts.abtest,o.lob=this.opts.lob,o.format="json",o.dest=this.opts.dest,o.maxresults=this.opts.maxresults,o.rid=this.opts.regionid,this.opts.overrideServiceUrl||"//suggest.expedia.com"!=this.opts.serviceUrl||(o.client=this.opts.clientId?this.opts.clientId:s.getClientId(),o.siteid=s.siteId,o.guid=s.guid));var r;if(r=i?e.noop:e.proxy(this.callback,this),this.opts.additionalDataSourceUrl){r=e.proxy(this.combineResults,this);var l=[this.opts.additionalDataSourceUrl,encodeURIComponent(t)].join(""),c=n;e.when(e.getJSON(l,o),e.getJSON(c,o)).then(r)}else e.getJSON(n,o,r)},combineResults:function(e,t){var i=[];e[0]&&e[0].sr&&(i=i.concat(e[0].sr)),t[0]&&t[0].sr&&(i=i.concat(t[0].sr)),this.processResults(i,e[0].q)},callback:function(e){var t=e.sr?e.sr:e.r,i=e.q;this.processResults(t,i)},processResults:function(e,t){e&&this.shouldBeOpen&&this.$element[0]==document.activeElement?(this.cache[t]=e,this.render(t,e)):(this.cache[t]=[],this.close())},playBackUserTypedText:function(t,i){if(this.opts.playBackText&&"defaultResponse"!==i){var n=!0;if(e.each(t,function(e,t){t.id===-1&&(n=!1)}),n){var a=/<script[\s\S]+?script\s*>?/gi;i=i.replace(a,"");var o=/\d/,s=this.opts.playBackText;s=s.replace(o,i);var r={};r.l=i,r.d=s,r.id=-1,r.i=-1,"HOTELS"==this.opts.lob&&(r.t="HOTEL"),t.push(r)}}},render:function(t,a){var o="v4"===this.opts.version,l={};if(a.length>0&&(this.opts.openDefaultTa||this.$element.val()==t)){this.playBackUserTypedText(a,t),a.sort(function(e,t){var i=o?e.index-t.index:e.i-t.i;return i});var c=this.opts,d={};e.each(a,function(e,t){var i=o?r.CATEGORIES[t.type]:r.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof d[n]&&(d[n]=!0)});var u={};"HOTELS"==this.opts.lob?(d["Region/City"]&&(u["Region/City"]=[]),d.Attractions&&(u.Attractions=[]),d.Airports&&(u.Airports=[]),d.Amenities&&(u.Amenities=[]),d.Hotels&&(u.Hotels=[])):"CARS"==this.opts.lob&&(d.Airports&&(u.Airports=[]),d["Region/City"]&&(u["Region/City"]=[]),d.Attractions&&(u.Attractions=[])),e.each(a,function(e,t){var i=o?r.CATEGORIES[t.type]:r.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof u[n]&&(u[n]=[]),t.categoryName=n,u[n].push(t),c.forceicon?t.icon=c.forceicon:t.icon=i?i.icon:"location",o?"undefined"!=typeof t.regionNames.lastSearchName?t.regionNames.lastSearchName=t.regionNames.lastSearchName.replace(/'/g,"&#39;"):"undefined"!=typeof t.regionNames.fullName&&(t.regionNames.lastSearchName=t.regionNames.fullName.replace(/'/g,"&#39;"),t.regionNames.fullName=t.regionNames.fullName.replace(/'/g,"&#39;")):"undefined"!=typeof t.l?t.l=t.l.replace(/'/g,"&#39;"):"undefined"!=typeof t.f&&(t.l=t.f.replace(/'/g,"&#39;")),t.data=JSON.stringify(t)}),i.publish("typeahead.opened",{results:a,text:t}),l.continueText=this.opts.continuetext,l.closeText=this.opts.closetext,l.results=a,l.resultsByCategory=u,l.ariaOwns=this.ariaOwns,l.isV4=o;var h=this.template(l),p=this;if(this.$ta.html(h),this.$ta.is(":hidden")&&this.$ta.show(),this.$label.addClass("focused"),this.opts.tooltip)this.$element[s]("show"),this.$element[s]("checkPos",!0,!0),this.$ta.off("mousedown",e.proxy(this.clickOn,this)).off("mouseup",e.proxy(this.clickOff,this)).off(i.clickEvent,e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on(i.clickEvent,e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this)),window.navigator.msPointerEnabled&&!window.PointerEvent&&e("body").on(i.clickEvent+" focusin."+s,function(t){("focusin"!==t.type||i.utils.isFocusableElement(e(t.target)))&&t.target!==p.$element[0]&&p.close()});else{var f=parseInt(this.$element.css("height"),10),g=this.$element.offset();this.$ta.css({top:g.top+f+"px",left:g.left+"px"}),this.$ta.show()}if("undefined"==typeof window.orientation){var m,v=a.length;m=1===v?"typeahead_results_displayed_one":"typeahead_results_displayed_other",i.utils.liveAnnounce(n.t(m,{arg0:v}),"polite")}}else this.close()},close:function(){this.$label.removeClass("focused"),this.opts.tooltip?this.$element[s]("hide"):(this.$ta.hide(),this.$ta.html("")),i.publish("typeahead.closed"),this.bodyClick&&(this.$ta.unbind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).unbind("mousedown",e.proxy(this.close,this)),this.bodyClick=!1)},prev:function(){var t=this.$ta.find("a"),n=this.$ta.find(".highlight").removeClass("highlight"),a=t.index(n),o=t[a-1],s=e(o),r=e(o).attr("id"),l=t.length-1,c="";n.attr("aria-selected","false"),o?(a!=l||conditionizr.safari||(c=s.attr("data-value"),i.utils.liveAnnounce(c,"polite")),s.addClass("highlight"),s.attr("aria-selected","true"),this.$element.attr("aria-activedescendant",r)):(this.$element.removeAttr("aria-activedescendant"),i.utils.liveAnnounce(this.$element.val(),"polite"))},next:function(){var t,a=this.$ta.find("a"),o=this.$ta.find(".highlight").removeClass("highlight"),s=a.index(o),r=a[s+1],l=e(r),c=e(r).attr("id"),d="";l.hasClass("close")||o.attr("aria-selected","false"),conditionizr.safari||(this.firstItemFlag===!0?this.firstItemFlag=!1:"undefined"==typeof a[s]&&(t=e(".active-tooltip").find("a")[0],d=e(t).attr("data-value"),i.utils.liveAnnounce(d,"polite"))),r?(l.addClass("highlight"),l.attr("aria-selected","true"),l.hasClass("close")?i.utils.liveAnnounce(n.t("close"),"assertive"):this.$element.attr("aria-activedescendant",c)):i.utils.liveAnnounce(this.$element.val(),"polite")},removeHighlights:function(){this.$ta.find(".highlight").removeClass("highlight")},selectHighlighted:function(t,a){var o,s,r=this.$ta.find(".highlight"),l=r.text(),c=e("html");if(o=l.replace(/(^\s+|\s+$)/g,""),t&&0===r.length&&(r=e(t.target).closest(".results-item").find("a")),this.updateTextField(r),r.removeClass("highlight"),a===!0)s=r.text().replace(/(^\s+|\s+$)/g,""),i.utils.liveAnnounce(n.t("close_button_menu_closed"),"assertive");else if(c.hasClass("safari")){var d=n.t("item_selected_menu_closed",{arg0:o});i.utils.liveAnnounce(d,"assertive")}var u={element:r};i.publish("typeahead.resultSelected",u)},updateTextField:function(e){if(e){var t=e.attr("data-value");if(t){t=t.replace(/&#39;/g,"'"),this.$element.val(t);var i=e.attr("data-id");i&&this.$element.attr("data-id",i),this.opts.selectioncallback&&("function"==typeof this.opts.selectioncallback?this.opts.selectioncallback(e):"string"==typeof this.opts.selectioncallback&&window[this.opts.selectioncallback](e))}this.close(),this.$element.focus()}},focus:function(e){},keyDown:function(e){var t;switch(e||(e=window.event),t=e.keyCode){case 27:this.close(),e.stopPropagation();break;case 9:case 13:if(this.opts.selectFirstElementByDefault&&this.$ta.find(".highlight").length<=0&&this.$label.hasClass("focused")){var i=this.$ta.find("li.category-item");if(i&&0!=i.length||(i=this.$ta.find("li.results-item")),i){var n=i.first();n&&n.find("a").addClass("highlight")}}this.$ta.find(".highlight").length&&(e.stopPropagation(),13===t&&e.preventDefault(),this.selectHighlighted(e,this.$ta.find(".highlight").hasClass("close")));break;case 32:this.$ta.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault());break;case 39:this.$ta.find(".highlight").length&&(this.ignoreNext=!0,e.stopPropagation(),this.selectHighlighted());break;case 38:e.preventDefault(),e.stopPropagation(),this.prev();break;case 40:e.stopPropagation(),e.preventDefault(),this.next()}},keyPress:function(e){e||(e=window.event),13==e.keyCode&&this.close()},keyUp:function(e){if(this.ignoreNext)return void(this.ignoreNext=!1);switch(e||(e=window.event),e.keyCode){case 27:break;case 37:this.removeHighlights();break;case 38:e.preventDefault(),e.stopPropagation();break;case 40:e.stopPropagation(),e.preventDefault();break;case 16:case 17:case 18:break;case 13:this.shouldBeOpen=!1;break;case 32:this.$ta.find(".highlight").hasClass("close")&&(e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e,this.$ta.find(".highlight").hasClass("close")));break;default:this.shouldBeOpen=!0,this.startRequest()}},blur:function(){window.navigator.msPointerEnabled&&!window.PointerEvent||(this.isClickOn?(this.$ta.bind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).bind("mousedown",e.proxy(this.close,this)),this.bodyClick=!0):this.close())},clickOn:function(){this.isClickOn=!0},clickOff:function(){this.isClickOn=!1},click:function(e){e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e);
},mouseEnter:function(t){this.removeHighlights(),e(t.currentTarget).addClass("highlight")},cancelEvent:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancel=!0,e.returnValue=!1},remove:function(){this.$element.autocomplete="on",this.$element.closest("form").attr("autocomplete","on"),this.$element.off("focus",e.proxy(this.focus,this)).off("keydown",e.proxy(this.keyDown,this)).off("keyup",e.proxy(this.keyUp,this)).off("keypress",e.proxy(this.keyPress,this)).off("blur",e.proxy(this.blur,this)),this.$ta.off("mousedown",e.proxy(this.mouseDown,this)).off("mouseup",e.proxy(this.mouseUp,this)).off("click",e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).remove()}},r.AIRPORT=1,r.CITY=2,r.MULTICITY=4,r.NEIGHBORHOOD=8,r.POI=16,r.ADDRESS=32,r.METROCODE=64,r.HOTEL=128,r.MULTIREGION=256,r.TRAINSTATION=512,r.METROSTATION=1024,r.REGIONTYPE={ALL:31,AIRPORT:1,CITIES:2},r.LOB={HOTELS:"HOTELS",PACKAGES:"PACKAGES",FLIGHTS:"FLIGHTS"},r.CATEGORIES={CITY:{id:0,name:"Region/City",icon:"location"},ATTRACTION:{id:1,name:"Attractions",icon:"location"},AIRPORT:{id:2,name:"Airports",icon:"flights"},HOTEL:{id:3,name:"Hotels",icon:"hotels"},ADDRESS:{id:4,name:"Address",icon:"location"},TRAINSTATION:{id:5,name:"Train Station",icon:"train"},METROSTATION:{id:6,name:"Metro Station",icon:"train"},MULTICITY:{id:7,name:"Region/City",icon:"location"},NEIGHBORHOOD:{id:8,name:"Region/City",icon:"location"},METROCODE:{id:9,name:"Airports",icon:"flights"},POI:{id:11,name:"Attractions",icon:"location"},RENTAL:{id:12,name:"Rental locations",icon:"location"},DEALS:{id:13,name:"Deals",icon:"location"},AMENITY:{id:14,name:"Amenities",icon:"tag"}},a.prototype.ESS_ABACUS_IDS=[],a.prototype.clientIdByPageId={aws_Homepage:"AWSHomepage",Homepage:"Homepage","page.Flights":"FlightsLandingPage","page.Hotels":"HotelsLandingPage","page.Cars":"CarsLandingPage","page.Activities":"LXLandingPage","page.Packages":"PackageLandingPage","page.car.search.list":"Cars.Search","page.Car-Search":"Cars.Search","page.Flight-Search-Disambig":"Flights","page.Flight-Search-Roundtrip":"Flights","page.Flight-Search-Roundtrip.Out":"Flights","page.Flight-Search-Roundtrip.In":"Flights","page.Flight-Search-Oneway":"Flights","page.Package.FC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip":"Packages.Search","page.Package.FC.Car-Search":"Packages.Search","page.Package.HC.Hotel-Search":"Packages.Search","page.Package.HC.Car-Search":"Packages.Search","page.HC.Package.Infosite.Information":"Packages.Search","page.FHC.Package-Search":"Packages.Search","page.Package.FHC.Hotel-Search":"Packages.Search","page.FHC.Package.Infosite.Information":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip":"Packages.Search","page.Package-Change-Flight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FHC.Car-Search":"Packages.Search","page.Package.FH.Hotel-Search":"Packages.Search","page.FH.Package.Infosite.Information":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.In":"Packages.Search","page.Package-Search":"Packages.Search","page.Packages.Infosite.Information":"Packages.Search","page.package-search.changeFlight.Outbound":"Packages.Search","page.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FH.Hotel-Search.Error":"Packages.Search","page.FH.Package-Search.Error":"Packages.Search","page.HC.Package-Search.Error":"Packages.Search","page.Package.HC.Hotel-Search.Error":"Packages.Search","page.FHC.Package-Search.Error":"Packages.Search","page.FHC.package-search.changeFlight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Return":"Packages.Search","page.Package.FH.Hotel-Search.ChangeHotel":"Packages.Search","page.Package.FC.Car-Search-Dynamic":"Packages.Search","page.Package-Search.Error":"Packages.Search","page.FC.Package-Search.Error":"Packages.Search","Page.Packages.Disambig.Dest.CityandAirport":"Packages.Search","Page.Packages.Disambig.Dest.Airport":"Packages.Search","Page.Packages.Disambig.Origin.CityandAirport":"Packages.Search","Page.Packages.Disambig.Origin.Airport":"Packages.Search","Page.Package.HC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.HC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FHC.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FHC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FHC.Disambig.Origin.Airport":"Packages.Search","Page.Package.FHC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FC.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FC.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FC.Disambig.Dest.Airport":"Packages.Search","Page.Package.FC.Disambig.Origin.Airport":"Packages.Search","Page.Package.FH.Disambig.Origin.CityandAirport":"Packages.Search","Page.Package.FH.Disambig.Dest.CityandAirport":"Packages.Search","Page.Package.FH.Disambig.Origin.Airport":"Packages.Search","Page.Package.FH.Disambig.Dest.Airport":"Packages.Search"},a.prototype.defaultPageIdGetter=function(){var t=e("#pageId"),i=1===t.size()?t.val():"";return i?i:""},a.prototype.getClientId=function(){var e="function"==typeof this.__pageIdGetter&&this.__pageIdGetter(),t=e&&a.prototype.clientIdByPageId[e];return t?t:"Unknown"},a.prototype.__getVariantAssignment=function(e){var t=this.__variantAssigner(e);return void 0===t?void 0:"".concat(e,".",t)},a.prototype.generateAbacusParameter=function(){function t(e){return"function"==typeof i.__getVariantAssignment?i.__getVariantAssignment(e):void 0}var i=this,n=[];return e(this.__essAbacusIds).each(function(e,i){var a=t(i);a&&n.push(a)}),n.length>0?n.join("|"):""},a.prototype.__getSiteId=function(){return window.site_id?window.site_id:""},a.prototype.__getCookie=function(e){var t="; "+document.cookie,i=t.split("; "+e+"=");if(2==i.length)return i.pop().split(";").shift()},a.prototype.__getGuid=function(){var t=this.__getCookie("MC1"),i=t&&t.split("=");return e.isArray(i)&&2===i.length?i[1]:""},a.prototype.defaultVariantAssigner=function(){if(window.corewizard&&window.corewizard.searchExperiments)return window.corewizard.searchExperiments.getSearchExperimentVariantIfParticipating},a.defaultGenerator=new a(a.prototype.ESS_ABACUS_IDS,a.prototype.defaultVariantAssigner?a.prototype.defaultVariantAssigner():void 0,a.prototype.defaultPageIdGetter),t.registerHelper("each_with_key",function(e,t){var i,n,a="",o=t.hash.key;for(n in e)e.hasOwnProperty(n)&&(i=e[n],o&&(i[o]=n),a+=t.fn(i));return a}),r.defaultOptions={minchar:3,maxitems:20,version:"v2",locale:"en_US",abtest:"",mask:r.AIRPORT|r.CITY|r.MULTICITY|r.NEIGHBORHOOD|r.POI,lob:r.LOB.FLIGHTS,dest:!1,closetext:"Close",continuetext:"Continue typing to refine search",selectioncallback:null,tooltip:!0,forceicon:!1,serviceUrl:"//suggest.expedia.com",overrideServiceUrl:"",features:"",clientId:"",additionalDataSourceUrl:"",playBackText:"",openDefaultTa:!1,selectFirstElementByDefault:!1},e(function(){e("body").on("focus.typeahead",'[data-provide="typeahead"]',function(){var t=e(this);o(t)})}),window.uitkTypeahead=r,r}),define("uitk_tooltip",["uitk_domReady","jquery","uitk","uitk_plugins"],function(e,t,i,n){"use strict";function a(e,i){var n,a,o;this.element=t(e),i=i||{},n=this.element.data()||{},i.jsTheme?a=i.jsTheme:this.element.data("jsTheme")?a=this.element.data("jsTheme"):(a=i.trigger||n.trigger||m.trigger,n.jsTheme=a),o=v[a]||{},this.options=t.extend(!0,{},m,o,n,i),this.options.vPos=this.options.pos.charAt(0),this.options.hPos=this.options.pos.charAt(1),this.options.delay&&"number"==typeof this.options.delay&&(this.options.delay={show:this.options.delay,hide:this.options.delay}),this.init()}var o,s,r="uitk_tooltip",l=t(window),c=t("body"),d=t(document),u="active-tooltip",h="fade",p="hideOffScreen",f=parseFloat(c.css("min-width"),10),g=f>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,m={arrow:!0,delay:0,fade:"out",pos:"tc",showTooltip:!0,posClass:{arrow:"show-arrow",t:"top",b:"bottom",m:"mid",mTop:"mid-top",mBottom:"mid-bottom",l:"left",r:"right",c:"center"},posOffset:3,template:'<div class="uitk-tooltip"><div class="tooltip-inner"></div><span class="tooltip-arrow"></span></div>',textAlign:"left",trigger:"click",width:288,hideOffScreen:!1,announce:!0},v={standard:{},"standard-inverse":{},hover:{delay:150,pos:"tc",trigger:"hover",width:"auto"},calendar:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,trigger:"focus",width:477,hideOffScreen:!1,announce:!1},typeahead:{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:!0,width:390,hideOffScreen:!1,announce:!1},"typeahead-by-category":{delay:{show:0,hide:0},pos:"bl",posOffset:-6,preventFlip:!0,width:480,hideOffScreen:!1,announce:!1}},b=i.isTouchDevice,y=i.clickEvent+"."+r;v["calendar-button"]=v.calendar,o=function(e){var i,n=t("."+u);for(i=n.length-1;i>=0;i-=1){var a=n.eq(i),o=a.hasClass("theme-typeahead")||a.hasClass("theme-typeahead-by-category");if(!(o||e&&a[0]===e[0])){var s=a.data("trigger"),l=t(s).data(r);l&&l.hide(!0,void 0)}}},i.subscribe("modal.appended",o),a.prototype={constructor:a,init:function(){var e=this.options,t=e.posClass,i=this.element.closest(".uitk-tooltip-container");this.isShowing=!1,this.posClasses=this.getPosClasses(t),this.content=this.getContent(),e.content&&(this.ariaData=e.tooltipId||"tooltip"+(new Date).getTime()),this.manual=e.manual||"none",0===i.length?this.$potentialContainer=l:(this.$potentialContainer=i,this.$potentialContainerNotWindow=!0)},getPosClasses:function(e){var t="";for(var i in e)e.hasOwnProperty(i)&&"arrow"!==i&&(t=t+e[i]+" ");return t},getContent:function(){var e,i,n,a=this.options;return a.content&&"string"==typeof a.content?e=a.header?"<"+a.headingLevel+' class="hd">'+a.header+"</"+a.headingLevel+'><p class="secondary">'+a.content+"</p>":'<p class="secondary">'+a.content+"</p>":a.content&&"object"==typeof a.content?e=a.content:(a.contentId?i=t("#"+a.contentId):(n=this.element.attr("href"),n&&(n=n.replace(window.location.href.split("#")[0],"")),i=t(n)),e=i.html()),e},makeVisible:function(){this.tooltip.css({visibility:"visible"})},makeInvisible:function(){if(i.isTouchDevice){var e=document.documentElement.clientWidth/window.innerWidth;if(e>1.01)return}this.tooltip&&this.tooltip.css&&this.tooltip.css({visibility:"hidden"})},generateTooltip:function(){var e=this,i=this.options,n=t(i.template),a=this.ariaData,o="click"===i.jsTheme||"calendar"===i.jsTheme||"calendar-button"===i.jsTheme||"typeahead"===i.jsTheme||"typeahead-by-category"===i.jsTheme,s=17;return n.find(".tooltip-inner").prepend(this.content),n.find(".tooltip-inner p:last").addClass("last"),n.addClass(u).css({width:i.width/s+"em","text-align":i.textAlign,visibility:"hidden"}).data("trigger",e.element),i.jsTheme&&(n.addClass("theme-"+i.jsTheme),o&&n.addClass("theme-standard")),!i.fade||i.fade!==!0&&"true"!==i.fade||n.addClass(h),i.arrow&&n.addClass(i.posClass.arrow),i.tooltipClasses&&n.addClass(i.tooltipClasses),!i.hideOffScreen||i.hideOffScreen!==!0&&"true"!==i.hideOffScreen||n.addClass(p),"typeahead"!==i.jsTheme&&"typeahead-by-category"!==i.jsTheme&&n.attr("role","tooltip"),a?n.attr("id",a):i.tooltipId&&n.attr("id",i.tooltipId),"hover"!==e.options.trigger||b||n.find(".close").remove(),n},show:function(e,n){var a,u,p,f=this,g=this.options,m=l;if(this.$potentialContainerNotWindow&&(p=this.$potentialContainer.css("overflow-y"),u=this.$potentialContainer.parent().css("overflow-x"),"scroll"!==u&&"auto"!==u&&"scroll"!==p&&"auto"!==p||(m=this.$potentialContainer)),a=m===l?c:m,this.$containerNotWindow=m!==l,this.$container=m,("open"===this.options.manual||"both"===this.options.manual)&&e)return void i.publish("tooltip.beforeOpen",f.element,n);if(this.isShowing=!0,this.hideTimeout&&clearTimeout(this.hideTimeout),f.tooltip&&0!==f.tooltip.closest("html").length)o(f.tooltip);else{if(o(),f.tooltip=f.generateTooltip(),f.tooltipArrow=f.tooltip.find(".tooltip-arrow"),"typeahead"===g.jsTheme||"typeahead-by-category"===g.jsTheme){var v=t("#uitk_ta_content"),b=v.length;b>0?f.tooltip.appendTo(v):f.tooltip.appendTo("body")}else f.tooltip.appendTo(a),this.$containerNotWindow&&this.$container.on("scroll."+r+".container",function(){s()});this.changePos(),f.setPos(),f.checkPos(!1,!0)}setTimeout(function(){f.tooltip.addClass("on"),g.fade&&"out"===g.fade&&setTimeout(function(){f.tooltip.addClass(h)},10),g.announce&&i.utils.liveAnnounce(f.content,"polite"),i.publish("tooltip.open",f.element,n),d.on("keydown.tooltip",function(e){27===e.keyCode&&f.hide(!0,e)})},g.delay.show)},hide:function(e,n){var a,o=this,s=t("input[aria-activedescendant]");return s.length>0&&s.removeAttr("aria-activedescendant"),"close"!==this.options.manual&&"both"!==this.options.manual||!e?(this.isShowing=!1,this.showTimeout&&clearTimeout(this.showTimeout),this.tooltip&&(a=this.tooltip,this.hideTimeout=setTimeout(function(){a.removeClass("on"),i.publish("tooltip.hidden",o.element),setTimeout(function(){a.hasClass("on")||o.isShowing||a.remove()},100)},this.options.delay.hide)),t("#uitk-live-announce").empty(),d.off("keydown.tooltip"),void(this.$containerNotWindow&&this.$container.off("scroll."+r+".container"))):void i.publish("tooltip.beforeClose",o.element,n)},setPos:function(e,t){var i=this.options,n=e||i.vPos,a=t||i.hPos,o=this.getPos(n,a),s=parseInt(this.tooltip.find(".tooltip-arrow").outerWidth());this.tooltip.css({left:o.left,top:o.top}),"c"===i.hPos&&(o.leftShift=o.leftShift-Math.floor(s/2)),this.tooltip.find(".tooltip-arrow").css({"margin-left":o.leftShift,"margin-right":o.rightShift})},getTopPos:function(e,t){var n,a,o,s=i.getPosition(t),r=this.$containerNotWindow?this.$container.offset():{top:0,left:0},l=s.top-r.top,c=t.outerHeight(),d=this.options.posOffset,u=this.tooltip,h=this.tooltipArrow;return n=u.outerHeight(),"t"===e?a=l-n-d:"m"===e?a=l+c/2-n/2:"mTop"===e?(o=h.outerHeight(),a=l+c+o+d-n):"mBottom"===e?(o=h.outerHeight(),a=l-o-d):"b"===e&&(a=l+c+d),a},getContainerWidth:function(){var e=this.$containerNotWindow?16:0;return this.$container.width()-e},getLeftPos:function(e,t,i){var n,a,o,s,r,l,c,d,u=i.offset(),h=this.$containerNotWindow?this.$container.offset():{top:0,left:0},p=u.left-h.left,f=i.outerWidth(),m=this.options.posOffset,v=this.tooltip;return d=v.outerWidth(),"c"===e?(r=p+f/2-d/2,l=p+f/2+d/2,c=this.getContainerWidth(),r<0?(a=r,n=0):l>c?(a=g?0:l-c,n=p+f/2-d/2-a):n=p+f/2-d/2):"r"===e?"m"===t||"mTop"===t||"mBottom"===t?n=p+f+m:(s=p-d+f,s>0?n=s:(o=-s,n=0)):"l"===e&&("m"===t||"mTop"===t||"mBottom"===t?n=p-d-m:(s=d+p,c=this.getContainerWidth(),s<c?n=p:(a=g?0:s-c,n=p-a))),{left:n,leftShift:a,rightShift:o}},getPos:function(e,t){var i,n={},a=this.options,o=a.posClass,s=e||a.vPos,r=t||a.hPos,l=this.element,c=this.tooltip;return n.leftShift=0,n.rightShift=0,c.removeClass(this.posClasses),c.addClass(o[s]+" "+o[r]),n.top=this.getTopPos(s,l),i=this.getLeftPos(r,s,l),n.left=i.left,i.leftShift&&(n.leftShift=i.leftShift),i.rightShift&&(n.rightShift=i.rightShift),n},changePos:function(){if(2===this.options.pos.length);else for(var e=this.options.pos.split(","),t=0,i=this.getContainerWidth(),n=conditionizr.ie8,a=0;a<e.length;a++)e[a].length>2&&!n?(e[a]=e[a].trim(),t=parseInt(e[a].substring(3,e[a].length)),i<=t&&(this.options.vPos=e[a].charAt(0),this.options.hPos=e[a].charAt(1))):(this.options.vPos=this.options.pos.charAt(0),this.options.hPos=this.options.pos.charAt(1))},testTopPos:function(e,t,i,n,a,o){return"mBottom"===n?a.top+o>i:e+t>i},testBottomPos:function(e,t,i,n,a,o){var s=i+n;return"mTop"===a?o.top<s:e-t<s},testLeftPos:function(e,t,i){return e+t>i},testRightPos:function(e,t,i,n){return e-t<i+n},checkPos:function(e,t,n,a){if(this.tooltip&&this.tooltip instanceof jQuery){var o=n||this.options.vPos,s=a||this.options.hPos;if(this.makeInvisible(),this.options.preventFlip)return this.changePos(),this.setPos(o,s),void this.makeVisible();var r=this.getPos(o,s),c=this.tooltip,d=this.$container||l,u=parseInt(c.css("padding-left"),10),h=parseInt(c.css("padding-top"),10),p=r.top,f=r.left,m=f+c.outerWidth(),v=p+c.outerHeight(),b=d.scrollTop(),y=d.scrollLeft(),k=d.height(),w=d.width(),C=this.element,T=i.getPosition(C),P=C.outerHeight(),S=this.testTopPos(p,h,b,n,T,P),D=this.testBottomPos(v,h,b,k,n,T),I=this.testLeftPos(f,u,y),x=this.testRightPos(m,u,y,w),_=!1;if((S||!S&&"mTop"===o)&&(D||!D&&"mBottom"===o)&&I&&x)return e&&(this.changePos(),this.setPos(o,s)),void this.makeVisible();"m"===o?"l"!==s||I?"r"!==s||x||(s="l",_=!0):(s="r",_=!0):"l"!==s||x?"r"!==s||I&&!g?"c"!==s||x&&I||(s="c",_=!0):(s="r",_=!0):(s="l",_=!0),"t"!==o||S?"b"!==o||D?"m"===o&&(S&&!D?(o="mTop",_=!0):D&&!S&&(o="mBottom",_=!0)):(o="t",_=!0):(o="b",_=!0),_?(this.changePos(),this.setPos(o,s),t?this.checkPos(!1,!1,o,s):this.makeVisible()):this.options.hideOffScreen||this.makeVisible()}},updateContent:function(e){e&&"string"==typeof e?this.content='<p class="secondary">'+e+"</p>":e&&"object"==typeof e&&(this.content=e)}},n.initPlugin(r,a);var k=i.createUniqueId();c.on(y,'[data-control="tooltip"]',{eventId:k},function(e){var i=t(e.target).closest('[data-control="tooltip"]'),n=i.data("trigger"),a=v[i.data("jsTheme")],o=i.data("showTooltip");(n&&"hover"!==n||!n&&a&&"hover"!==a.trigger||i.attr("href")&&"#"===i.attr("href").charAt(0))&&("hover"!==n||"hover"===n&&o===!0)&&(i[r]("show",!0,e),e.preventDefault())});var w=function(e,i,n){var a=t(e.target).closest('[data-control="tooltip"]'),o=a.data("trigger"),s=v[a.data("jsTheme")];(o===i||!o&&s&&s.trigger===i)&&(e.preventDefault(),a[r](n))};return c.on("uitkMouseenter."+r+" focus."+r,'[data-control="tooltip"]',{eventId:k},function(e){w(e,"hover","show",!0,e)}),c.on("uitkMouseleave."+r+" blur."+r,'[data-control="tooltip"]',{eventId:k},function(e){w(e,"hover","hide",!0,e)}),c.on("focus."+r,'[data-control="tooltip"]',function(e){w(e,"focus","show",!0,e)}),c.on("blur."+r,'[data-control="tooltip"]',function(e){w(e,"focus","hide",!0,e)}),c.on(y,".active-tooltip .close",function(e){var i=t(e.target).closest(".active-tooltip");e.preventDefault(),i.data("trigger")[r]("hide",!0,e)}),d.on(y+" focusin."+r,function(e){if("focusin"!==e.type||i.utils.isFocusableElement(t(e.target))){var n=t(e.target).closest('[data-control="tooltip"]');n.length<=0&&(n=t(e.target)),"tooltip"===n.data("control")||"calendar"===n.data("control")||"calendar-button"===n.data("control")||n.hasClass(u)||0!==n.closest("."+u).length||o()}}),s=function(){var e,i=t("."+u);for(e=i.length-1;e>=0;e-=1)"hidden"===t(i.eq(e).data("trigger")).css("visibility")?t(i.eq(e).data("trigger"))[r]("hide",!0,!0):t(i.eq(e).data("trigger"))[r]("checkPos",!0,!0)},l.on("scroll."+r+" resize."+r,function(){s()}),i.tooltips={hideAll:o},i.modules.Tooltip=a,a}),define("uitk_tabs",["uitk_domReady","jquery","uitk","uitk_plugins","uitk_i18n"],function(e,t,i,n,a){"use strict";function o(e,i){var n,a=this;a.element=t(e),a.tabs=a.element.find(".tabs li"),i=i||{},n=a.element.data()||{},a.options=t.extend({},p,n,i),a.init()}function s(){t("[data-control=tabs]")[r]()}var r="uitk_tabs",l=t("body"),c=window.location.pathname+"_"+r,d=Modernizr.sessionstorage,u=Modernizr.hashchange,h="on",p={initialTab:0,hashSuffix:"tab",history:!1,tabState:!0};return o.prototype={init:function(){var e,i,n=this;for(n.element.attr("data-control","tabs"),n.tabsContent=t(),i=n.tabs.length;i>0;i-=1){var a=n.tabs.eq(i-1),o=n.getContentElem(a);a.data("content",o),n.tabsContent=n.tabsContent.add(o)}n.tabs.find("button[data-initial-tab]").length>0&&(n.stopInitSelection=!0),u&&t(window).on("hashchange."+r,function(){var e=n.getNextTab();e&&n.showTab(e)}),e=n.getNextTab(!0),e&&n.doShowTab(e,!0)},selectTab:function(e){var t=this;u&&t.options.history?window.location.hash=e.data("section-id")+"_"+t.options.hashSuffix:t.showTab(e.closest("li"))},getContentElem:function(e){var t=this,i=e.find("button").data("section-id");return t.element.find(i)},getNextTab:function(e){var t,i,n,a,o,s=this,r=s.options,l=s.tabs,u=window.location.hash,h=new RegExp("_"+r.hashSuffix+"$"),p=l.find('button[data-section-id="'+u.replace(h,"")+'"]');if(e&&d&&r.tabState&&(i=sessionStorage.getItem(c)))for(t=JSON.parse(i),o=t.length-1;o>=0;o-=1)if(n=l.find('button[data-section-id="'+t[o]+'"]'),n.length>0)return n.parent();return u&&p.length>0?a=p.parent():e&&!s.stopInitSelection&&(a=r.initialTab+1<=l.length?l.eq(r.initialTab):l.eq(0)),a},showTab:function(e,t){var n=this;n.doShowTab(e,t),i.publish("tab.selected",e)},doShowTab:function(e,t){var i=this,n=e.data("content");i.tabsContent.removeClass(h),i.tabs.find("button").removeClass(h),e.find("button").addClass(h),i.tabs.find(".selected").appendTo(e.find(".visuallyhidden")),n&&n.addClass(h),t||(i.storeState(),e.find("button").focus())},storeState:function(){var e,i,n,a=this;if(d&&a.options.tabState){for(i=[],e=t(".tabs button."+h),n=e.length-1;n>=0;n-=1)i.push(e.eq(n).data("section-id"));sessionStorage.setItem(c,JSON.stringify(i))}}},n.initPlugin(r,o),s(),i.subscribe("tab.init",function(){s()}),l.on(i.clickEvent+"."+r,"[data-control=tabs] .tabs button",function(e){var n=t(e.target).closest("button");n.closest("[data-control=tabs]")[r]("selectTab",n),i.utils.liveAnnounce(a.t("selected"),"polite")}),l.on("keydown."+r,"[data-control=tabs] .tabs button",function(e){var i,n,a=t(e.target),o=e.keyCode;if(37===o||38===o)if(i=a.parent().prev(),i.length>0){if(i.find(">button").focus(),38===o)return void e.preventDefault()}else 37===o&&a.closest(".tabs").find("li:last>button").focus();else if(39===o||40===o)if(n=a.parent().next(),n.length>0){if(n.find(">button").focus(),40===o)return void e.preventDefault()}else 39===o&&a.closest(".tabs").find("li:first>button").focus();else 13!==o&&32!==o||(a.click(),e.preventDefault())}),o}),define("uitk_toggle",["uitk_domReady","jquery","uitk","uitk_plugins","uitk_i18n"],function(e,t,i,n,a){"use strict";function o(e,t){n.newModule.call(this,e,t,v)}var s="uitk_toggle",r=t("body"),l="open",c="after-open",d="viewed",u="toggle",h="open",p="closed",f=t(".pattern-playback"),g=t(".playback-search"),m=t(".playback-toggle .toggle-trigger"),v={transition:"fade"},b=Modernizr.csstransitions,y=conditionizr.ie8||conditionizr.ie9;o.prototype={constructor:o,init:function(){var e=this.element,n=this.options,a=this,o=void 0!==e.attr("href")?e.attr("href"):e.data("content-ref");this.content=t(n.contentId?"#"+n.contentId:o),this.parent=this.content.closest("."+u),this.options.expandText=this.options.expandText||e.html(),this.options.collapseText=this.options.collapseText||e.html(),this.options.toggleText=this.options.toggleText||e.html(),y&&(this.options.transition="none"),"read-more"===this.parent.data("type")?(this.isReadMore=!0,this.closedHeight=this.content.height(),this.readMoreItems=this.content.find(".rm-hide"),this.ellipse=this.content.find(".ellipse"),this.content.css({height:this.closedHeight})):this.closedHeight=0,this.hasTransitions=b&&"slide"===n.transition,this.hasTransitions&&a.parent.addClass(n.transition),this.parent.hasClass(l)||this.content.hasClass(l)?(this.state=h,this.content.css({visibility:"visible"})):(this.state=p,a.content.css({visibility:"hidden"})),this.accordion=e.closest("[data-control=accordion]"),this.accordion.length>0&&(this.siblings=this.accordion.find('[data-control="toggle"]').not(e)),this.hasTransitions&&this.content.on("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){a.state===h?a.content.hasClass(n.transition)&&(a.content.removeClass(n.transition).css({height:"auto"}),i.publish("toggle.opened",a.element)):a.state===p&&a.content.hasClass(n.transition)&&(a.closeEnd(),a.content.removeClass(n.transition))})},setOpenHeight:function(){var e,t=this.content;e=this.hasTransitions?t[0].scrollHeight||1:"",t.css({height:e,opacity:1}),this.isReadMore&&this.readMoreItems.css({opacity:1})},open:function(e,n){var a,o=this;return"open"!==this.options.manual&&"both"!==this.options.manual||!e?void(this.state!==h&&(a=function(){var e,a;e=0,o.state=h,o.accordion.length>0&&o.siblings.each(function(){var i=t(this);i.hasClass(l)&&("fade"===o.options.transition&&(e=125),i[s]("close"))}),a=function(e){var t=e[0].style.display;e[0].style.display="inline-block",e[0].offsetHeight,e[0].style.display=t},setTimeout(function(){o.content.css({visibility:"visible"}),o.isReadMore?(o.readMoreItems.removeClass("rm-hide").addClass("rm"),o.ellipse.hide(),a(t(o.content)),i.utils.focusElement(o.readMoreItems)):o.content.removeAttr("aria-hidden"),void 0!==o.options.collapseText?o.element.html(o.options.collapseText):o.element.html(o.options.toggleText),o.setOpenHeight();var e=o.element.closest(f);if(e.length>0&&e.find(g).attr({"aria-expanded":"true"}),m.length>0?o.element.removeClass(d).addClass(l):o.element.removeClass(d).addClass(l).attr({"aria-expanded":"true"}),o.content.removeClass(d).addClass(l),o.parent.removeClass(d).addClass(l),o.parent.next().addClass(c),o.hasTransitions||i.publish("toggle.opened",o.element),void 0!==n){var s=t(n.currentTarget).data("focusId");if(s){var r="#"+s;i.utils.focusElement(t(r))}}},e)},this.closedHeight=this.content.height(),this.state!==h&&(this.isReadMore&&this.content.css({height:this.closedHeight}),o.hasTransitions||"fade"===o.options.transition&&!this.isReadMore?setTimeout(function(){o.content.addClass(o.options.transition),a()},10):a()))):void i.publish("toggle.beforeOpen",o.element,n)},close:function(e,t){var n,a=this,o=a.options.transition;return"close"!==this.options.manual&&"both"!==this.options.manual||!e?(n=function(){var e=a.element.closest(f),t=a.element.removeClass(l).addClass(d),n=t.attr("role");a.state=p,"fade"!==o||a.isReadMore?"fade"===o&&a.isReadMore?(a.content.css({opacity:1}),a.readMoreItems.css({opacity:0})):a.isReadMore?a.content.css({height:a.closedHeight,opacity:1}):(a.content.css({height:0,opacity:0}),a.content.attr({"aria-hidden":"true"})):(a.content.css({opacity:0}),a.content.attr({"aria-hidden":"true"})),e.length>0&&e.find(g).attr({"aria-expanded":"false"}),m.length>0?i.utils.liveAnnounce(t.text().trim()+", "+n):a.element.removeClass(l).addClass(d).attr({"aria-expanded":"false"}),a.content.removeClass(l).addClass(d),a.parent.removeClass(l).addClass(d),"slide"!==o&&a.closeEnd()},void(a.state!==p&&(this.setOpenHeight(),a.hasTransitions?setTimeout(function(){a.content.addClass(o),a.element.html(a.options.expandText),setTimeout(n,10)},10):(a.element.html(a.options.expandText),n())))):void i.publish("toggle.beforeClose",a.element,t)},closeEnd:function(){this.isReadMore?(this.readMoreItems.removeClass("rm").addClass("rm-hide"),"slide"===this.options.transition&&this.content.css({height:"auto"}),this.ellipse.show()):this.content.css({visibility:"hidden"}),this.parent.next().removeClass(c),i.publish("toggle.closed",this.element)},toggle:function(e,t){this.state===h?this.close(e,t):this.open(e,t)}},n.initPlugin(s,o);var k=function(e){e.preventDefault();var i=t(e.target).closest('[data-control="toggle"]');i[s]("toggle",!0,e)};return r.on("click",'[data-control="toggle"]',function(e){k(e)}),i.modules.Toggle=o,o}),define("uitk_offCanvasToggle",["uitk_domReady","jquery","hammer","uitk","uitk_i18n","uitk_plugins","uitk_focus"],function(e,t,i,n,a,o){"use strict";function s(e,t){o.newModule.call(this,e,t,b)}var r="uitk_offCanvasToggle",l=t("body"),c="off-canvas-inner",d="off-canvas-outer",u="off-canvas-open",h=".site-content",p="off-canvas-overlay",f="off-canvas-sr-close",g="open",m="closed",v='[data-control="off-canvas-toggle"]',b={maxWidth:"959",toHideStartElem:document.getElementsByTagName("body")[0]},y=n.clickEvent+"."+r,k=n.createFocus(),w=k.focusEvent();return s.prototype={constructor:s,init:function(){var e=this,o=t(h);if("right"===e.options.side?e.wrapperClass=d:e.wrapperClass=c,e.options.maxWidth=e.options.maxWidth/16,o.hasClass(e.openClass)?e.state=g:e.state=m,e.toHideStartElem=e.options.toHideStartElem,e.sidebar=t(e.options.target),e.control=t(v),n.subscribe("off-canvas.close",e,e.close),e.toHide=e.findElementsToHideInit(e.toHideStartElem,e.sidebar[0]),0===o.children("."+p).length&&(e.overlay=t("<div />").addClass(p).appendTo(o)),0===e.sidebar.children("."+f).length&&(e.closeBtn=t("<button />",{type:"button","class":f,text:a.t("off_canvas_close")}).appendTo(e.sidebar)),n.isTouchDevice){var s=new i(l[0]);s.on("swipe",function(i){var n=i.deltaX>0?"right":"left";e.state===g&&n===e.options.side&&e.close(null,t("."+p))})}},setPos:function(e){var t=this,i=t.sidebar,n=i[0].offsetTop,a="(max-width: "+t.options.maxWidth+"em)";Modernizr.mq(a)?i.css({transform:"translateY("+-n+"px)"}):i.css({transform:"translateY(0)"})},removePos:function(e){var t=this,i=t.sidebar;i.css({transform:"translateY(0)"})},open:function(e,i){var a=this,o=t(h);o.addClass(a.wrapperClass),a.setPos(),setTimeout(function(){o.addClass(u),n.publish("off-canvas.stateChanged",g,i)},50),a.state=g,a.announceToggleState(),n.publish("off-canvas.stateChanged",g,i),a.focusAside(),a.enableFocusHandling(),a.toggleAriaHidden(),n.subscribe("debounced.resize",a,a.setPos),n.subscribe("debounced.resize",a,a.toggleAriaHidden)},close:function(e,i){var a=this,o=t(h);a.state!==m&&(o.removeClass(u),o.removeClass(a.wrapperClass),a.state=m,a.announceToggleState(),n.publish("off-canvas.stateChanged",m,i),n.utils.focusElement(t(v)),a.disableFocusHandling(),a.toggleAriaHidden(),a.removePos(),n.unsubscribe("debounced.resize"))},toggle:function(e){var t=this;t.state===g?t.close(null,e):t.open(null,e)},findElementsToHideInit:function(e,t){var i,n,a,o,s,r=this;for(i=r.findElementsToHide(e,t),n=i.childrenToProcess;i.targetContainer!==i.target;)for(i=r.findElementsToHide(i.targetContainer,t),a=i.childrenToProcess.length,s=0;s<a;s++)o=i.childrenToProcess[s],n.push(o);return n},findElementsToHide:function(e,i){var n,a,o,s={childrenToProcess:[],targetContainer:!1,target:i},r=t(e).children(),l=r.length;for(o=0;o<l;o++)n=r[o],a=n.contains(i),a?s.targetContainer=n:n.attributes["aria-hidden"]||"SCRIPT"===n.nodeName||"uitk-live-announce"===n.id||s.childrenToProcess.push(n);return s},toggleAriaHidden:function(){var e,t,i=this,n="(max-width: "+i.options.maxWidth+"em)",a=i.toHide,o=a.length,s="aria-hidden";if(!window.isIE8)if(i.state===g&&Modernizr.mq(n))for(t=0;t<o;t++)e=a[t],e.setAttribute(s,!0);else for(t=0;t<o;t++)e=a[t],e.removeAttribute(s)},enableFocusHandling:function(){var e=this,t=e.sidebar;k.setFocusContextSelector(t);k.enable(),e.token=n.subscribe(w,e,e.onFocusCapture)},disableFocusHandling:function(){var e=this;k.disable(),n.unsubscribe(w,e.token)},onFocusCapture:function(e,t){var i=this;t.isContainedInContext||t.container===t.focused||i.close()},announceToggleState:function(){var e=this,t=(e.control,n.utils.liveAnnounce),i=(e.targetLabel,{open:e.options.openmessage||a.t("off_canvas_toggle_opened"),close:e.options.closemessage||a.t("off_canvas_toggle_closed")});e.state===g?t(i.open,"polite"):t(i.close,"polite")},focusAside:function(){var e,t=this,i=t.sidebar,a=i.find("h1, h2, h3, h4, h5, h6, legend, input").not(".visuallyhidden").eq(0);e=a.length>0?a:i,n.utils.focusElement(e)}},o.initPlugin(r,s),l.on(y,'[data-control="off-canvas-toggle"]',function(e){var i=t(e.target).closest('[data-control="off-canvas-toggle"]');e.preventDefault(),i[r]("toggle",i)}),l.on(y,"."+p,function(e){e.preventDefault(),e.stopPropagation(),n.publish("off-canvas.close",t(e.target).closest("."+p))}),l.on(y,'[data-control="remove"]',function(e){e.preventDefault(),e.stopPropagation(),n.publish("off-canvas.close")}),l.on(y,"."+f,function(e){e.preventDefault(),e.stopPropagation(),n.publish("off-canvas.close")}),n.modules.OffCanvasToggle=s,s}),define("uitk_media",["uitk_domReady","jquery","uitk"],function(e,t,i){"use strict";function n(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},p,n,i),a.svgFallback=a.element.attr("data-svgFallback"),
a.init()}function a(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},p,n,i),a.options.lazy=!0,a.init()}function o(e,i){var n,a=this;a.element=t(e),i=i||{},n=a.element.data()||{},a.options=t.extend(!0,{},f,n,i),a.init()}i.media={};var s,r,l,c,d,u,h="uitk_media",p={downgrade:!1},f={mediaOptions:{}},g=0,m=Modernizr.csstransitions,v=t(window),b=v.scrollTop(),y=1,k=10,w=!0;return n.prototype={constructor:n,init:function(){var e=this,t=e.options,n=t.src;if(t.alt=t.alt||"",t.lazy||t.late){var a=Modernizr.svg;!a&&e.svgFallback&&(n=e.svgFallback),e.lazyLoaded=!1,e.initialAspectRatio=t.aspectRatio||"16-9",e.imgSrc=n?e.createFullUrl(n,t.path):"",e.currentImg="",e.isContentSlider=e.element.closest('[data-control="content-slider"]').length>0,e.isMediaViewer=e.element.closest('[data-control="media-viewer"]').length>0,t.srcset&&i.isResponsive&&(e.imgSrcsetArr=e.parseSrcset(t.srcset,Modernizr.highres,t.path),e.responsive=!0,e.largestIsLoaded=!1)}},createFullUrl:function(e,t){return e.indexOf("//")===-1&&t&&"noimage"!==e?t+e:e},parseSrc:function(e,i){var n,a=t.trim(e).split(" "),o=a.length,s={retina:!1};for(s.url=this.createFullUrl(a[0],i),n=1;n<o;n+=1){var r=a[n];"w"===r[r.length-1]?s.width=parseInt(r,10):"1-1"===r||"3-2"===r||"4-3"===r||"16-9"===r?s.ratio=r:"2x"===r&&(s.retina=!0)}return s},parseSrcset:function(e,t,i){var n,a,o=this,s=e.split(","),r=e.split(",").length,l=[];for(a=0;a<r;a+=1){var c=o.parseSrc(s[a],i);l.push(c)}for(l.sort(function(e,t){var i=1e5,n=e.width||i,a=t.width||i;return n-a}),n=l.length,a=n-1;a>0;a-=1)l[a].width===l[a-1].width&&(l[a].retina!==t?l.splice(a,1):l.splice(a-1,1));return l},getImgToLoad:function(e,t,i){var n,a;if(!e||!i)return{url:t};for(n=e.length,a=0;a<n;a+=1)if(Modernizr.mq("(max-width:"+e[a].width/16+"em)"))return e[a];return e[n-1]},preloadImg:function(e,t,n){var a=this,o=new Image;o.onload=function(){t(),i.publish("image.loaded",{element:a.element})},n&&(o.onerror=function(){n(),i.publish("image.errored",{element:a.element})}),e?o.src=e:o.onerror()},removeSmallerImages:function(e){var i=this,n=i.imgSrcsetArr,a=1/0,o=!0;if(n&&e){var s,r=n.length;for(s=0;s<r;s+=1)if(n[s].url===e){a=n[s].width||a;break}return i.imgSrcsetArr=t.map(n,function(t){return void 0!==t.width&&t.width<a&&"noimage"!==t.url&&(t.url=e),o=o&&"noimage"!==t.url,t}),i.largestIsLoaded=o,i.imgSrcsetArr}},updateImgSrc:function(e){var t=this;t.image.src=e,t.image.removeAttribute("height"),t.image.removeAttribute("width")},updateRatio:function(e,t){var i=this;i.isMediaViewer||(e.removeClass("aspect-ratio1-1 aspect-ratio3-2 aspect-ratio4-3 aspect-ratio5-4 aspect-ratio16-9"),t?e.addClass("aspect-ratio"+t):e.addClass("aspect-ratio"+i.initialAspectRatio))},embedImage:function(e,t,i,n){var a=this,o=e.url;o&&a.currentImg===o||(a.currentImg=o,a.preloadImg(o,function(){a.currentImg===o&&(a.lazyLoaded?a.updateImgSrc(o):(a.lazyLoaded=!0,n.removeClass("no-image"),n.addClass("loading"),a.image=window.document.createElement("img"),a.image.alt=t,a.image.className=i,a.image.onload=function(){setTimeout(function(){n.removeClass("loading")},10)},a.updateImgSrc(o),n.prepend(a.image)),a.responsive&&(a.options.downgrade?a.updateRatio(n,e.ratio):a.removeSmallerImages(o)))},function(){a.lazyLoaded||(n.removeClass("loading"),n.addClass("no-image"),a.responsive||(a.lazyLoaded=!0))}))},lazyLoad:function(e){var t=this,n=t.options,a=t.isContentSlider,o=t.element;if(!t.lazyLoaded||t.responsive||n.late){var s;if("none"===o.css("display")||"hidden"===o.css("visibility"))return;if(t.isMediaViewer&&!o.hasClass("current")&&!e)return;if(!a||a&&o.closest(".current-tile").length>0){if(!t.downgrade&&t.largestIsLoaded)return;if(s=t.getImgToLoad(t.imgSrcsetArr,t.imgSrc,i.isResponsive),"noimage"===s.url)return o.addClass("dont-display"),void("background"===o.data("media-type")&&(o.css("background-image",""),t.currentImg="noimage"));o.removeClass("dont-display"),t.embedImage(s,n.alt,n["class"],o)}}},lateLoad:function(){var e=this,t=e.element,n=i.media.delay||100;0!==t.length&&(e.options.late||(e.options.late=!0),setTimeout(function(){e.lazyLoad(),i.publish("lateLoad.media",e)},n))}},a.prototype=new n,a.prototype.constructor=a,a.prototype.embedImage=function(e,t,i,n){var a=this,o=e.url;o&&a.currentImg===o||(a.currentImg=o,a.preloadImg(o,function(){a.currentImg===o&&(a.lazyLoaded=!0,n.removeClass("no-image"),a.updateImgSrc(o),n.removeClass("loading"),a.responsive&&(a.options.downgrade?a.updateRatio(n,e.ratio):a.removeSmallerImages(o)))},function(){a.lazyLoaded||(n.removeClass("loading"),n.addClass("no-image"),a.responsive||(a.lazyLoaded=!0))}))},a.prototype.updateImgSrc=function(e){this.element.css("background-image","url("+e+")")},o.prototype={constructor:o,init:function(){var e=this;e.options.lazy?(e.lazyLoaded=!1,e.isContentSlider=e.element.closest('[data-control="content-slider"]').length>0):e.embedVideo()},embedVideo:function(){var e,t,n=this,a=n.options,o=a.mediaType,s=a.mediaOptions,r=a.mediaId,l=n.element,c=a.videoParameters?a.videoParameters:"";if(!n.videoPlayer){n.videoId="M"+g+"_"+o+r;var d=n.videoId,u=i.getCompiledTemplate("uitk-youtube-video");window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var h="&origin="+window.location.origin;g++,t=u({id:d,mediaId:r,videoParameters:"&"+c+h}),l.append(t),e=i.embedVideo(o,r,s,n.videoId,function(){e.done(function(e){l.removeClass("loading").data("video",i.createVideoObject(o,e))})}),n.videoPlayer=e}},lazyLoad:function(){var e=this;if(!e.lazyLoaded){if("none"===e.element.css("display")||"hidden"===e.element.css("visibility"))return;(!e.isContentSlider||e.isContentSlider&&e.element.closest(".current-tile").length>0)&&(e.embedVideo(),e.lazyLoaded=!0)}}},t.fn[h]=function(){var e,i,s,r;return"object"==typeof arguments[0]?(e=arguments[0],i=arguments[1],s=arguments[2],r=arguments[3]):(e={},i=arguments[0],s=arguments[1],r=arguments[2]),this.each(function(){var l=t(this);t.data(this,h)||(l.data("mediaType")&&"youtube"===l.data("mediaType")?t.data(this,h,new o(this,e)):l.data("mediaType")&&"background"===l.data("mediaType")?t.data(this,h,new a(this,e)):t.data(this,h,new n(this,e))),"string"==typeof i&&t.data(this,h)[i](s,r)})},t("[data-control=media]")[h](),i.subscribe("contentSlider.pageChange",function(e,t,i,n){var a="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd";t.off(a),m&&!n?t.on(a,function(){s(),t.off(a)}):setTimeout(function(){s()},50)}),s=function(){var e,n,a,o=t('figure[data-lazy="true"], .background[data-media-type="background"]:not([data-late="true"])');o.length>0&&(e=v.scrollTop(),n=e+v.height(),a=i.media.lazyBuffer||0,o.each(function(){var i=t(this),o=i.offset(),s=o.top,r=s+i.outerHeight(),l=s-a<n&&r+a>e;0!==s&&l&&i[h]("lazyLoad")}))},r=function(){s(),u()},l=function(){t('figure[data-late="true"]')[h]("lateLoad"),t('figure[data-media-type="youtube"]')[h]("embedVideo"),s()},u=function(){},i.hasTouch&&(u=function(){clearTimeout(c),w=!1},t("body").one("touchstart",function(){u()}),d=function(){c=setTimeout(function(){return v.scrollTop()!==b?void s():void(y<k&&(y+=1,d()))},500)},w&&d()),i.subscribe("debounced.scroll",r),i.subscribe("debounced.resize",l),i.subscribe("debounced.bodyResize",l),i.subscribe("menu.opened",l),i.subscribe("toggle.opened",l),s(),t('figure[data-late="true"]')[h]("lateLoad"),i.utils.loadMedia=l,i.modules.MediaImage=n,i.modules.MediaBgImage=a,n}),define("uitk_mediaViewer",["uitk_domReady","jquery","handlebars","uitk","uitk_plugins","figure-tag.hbs","uitk-youtube-video.hbs"],function(e,t,i,n,a){"use strict";function o(e,t){a.newModule.call(this,e,t,r)}var s="uitk_mediaViewer",r={},l="current",c=0,d=500;return o.prototype={constructor:o,init:function(){var e,i=this,a=i.options.sliderId;i.showMediaTimeout="",i.mediaCarouselNum=c,c++,i.videoCount=0,this.mediaTemplate||(o.prototype.mediaTemplate=n.getCompiledTemplate("figure-tag")),n&&(e=function(e,t,i){var n,o;if(a===i)switch(o=t.find("a"),n=o.data("mediaType")||"image"){case"image":var s=o.data(),r=o.attr("href"),l=t.find("img").attr("alt"),c=o.data("caption");l===c&&(l=""),this.showMedia("image",r,l,s);break;case"youtube":var d=o.data("mediaId"),u=o.data("videoParameters"),h=o.data("mediaOptions")||{};u=!u||""!==u&&"&"===u.charAt(0)?u:"&"+u,this.showMedia("youtube",d,h,u)}},n.subscribe("media.selected",this,e),n.subscribe("image.loaded",function(e,n){t.contains(i.element[0],n.element[0])&&setTimeout(function(){i.handleImageLoad(n.element)},0)}),n.subscribe("image.errored",function(e,n){t.contains(i.element[0],n.element[0])&&i.handleImageError(n.element)}))},showMedia:function(e){var t=arguments,i=this.element,n=this;switch(this.current&&this.current.data("video")&&this.current.data("video").pauseVideo(),e=e||"image",i.find("."+l).removeClass(l).attr("aria-hidden",!0),clearTimeout(n.showMediaLoaderTimeout),n.showMediaLoaderTimeout=setTimeout(function(){i.addClass("loading")},d),clearTimeout(n.showMediaTimeout),e){case"image":n.showImage(t[1],t[2],t[3]);break;case"youtube":n.showVideo(e,t[1],t[2],t[3])}},showImage:function(e,i,a){var o,s,r=this,l=this.element,c=a?a.caption:void 0,d=a?a.srcset:void 0,u=d&&n.isResponsive,h=l.find('[data-src="'+e+'"]').eq(0);h.css({"padding-top":0}),0===h.length?this.showMediaTimeout=setTimeout(function(){var h,p,f={isImage:!0,mediaType:"image",src:e,alt:i,caption:c,captionClass:"media-caption",classes:"media-wrap image",dataAttributes:'data-unique-id="'+n.createUniqueId()+'"'};a&&(h=a.path,p=a.downgrade),u&&(f.srcSet=d,f.lazyIsTrue=!0,f.lazy=!0,p&&(f.downgrade=p),h&&(f.path=h)),o=t(r.mediaTemplate(f)),r.current=o,l.prepend(o),u?o.uitk_media("lazyLoad",!0):(s=o.find("img"),s.one("load",function(){r.handleImageLoad(o)}),s.one("error",function(){r.handleImageError(o)}),(s[0].complete||o.hasClass("no-image"))&&(s.width(),s.trigger("load")))},10):(h.find("img").length>0&&h.find("img")[0].complete||h.hasClass("no-image"))&&(r.current=h,r.handleImageLoad(h),u&&h.uitk_media("lazyLoad"))},handleImageLoad:function(e){var t=this;t.current.data("uniqueId")===e.data("uniqueId")&&(clearTimeout(t.showMediaLoaderTimeout),t.element.removeClass("loading"),e.addClass(l).removeAttr("aria-hidden"))},handleImageError:function(e){var t=this;clearTimeout(t.showMediaLoaderTimeout),t.element.removeClass("loading"),e.data("srcset")||e.addClass("no-image"),t.handleImageLoad(e)},getMCVideoId:function(e,t){return this.videoCount++,"MC"+this.mediaCarouselNum+this.videoCount+"_"+e+t},getVideoIframe:function(e){return t("#"+e)},showVideo:function(e,i,a,o){var s,r,c,d=this,u=d.element,h=d.getMCVideoId(e,i),p=d.getVideoIframe(h),f=o?o:"";window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var g="&origin="+window.location.origin,m=n.getCompiledTemplate("uitk-youtube-video");0===p.length?this.showMediaTimeout=setTimeout(function(){var o={classes:"media-wrap"};s=t(d.mediaTemplate(o)),c=m({id:h,mediaId:i,videoParameters:f+g}),s.prepend(c),u.prepend(s),d.current=s,r=n.embedVideo(e,i,a,h,function(){r.done(function(t){s.data("video",n.createVideoObject(e,t)),d.current===s&&(clearTimeout(d.showMediaLoaderTimeout),u.removeClass("loading"),s.addClass(l).removeAttr("aria-hidden"))})}),conditionizr.ie8&&s.addClass(l).removeAttr("aria-hidden")},500):(s=p.closest(".media-wrap"),this.current=s,s.data("video")&&s.data("video").videoObj.getPlayerState()!==-1&&s.data("video").rewindVideo(),clearTimeout(d.showMediaLoaderTimeout),u.removeClass("loading"),s.addClass(l).removeAttr("aria-hidden"))},getTopPadding:function(e,t){return Math.floor((e-t)/2)}},a.initPlugin(s,o),t("[data-control=media-viewer]")[s](),n.modules.MediaViewer=o,o}),define("uitk_mediaSlider",["uitk_domReady","jquery","uitk_i18n","uitk","uitk_plugins"],function(e,t,i,n,a){"use strict";function o(e,t){a.newModule.call(this,e,t)}var s="uitk_mediaSlider",r=t("body"),l="current",c=n.clickEvent+"."+s;return o.prototype={constructor:o,init:function(){var e,t=this,i=t.element;i.attr("data-control","image-slider"),t.sliderId=t.options.sliderId,t.thumbs=i.find(".image-slider-thumbs"),t.mask=i.find(".image-slider-mask"),t.current=t.thumbs.find("."+l),t.images=t.thumbs.find("li"),t.totalThumbs=t.images.length,t.nextButton=i.find(".image-slider-control.next"),t.previousButton=i.find(".image-slider-control.prev"),e=t.images.toArray(),e&&e instanceof Array&&e.length>0&&!e[0].hasIndex&&t.setAltTextForImages(e),t.selectThumb(t.thumbs.find("li").first(),!0),n.subscribe("throttled.resize",function(){t.resize(t)})},setAltTextForImages:function(e){var i,n,a,o,s,r=this;for(a=e.length,o=r.totalThumbs,n=0;n<a;n++)i=e[n],s=r.getAltTextForThumb(i,n,o),t(i).find("img").attr("alt",s)},getAltTextForThumb:function(e,a,o){var s,r,l,c;return r=a+1,c=t(e).find("a").data("caption"),l=t(e).find("img").attr("alt"),s=i.t("media_gallery_showing_item",{arg0:r,arg1:o}),s=n.utils.htmlDecode(s),s+=void 0!==l&&""!==l?" "+l:"",s+=l!==c&&c?" "+c:"",e.hasIndex=!0,s},testThumbPosition:function(e){var t=this,i=t.thumbs.find("li:last"),n=e.offset().left,a=n+e.outerWidth(),o=t.mask.offset().left,s=o+t.mask.outerWidth(),r=i.offset().left+i.width();return n<o||a>s||r<s},getMaxSlide:function(){var e=this,t=e.thumbs.find("li:last");return t.position().left+t.outerWidth()-this.element.outerWidth()},moveThumbs:function(e,t){var i,n=this,a=n.thumbs,o=n.getMaxSlide();t?a.addClass("slide"):a.removeClass("slide"),i=e.position().left,i=o>i?i:o,i=i>0?i:0,Modernizr.csstransforms?a.css({transform:"translateX("+-i+"px)"}):e.css({left:-i})},repositionThumbs:function(e,t){var i=this,n=i.testThumbPosition(e);n&&i.moveThumbs(e,t)},liveAnnounceThumb:function(e){var i=t(e).find("img").attr("alt");n.utils.liveAnnounce(i)},selectThumb:function(e,t){var a,o,s,r,c,d,u=this;a=u.totalThumbs,e&&e.length>0&&(u.current&&u.current.removeClass(l),u.current=e.addClass(l),t||u.repositionThumbs(e,!0),n&&(o=e.index(),s=i.t("media_gallery_next_image_button"),r=i.t("media_gallery_previous_image_button"),c=o>=u.totalThumbs-1?i.t("media_gallery_no_image"):i.t("media_gallery_count",{arg0:o+2,arg1:u.totalThumbs}),d=o<=0?i.t("media_gallery_no_image"):i.t("media_gallery_count",{arg0:o,arg1:a}),c=n.utils.htmlDecode(c),d=n.utils.htmlDecode(d),u.nextButton.find(".visuallyhidden").text(s+" "+c),u.previousButton.find(".visuallyhidden").text(r+" "+d),n.publish("media.selected",e,u.sliderId),u.liveAnnounceThumb(e)))},prev:function(){var e=this,t=e.current.prev();t.length<1&&(t=e.thumbs.find("li:last")),e.selectThumb(t)},next:function(){var e=this,t=e.current.next();t.length<1&&(t=e.thumbs.find("li:first")),e.selectThumb(t)},resize:function(){var e=this,t=e.thumbs.find("."+l);e.repositionThumbs(t,!1)}},a.initPlugin(s,o),r.on(c,'[data-control="image-slider"] .image-slider-control',function(e){var i=t(e.target),n=i.closest(".image-slider-control"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),n.hasClass("next")?a[s]("next"):n.hasClass("prev")&&a[s]("prev")}),r.on(c,'[data-control="image-slider"] .image-slider-thumbs a',function(e){var i=t(e.target),n=i.closest("li"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),n.hasClass("current")||a[s]("selectThumb",n)}),r.on("focus."+s,'[data-control="image-slider"] .image-slider-thumbs a',function(e){var i=t(e.target),n=i.closest("li"),a=i.closest('[data-control="image-slider"]');e.preventDefault(),setTimeout(function(){a[s]("repositionThumbs",n,!0)},100)}),t("[data-control=image-slider]")[s](),n.modules.MediaSlider=o,o}),define("uitk_contentSlider",["uitk_domReady","jquery","hammer","handlebars","uitk","uitk_plugins","uitk_i18n"],function(e,t,i,n,a,o,s){"use strict";function r(e,t){o.newModule.call(this,e,t,h)}var l="uitk_contentSlider",c=t("body"),d='[data-control="content-slider"]',u=".content-slider-controls button",h={infinite:!1,controlTemplate:"uitk-content-slider-controls-template",scrollTime:"0.5s"},p=Modernizr.touch,f=a.clickEvent,g=a.isTouchDevice,m=Modernizr.csstransitions,v=(Modernizr.csstransforms,Modernizr.csstransforms3d),b=!1;return r.prototype={constructor:r,init:function(){var e=this,n=e.element,o=t(window);if(n.find(".flex-tile").length>0?(b=!0,e.sliderGrid=n.find('[class~="flex-tile"]'),e.sliderGrid.slides=e.sliderGrid.find(".uitk-col")):(e.sliderGrid=n.find('[class^="tile-grid"]'),e.sliderGrid.slides=e.sliderGrid.find(".tile")),n.is(":visible")){if(e.contentMask=n.find(".content-slider-mask"),e.numVisibleTiles=e.getNumVisibleTiles(),e.uniqueId=e.options.modalId||a.createUniqueId(),n.attr("data-unique-id",e.uniqueId),e.moveToPage(1,!0),e.updateControls(!0),Modernizr.mediaqueries&&(o.on("resize.event"+e.uniqueId,function(){e.handleResize()}),o.on("orientationchange.event"+e.uniqueId,function(){e.handleResize()})),p||window.navigator.msPointerEnabled){e.swipeCheck=!0;var s=new i(e.contentMask[0]);s.on("swipe pan",function(i){var n=null,a=-1*i.deltaX,o=a<0?"right":"left",s=i.srcEvent.type,r="pointermove"===s||"touchmove"===s;return n||(n=t(i.target).closest('[data-control="content-slider"]')),"swipe"===i.type&&(e.swipeCheck=!1,n[l]("slideEnd",o,a)),i.deltaTime>150&&"pan"===i.type&&r?void n[l]("slideMove",a):void("pan"!==i.type||r||(e.swipeCheck?n[l]("slideEnd",o,a):e.swipeCheck=!0))})}g||(e.deboucedResize=a.subscribe("debounced.resize",function(){e.positionPage(e.currentPage)}))}},addControls:function(e,t){var i,n,o=this,s=o.getNumOfPages();return o.updateCurrentClasses(e),s<=1?void o.element.find(".content-slider-controls").remove():(o.controlTemplate||(r.prototype.controlTemplate=a.getCompiledTemplate(o.options.controlTemplate),a.getCompiledTemplate("button-tag",!0)),i=o.generateModel(),n=o.controlTemplate(i),t&&o.element.find(".content-slider-controls").remove(),void o.element.append(n))},generateModel:function(e,t){var i,n,a,o=this,r={},l=o.getCurrentPage(),c=o.getNumOfPages(),d=[],u={};for(e=e||o.options.prevLabel||s.t("content_slider_previous_label"),i="pageprev",r.prevButton={type:"button",classes:"btn-paging prev",isDisabledButton:!1,content:'<span class="icon icon-'+i+'" aria-hidden="true"></span><span class="visuallyhidden">'+e+"</span>"},t=t||o.options.nextLabel||s.t("content_slider_next_label"),n="pagenext",r.nextButton={type:"button",classes:"btn-paging next",isDisabledButton:!1,content:'<span class="icon icon-'+n+'" aria-hidden="true"></span><span class="visuallyhidden">'+t+"</span>"},a=1;a<=c;a+=1)u={},a===l&&(u.isCurrent=!0,1!==a||o.options.infinite||(r.prevButton.isDisabledButton=!0),a!==c||o.options.infinite||(r.nextButton.isDisabledButton=!0)),u.pageNum=a,d.push(u);return r.pages=d,r},updateControls:function(e){this.addControls(e,!0)},updateCurrentClasses:function(e){var t,i=this,n="current-tile",o=i.getCurrentPage(),s=i.getNumVisibleTiles(),r=i.sliderGrid.slides;e=e||!1,r.removeClass(n).attr("aria-hidden","true"),r.find("a").attr("tabindex","-1"),t=r.slice(s*(o-1),s*o),t.addClass(n).attr("aria-hidden","false"),t.find("a").removeAttr("tabindex"),a.publish("contentSlider.pageChange",i.element,o,e)},unregister:function(){var e=this;t(window).off(".event"+e.uniqueId),e.deboucedResize&&a.unsubscribe("debounced.resize",e.deboucedResize)},getPagePosition:function(){var e;return e=g?function(e){return(e-1)*-100+"%"}:function(e){var t,i;return i=this.sliderGrid.slides.outerWidth(),t=(e-1)*this.getNumVisibleTiles()*-i+"px"}}(),positionPage:function(e,t){var i=this,n=i.getPagePosition(e),a=t?"0s":i.options.scrollTime;i.sliderGrid.css({"-webkit-transition-duration":a,"-moz-transition-duration":a,"transition-duration":a}),v?i.sliderGrid.css({transform:"translateX("+n+")"}):i.sliderGrid.css({left:n})},moveToPage:function(e,t){var i=this;e>0&&e<=i.getNumOfPages()&&(i.positionPage(e,t),i.setCurrentPage(e),i.updateControls())},next:function(){var e=this,t=e.getCurrentPage(),i=e.moveToPage,n=t+1;n>e.getNumOfPages()?i(e.options.infinite===!0?1:t):e.moveToPage(n),e.setPageFocus()},prev:function(){var e=this,t=e.getCurrentPage(),i=e.moveToPage,n=t-1;n<1?i(e.options.infinite===!0?e.getNumOfPages():t):e.moveToPage(n),e.setPageFocus()},selectPage:function(e){var t=this,i=t.element.find(".content-slider-nav button").index(e)+1;t.moveToPage(i),t.setPageFocus()},setPageFocus:function(){var e,t=this,i=t.element.find(".current-tile").eq(0),n=t.element.find(".current-tile .flex-title").eq(0),o=t.element.find(".current-tile .tile-name").eq(0);e=1===n.length?n:1===o.length?o:i,m?t.element.one("transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",function(){a.utils.focusElement(e)}):a.utils.focusElement(e)},setCurrentPage:function(e){var t=this;t.currentPage=e,t.element.attr("data-current-page",e)},getCurrentPage:function(){return this.currentPage},getNumVisibleTiles:function(){var e=this.contentMask,t=this.sliderGrid.slides,i=e.width(),n=t.first().outerWidth();return Math.round(i/n)},getNumOfPages:function(){var e=this,t=e.sliderGrid,i=t.slides,n=i.length;return e.numVisibleTiles?Math.ceil(n/e.numVisibleTiles):0},getNewCurrentPage:function(e,t){var i,n=this,a=n.getCurrentPage(),o=n.getNumOfPages(),s=t*(a-1)+1,r=t*a;return i=t<e?Math.ceil(r/e):t>e?Math.ceil(s/e):a,i=i>o?o:i},handleViewChange:function(e){var i=this;if(i.uniqueId!==i.element.attr("data-unique-id")||0===t('[data-unique-id="'+i.uniqueId+'"]').length)return void i.unregister();var n,a,o=i.numVisibleTiles;i.sliderGrid.addClass("view-change"),i.numVisibleTiles=e,n=i.getCurrentPage(),a=i.getNewCurrentPage(e,o),i.updateControls(!0),n!==a&&setTimeout(function(){i.moveToPage(a,!0)},10),setTimeout(function(){i.sliderGrid.removeClass("view-change")},50)},handleResize:function(){var e=this,t=e.getNumVisibleTiles();e.numVisibleTiles!==t&&e.handleViewChange(t)},slideMove:function(e){var t,i=this,n=i.contentMask.width();t=((i.currentPage-1)*n+e)/n*-100,i.scrollPages(t)},slideEnd:function(e,t){var i=this,n=Math.abs(t/i.contentMask.width());n>.08?"left"===e?i.next():i.prev():i.moveToPage(i.currentPage)},scrollPages:function(e){var t=this;t.sliderGrid.css({"-webkit-transition-duration":"0.5s",transform:"translateX("+e+"%)"})}},o.initPlugin(l,r),t("[data-control=content-slider]")[l](),c.on(f+"."+l,d+" "+u,function(e){var i=t(e.target),n=i.closest(u),a=i.closest(d);e.preventDefault(),n.hasClass("next")?a[l]("next"):n.hasClass("prev")?a[l]("prev"):n.closest(".content-slider-nav").length>0&&a[l]("selectPage",n)}),g&&c.on("click."+l,d+" "+u,function(e){e.preventDefault()}),a.modules.ContentSlider=r,r}),define("uitk_modal",["uitk_domReady","jquery","handlebars","uitk","uitk_focus","uitk_plugins","uitk_i18n","uitk-modal-bg-template.hbs","uitk-modal-inner-template.hbs","uitk-modal-template.hbs","uitk-modal-title-template.hbs"],function(e,t,i,n,a,o,s){"use strict";function r(e,i,n){var a,o,s,r,l=this,c={};l.element=t(e),n&&(l.focusMeOnClose=n),i=i||{},a=l.element.data()||{},i.jsTheme?o=i.jsTheme:l.element.data("jsTheme")&&(o=l.element.data("jsTheme")),s=g[o]||{},r=i.animation||a.animation||p.animation,c=l.getAnimationTypes(r,o),l.options=t.extend(!0,{},p,s,a,i,c),l.options.optOutStorage=l.options.optOut&&_,l.init()}var l="uitk_modal",c=t("body"),d=t("html"),u=t(document),h=t(window),p={title:!1,background:!0,optOut:!1,ajax:!1,footer:!1,dismiss:!0,closeBtn:!0,template:"uitk-modal-template",showLoader:!1,animation:"slide-in-slide-out",roleDialog:!1,focusOpen:".modal-body :first-child",focusClose:"",removalTime:500},f={fade:180,none:10,slide:500},g={},m="active",v="active-modal",b="active-modal-ios",y="active-modal-no-bg",k="modal-wrap",w="fade-in",C="fade-out",T="pop-in",P="pop-out",S="modal-inner",D="modal-body",I="modal-background",x="modal-close",_=Modernizr.sessionstorage,O=n.clickEvent+"."+l,E=Modernizr.positionfixed,A="transitionEnd oTransitionEnd msTransitionEnd transitionend webkitTransitionEnd",F=n.createFocus(),M=F.focusEvent(),L=function(e,i,n){var a=t("."+k);a.each(function(){t(this).data("modal").close(e,i,n)}),u.off("keydown","."+k,function(e){27===e.keyCode&&L("esc",!0,e)})},R=function(e){return f[e]||p.removalTime};return r.prototype={constructor:r,init:function(){var e=this,t=e.options;return(!t.optOutStorage||(e.storageKey="modal-opt-out-"+t.modalId,"true"!==sessionStorage.getItem(e.storageKey)))&&(t.resetNoFocus={closeBtn:!0,lastFocusable:null,modal:null},i.registerPartial("uitk-modal-inner-template",n.getCompiledTemplate("uitk-modal-inner-template")),i.registerPartial("uitk-modal-bg-template",n.getCompiledTemplate("uitk-modal-bg-template")),e.getContent(),e.modalTemplate||(r.prototype.modalTemplate=n.getCompiledTemplate(t.template,!0),r.prototype.modalTitleTemplate=n.getCompiledTemplate("uitk-modal-title-template",!0),n.getCompiledTemplate("button-tag",!0)),e.getHtml(),void e.setAnimationClassNames())},isHtml:function(e){return e.indexOf(">")!==-1},getContentFromJquery:function(e){return t("<div></div>").append(e).html()},getContent:function(){var e=this,i=e.options.content,n=!1,a=!1;i||(i=e.element.attr("href"),n=!0),e.options.ajax?e.contentRequest=t.get(i,function(t){e.updateContent(t)}):"string"==typeof i?(a=e.isHtml(i),a?e.content=i:(n||(i="#"+i),t(i).data("modal-content")?e.content=t(i).data("modal-content"):(e.content=t(i).html(),t(i).data("modal-content",e.content),t(i).children().remove()))):i instanceof jQuery?e.content=e.getContentFromJquery(i):e.content=""},updateTitle:function(e){var i=this,n=i.options,a=i.modalWrap.find(".modal-title");return e?(a.length>0?a.html(e):i.modalWrap.find(".modal-inner").prepend(t(i.modalTitleTemplate({title:e,id:n.id,content:i.content}))),n.title=e):(i.modalWrap.find(".modal-header").remove(),n.title=!1),i},updateContent:function(e,t){var i=this;return"string"==typeof e&&i.isHtml(e)?(i.content=e,i.options.showLoader?i.modalBodyHtml.addClass("loading").attr("aria-busy","true"):i.modalBodyHtml.removeClass("loading").attr("aria-busy","false")):e instanceof jQuery?i.content=i.getContentFromJquery(e):(i.content="",i.modalInnerHtml.addClass("loading").attr("aria-busy","true"),i.modalWrap.find(".modal-header").attr("aria-hidden","true")),i.modalWrap&&(i.modalWrap.find(".modal-body").html(i.content),n.initCalendarInputs&&n.initCalendarInputs(i.modalWrap),n.initDatePickerInputs&&n.initDatePickerInputs(i.modalWrap),void 0!==t&&i.updateTitle(t),n&&n.publish&&n.publish("modal.appended",i),""!==i.content&&(i.modalInnerHtml.removeClass("loading").attr("aria-busy","false"),i.modalWrap.find(".modal-header").removeAttr("aria-hidden"))),i},getModalData:function(){var e=this,t={},i=e.options,n=i.classes;return t.title=i.title,t.id=i.modalId,t.roleDialog=i.roleDialog,t.optOut=i.optOutStorage,t.optOutText=i.optOutText||!1,t.theme=i.jsTheme,t.animationIn=i.animationIn,t.animationOut=i.animationOut,t.dismiss=i.dismiss&&i.background,t.closeBtn=i.closeBtn,t.closeText=i.closeText,t.background=i.background,t.isOpi="onpage-interstitial"===i.jsTheme,t.content=e.content||"",t.classes=void 0!==n&&" "!==n.substring(0,1)?" "+n:n,t.showLoader=i.showLoader,t.footer=i.footer||i.optOut,t.footerCloseButton={type:"button",id:"footerModalCloseButton",cssClass:"btn-utility btn-secondary modal-close",content:t.closeText||s.t("close")},t.closeButton={type:"button",id:"modalCloseButton",cssClass:"btn-close modal-close btn-primary",isBtnTypeClose:!0,modalBtnClose:!0},t},getHtml:function(){var e=this,i=e.getModalData(),n=t(e.modalTemplate(i));e.modalHtml=n,e.modalWrap=n.filter("."+k),e.modalBg=n.filter("."+I),e.modalInnerHtml=e.modalWrap.find("."+S),e.modalBodyHtml=e.modalWrap.find("."+D)},getAnimationTypes:function(e,t){var i=t&&"default"!==t,n=p.animation.split("-"),a=i||!e?n:e.split("-"),o=a[0],s=a.length<4?a[0]:a[2],r={};return i&&(a=n),r.animationOut=f.hasOwnProperty(s)?s:n[2],r.animationIn=f.hasOwnProperty(o)?o:n[0],r.removalTime=R(s),r},setAnimationClassNames:function(){var e=this,t=e.options,i=e.modalWrap,n=e.modalBg;switch(t.animationIn){case"fade":i.addClass(w),n.addClass(w);break;case"none":i.addClass(T),n.addClass(T)}switch(t.animationOut){case"fade":i.addClass(C),n.addClass(C);break;case"none":i.addClass(P),n.addClass(P)}},setAriaHidden:function(){var e,t,i=0;if(!window.isIE8)for(e=document.querySelectorAll('body > :not(#uitk-live-announce):not([class^="modal-"]):not(script):not([aria-hidden="true"])'),t=e.length,i;i<t;i++)e[i].className.indexOf("uitk-aria-hidden")<0&&(e[i].className+=" uitk-aria-hidden",e[i].setAttribute("aria-hidden",!0))},removeAriaHidden:function(){var e=document.getElementsByClassName("uitk-aria-hidden"),t=e.length;if(!window.isIE8)for(t;t>0;t--)e[t-1].removeAttribute("aria-hidden"),e[t-1].className=e[t-1].className.replace(" uitk-aria-hidden","")},setModalFocus:function(){var e=this,i=e.options,a=i.focusOpen,o=i.resetNoFocus,s=0===e.modalBodyHtml.children().length,r=".modal-body :first-child"===a,l=t(r?a:"#"+a);if((conditionizr.ie9||conditionizr.ie10||conditionizr.ie11)&&e.setAriaHidden(),0===l.length&&s&&(l=t(".modal-loader :first-child")),setTimeout(function(){F.setFocusContextSelector("."+k+"."+m),F.enable(),r&&i.title&&!s?F.firstFocus():F.blur(l.eq(0)),e.token=n.subscribe(M,e,e.onFocusCapture),conditionizr.ie9&&conditionizr.ie10&&conditionizr.ie11||e.setAriaHidden()},50),!i.closeBtn){var c=n.utils.focusableElements(e.modalInnerHtml);(!c||c.length<1)&&(o.closeBtn=!1,o.defaultElement=l,document.addEventListener("keydown",e.disableTabKey))}},removeModalFocus:function(){var e=this,i=e.options,a=e.lastFocused,o=i.focusClose,s=o.length>0?t("#"+o):e.focusMeOnClose;n.unsubscribe(M,e.token),setTimeout(function(){s?F.blur(s):F.blur(a),F.disable()},50),e.removeAriaHidden()},onFocusCapture:function(e,i){var a,o,s,r,l=this,c=l.options,d=c.resetNoFocus,u=n.utils.focusableElements(t(i.container));if("undefined"!=typeof u){if(o=u.index(i.focused),s=u.length,r=s>1,t(".uitk-tooltip.active-tooltip").each(function(e,n){if(i.focused&&t.contains(n,i.focused))return a=!0,!1}),r){if(s===o+1&&i.container)i.focused.addEventListener("keydown",function(e){d.lastFocusable=i.focused,9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),u[o-1].focus()):(e.preventDefault(),u[0].focus())});else if(0===o)i.focused.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),u[s-1].focus())});else if(d.lastFocusable)return void d.lastFocusable.removeEventListener("keydown",l.disableTabKey)}else 1===s&&i.focused.addEventListener("keydown",function(e){var i=t(e.currentTarget);9===e.which&&(i.hasClass("inline-label")||i.hasClass("modal-close")||i.is("input"))&&e.preventDefault()});i.isContainedInContext||a||(d&&!d.closeBtn?l.setModalFocus():F.focus())}},appendHtml:function(){var e=this,t=e.options,i=e.modalInnerHtml,a=e.modalWrap,o=e.modalBg;a.data("modal",e),e.modalHtml.appendTo(c),n.refreshPlaceholders(),e.content&&n&&n.publish&&n.publish("modal.appended",e),setTimeout(function(){e.scrollPosition=null,t.background||d.addClass(y),d.addClass(v),"default"===t.jsTheme&&Modernizr.appleios&&d.addClass(b),setTimeout(function(){a.addClass(m),o.addClass(m)},25),i.on(A,function(){i.off(A),e.setModalFocus()}),Modernizr.csstransitions||i.trigger("transitionEnd");var n=i[0].getElementsByClassName("modal-loader p");e.content&&n&&n.length>0&&n[0].setAttribute("aria-hidden",!0)},100)},disableTabKey:function(e){9===e.which&&e.preventDefault()},removeAfterAnim:function(e,i){var n,a=this,o=a.options,s=A;n=t("."+I),e.on(s,function(){e.off(s).remove(),a.finish&&0===t(".modal-wrap").length?(d.removeClass([v,y,b].join(" ")),Modernizr.appleios&&a.forceRepaint(c)):a.finish&&t(".modal-background").length>0?d.removeClass(y):a.finish=!0,!e.hasClass(I)&&o.background&&0===parseFloat(a.backgroundOpacity)&&n.trigger("transitionEnd"),i&&a.removeModalFocus()})},forceRepaint:function(e){var t=e[0].style.display;e[0].style.display="inline-block",e[0].offsetHeight,e[0].style.display=t},open:function(e,i){function a(){if(!t(document.activeElement).is(l)){var e=h.scrollTop()/17+"em";r.css({top:e})}}var o=this,s=o.options,r=o.modalHtml,l="input:not([readonly]), textarea";return"open"!==s.manual&&"both"!==s.manual||!e?(o.lastFocused=o.element,
(!s.optOutStorage||"true"!==sessionStorage.getItem(o.storageKey))&&(o.appendHtml(),E||s.background||setTimeout(function(){a(),n.subscribe("debounced.scroll",function(){a()}),r.on("blur",l,function(){setTimeout(function(){a()},0)})},10),u.on("keydown","."+k,function(e){27===e.keyCode&&L("esc",!0,e)}),o)):(n.publish("modal.beforeOpen",o,i),!1)},close:function(e,i,a){var o,s,r,l=this,c=l.options,u=l.modalHtml,h=l.modalWrap,p=l.modalBg;return l.finish=!1,!("background"===e&&!c.background||"background"===e&&!c.dismiss||"esc"===e&&!c.dismiss)&&("close"!==c.manual&&"both"!==c.manual||!i?(document.removeEventListener("keydown",l.disableTabKey),c.background&&(r=t("."+I),l.backgroundOpacity=r.css("opacity")),n.tooltips&&n.tooltips.hideAll&&n.tooltips.hideAll(),Modernizr.csstransitions&&(c.background?(l.removeAfterAnim(h),l.removeAfterAnim(p,!0)):(l.finish=!0,l.removeAfterAnim(h,!0)),setTimeout(function(){h.trigger("transitionEnd"),p.trigger("transitionEnd")},c.removalTime)),c.optOutStorage&&(o=h.find("input[name="+c.modalId+"-opt-out]"),s=o&&o.attr("checked")?"true":"false",sessionStorage.setItem(l.storageKey,s)),h.removeClass(m),p.removeClass(m),n.publish("modal.close",l),Modernizr.csstransitions||(u.remove(),0===t(".modal-wrap").length?d.removeClass(v+" "+y):t(".modal-background").length>0&&d.removeClass(y),l.removeModalFocus()),E||c.background||n.unsubscribe("debounced.scroll"),l):(n.publish("modal.beforeClose",l,a),!1))}},o.initPlugin(l,r),c.on(O,'[data-control="modal"]',function(e){var i=t(e.target).closest('[data-control="modal"]');e.preventDefault(),i[l]("open",!0,e)}),c.on(O,"."+k,function(e){t(e.target).hasClass(k)&&(e.preventDefault(),L("background",!0,e))}),c.on(O,"."+x,function(e){e.preventDefault(),L("close-button",!0,e)}),t(window).on("orientationchange",function(){var e=document.activeElement,i=t(e),n=e.tagName;("INPUT"===n||"TEXTAREA"===n)&&!e.hasAttribute("readonly")&&i.closest(".modal-inner").length>0&&i.blur().focus()}),c.on("blur",".modal-inner input",function(e){"calendar"!==t(e.target).data("control")&&(c.css("height","+=10000").css("height","-=10000"),setTimeout(function(){c.css("height","")},0))}),n.modal={create:function(e,i){var n,a=null;return"undefined"!=typeof e&&e.focusClose&&e.focusClose.length>0?i=t("#"+e.focusClose):i?i=i.eq(0):(a=document.activeElement,a=t(a),a.length>0&&(i=a)),n=new r(null,e,i),n.open(!0),n},close:L},n.modules.Modal=r,r}),define("uitk_dropdown",["jquery","uitk","uitk_plugins"],function(e,t,i){"use strict";function n(e,t){var n=this;i.newModule.call(n,e,t,d)}var a,o,s,r,l,c="uitk_dropDown",d={gutter:6},u="[data-control=menu]",h=e(window),p=e("body"),f=parseFloat(p.css("min-width")),g=f>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,m=window.isIE8,v="ie8-menu-arrow",b="menu-arrow",y="open",k="pin-center",w=!0;return n.prototype={constructor:n,init:function(){var i=this,n=i.element,a=n.attr("data-target"),o=function(e){w="menu.opened"===e};a||(a=n.attr("href")),i.$parent=e(a),i.$parent=i.$parent.length?i.$parent:n.parent(),i.$menu=i.$parent.find(".menu"),i.$close=i.$menu.find(".close"),i.$sticky=i.$menu.hasClass("sticky"),t.subscribe("menu.opened",o),t.subscribe("menu.closed",o)},open:function(){var i=this;i.$parent.addClass(y),i.element.attr("aria-expanded","true"),i.$menu.removeAttr("aria-hidden"),i.storeOpen(i.element),t.publish("menu.opened",{$menu:i.element}),p.on(t.clickEvent+".dropdown.background",function(n){var a=e(n.target);i.$sticky&&i.$menu.find(n.target).length>0&&!a.hasClass("close")||(a.hasClass("close")&&i.$menu.find(n.target).length>0?(i.element.blur(),i.close(),t.utils.focusElement(i.element)):"menu"!==a.attr("data-control")&&i.closeAll())})},close:function(){var e=this;e.$parent.removeClass(y),e.$menu.attr("aria-hidden","true"),setTimeout(function(){e.element.attr("aria-expanded","false"),t.publish("menu.closed",{$menu:e.element})},100),e.clickOff()},closeAll:function(){var i=this,n=e(u).parent(),a=!!n.hasClass(y),o=n.find(".menu");n.removeClass(y),e(u).attr("aria-expanded","false"),o.attr("aria-hidden","true"),a&&t.publish("menu.closed",p.data("menuStored")),i.clickOff()},clickOff:function(){p.off(t.clickEvent+".dropdown.background")},storeOpen:function(e){p.data("menuStored",{$menu:e})},getWindowWidth:function(){return h.width()},centerMenu:function(){var e=this,t=e.element,i=t.next(".menu");s=i.outerWidth(),r=t.outerWidth(),l=(r-s)/2,i.css("right",l+"px")},setPos:function(){var e=this,t=e.element,i=t.nextAll(".menu").first(),n=t.hasClass("nav-tab"),c=t.hasClass("pin-left"),d=i.parent().hasClass("btn-group"),u=t.hasClass("pin-right"),h=e.options.gutter;a=e.getWindowWidth(),s=i.outerWidth(),r=t.outerWidth(),l=(r-s)/2,o=t.hasClass(k),n||c?i.css({right:"auto",left:0}):d||u?i.css("right",0):o&&i.css("right",l+"px");var p,f,g=i.offset(),m=g.left,v=a-(m+s),b=parseInt(m-h),y=parseInt(v-h),w=parseFloat(i.css("right")),C=w+b,T=w-y;m<h?(o?i.css("right",C+"px"):i.css("right",b+"px"),"0px"===i.css("right")&&"0px"===i.css("left")&&i.css("right","auto")):v<h&&(o?i.css("right",T+"px"):(i.css("left",y+"px"),p=i.position().left,f=s-r+p,f<=0&&i.css({right:0,left:"auto"})))},toggle:function(){var e,t=this,i=t.options.autoPos,n=t.element,a=n.hasClass(b),s=n.children().last(),r=s.hasClass(v);if(o=n.hasClass(k),!n.is(".disabled, :disabled"))return e=t.$parent.hasClass(y),t.closeAll(),e||(t.open(),m&&a&&(r||n.append('<span class="ie8-menu-arrow"></span>')),i===!1||g?o&&t.centerMenu():t.setPos()),!1},handleResize:function(e){var t,i=this,n=e.data("autoPos");if(a=i.getWindowWidth(),f||(f=255),!(n!==!1&&a>f))return!1;for(t=0;t<e.length;t++)e[c]("setPos")}},i.initPlugin(c,n),e(window).on("resize."+c,function(){var t=e(u+'[aria-expanded="true"]');!g&&t.length>0&&n.prototype.handleResize(t)}),e("html").on(t.clickEvent+".dropdown",".dropdown form",function(e){e.stopPropagation()}).on(t.clickEvent+".dropdown.data-api",u,function(t){var i=e(t.target).closest(u);i[c]("toggle")}),n}),define("uitk_share",["uitk_domReady","jquery","uitk"],function(e,i,n){return n.initSocial=function(){var e=i(".socialize.medium"),a=i('meta[property="fb:app_id"]').attr("content")||"131538103586818";if(e.length>0&&(window.twttr=t={_e:[],ready:function(e){t._e.push(e)}},function(e,t,i){var o,s=e.getElementsByTagName(t)[0];e.getElementById(i)||(o=e.createElement(t),o.id=i,o.src="//connect.facebook.net/"+(n.locale||"en_US")+"/sdk.js#xfbml=1&appId="+a+"&version=v2.5",s.parentNode.insertBefore(o,s))}(document,"script","facebook-jssdk"),i.when(i.getScript("//platform.twitter.com/widgets.js"),i.getScript("//apis.google.com/js/plusone.js"),i.getScript("//assets.pinterest.com/js/pinit.js")).done(function(){e.css("visibility","visible")}),window.dctk&&dctk.onReady)){var o=function(e,t,i,n,a,o){dctk.onReady(function(){dctk.omtr.trackExternalLinks=!1,dctk.omtr.linkTrackVars=e,dctk.omtr.linkTrackEvents=t,dctk.omtr.prop16=i,dctk.omtr.eVar28=n,dctk.omtr.events=a,dctk.omtr.tl(!0,o,"Social:Share Success")})};window.fbAsyncInit=function(){FB.Event.subscribe("edge.create",function(e,t){o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Like","Social.Facebook.Like","event48","o")}),FB.Event.subscribe("message.send",function(e){o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Facebook.Send","Social.Facebook.Send","event48","o")})},window.gplusCallback=function(){o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.GPlus.Share","Social.GPlus.Share","event48","o")},twttr.ready(function(e){e.events.bind("tweet",function(e){o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Twitter.Share","Social.Twitter.Share","event48","o")})}),i(".share-pinterest").on("click",function(){return o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Pinterest.Share","Social.Pinterest.Share","event48","e"),!1}),i(".share-email").on("click",function(){o("products,prop11,prop12,prop16,eVar18,eVar28,eVar37,eVar55,eVar56,events","event48","Social.Email.Share","Social.Email.Share","event48","e")})}i("a.share-tab.share-facebook").on("click",function(){return window.open("https://www.facebook.com/dialog/share?app_id="+a+"&href="+i(this).attr("data-url")+"&redirect_uri="+i(this).attr("data-url")+"&display=popup","","width=626,height=436"),!1}),i("a.share-tab.share-twitter").on("click",function(){return window.open("https://twitter.com/intent/tweet?url="+i(this).attr("data-url")+"&text="+i(this).attr("data-description"),"","width=626,height=436"),!1}),i("a.share-tab.share-googleplus").on("click",function(){return window.open("https://plus.google.com/share?url="+i(this).attr("data-url"),"","width=600,height=600"),!1}),i("a.share-tab.share-pinterest").on("click",function(){return window.open("https://pinterest.com/pin/create/button/?url="+i(this).attr("data-url")+"&media="+i(this).attr("data-image-url")+"&description="+i(this).attr("data-description"),"","width=600,height=300"),!1})}(),n}),define("uitk_map",["uitk_domReady","jquery","handlebars","uitk","uitk_i18n","uitk_focus","uitk-map-template.hbs","button-tag.hbs","map-infowindow.hbs"],function(e,t,i,n,a,o){"use strict";n.map={};var s,r,l;return n.map.loadApi=function(){l=n.map.config||{},l.mapApiUrl=l.mapApiUrl||"//maps.googleapis.com/maps/api/js?v=3&callback=uitk.map.initPlugin",s=l.mapApiUrl,l.client=l.client||"gme-expedia",s=s+"&client="+l.client,l.language&&(s=s+"&language="+l.language),l.sensor=l.sensor||!1,s=s+"&sensor="+l.sensor,l.channel&&(s=s+"&channel="+l.channel);var e=document.createElement("script");e.type="text/javascript",e.src=s,document.body.appendChild(e)},n.map.initPlugin=function(){r()},r=function(){function e(e,i){var n;this.element=t(e),i=i||{},n=this.element.data()||{},this.options=t.extend(!0,{},c,n,i),this.getCustomParams(),this.init()}var i,s="uitk_map",r=t("body"),l=t(document),c={title:!1,subtitle:!1,center:"0,0",zoom:2,zoomToFit:!1,template:"uitk-map-template",sidebar:!1,sidebarContent:"",mapType:"ROADMAP",maxZIndex:5e3,fullscreen:!0,lastFocusable:null},d="map-overlay",u="active",h="map-active",p="map-close",f=n.clickEvent+"."+s,g="",m=o(),v=m.focusEvent(),b=function(){var e=t("."+d+"."+u);e.each(function(){t(this).data("map").close()}),l.off("keydown",function(e){27===e.keyCode&&b()})},y=function(){g&&(m.blur(g),m.disable())};e.prototype={constructor:e,init:function(){var e=this,t=e.element;t.attr("data-control","map"),e.mapTemplate||(e.mapTemplate=n.getCompiledTemplate(e.options.template,!0),n.getCompiledTemplate("button-tag",!0)),e.canvasId=n.createUniqueId()+"-canvas",e.getHtml(),e.options.fullscreen||e.open()},appendHtml:function(){var e=this,t=e.mapHtml;t.data("map",e),e.options.fullscreen?t.appendTo(r):e.element.prepend(t),setTimeout(function(){t.addClass(u),e.options.fullscreen&&r.addClass(h),e.loadMap()},100)},onMapAppended:function(){var e=this;g&&(e.token=n.subscribe(v,e,e.onFocusCapture),m.setFocusContextSelector("."+d+"."+u),m.enable(),m.firstFocus())},onFocusCapture:function(e,i){var a,o,s,r,l=this,c=l.options.lastFocusable,d=n.utils.focusableElements(t(i.container));if("undefined"!=typeof d){if(o=d.index(i.focused),s=d.length,r=s>1,t(".uitk-tooltip.active-tooltip").each(function(e,n){if(i.focused&&t.contains(n,i.focused))return a=!0,!1}),r){if(s===o+1&&i.container)i.focused.addEventListener("keydown",function(e){c=i.focused,9!==e.which||e.shiftKey?9===e.which&&e.shiftKey&&(e.preventDefault(),d[o-1].focus()):(e.preventDefault(),d[0].focus())});else if(0===o)i.focused.addEventListener("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),d[s-1].focus())});else if(c)return void c.removeEventListener("keydown")}else 1===s&&i.focused.addEventListener("keydown",function(e){var i=t(e.currentTarget);9===e.which&&i.hasClass("map-close")&&e.preventDefault()});i.isContainedInContext||a||m.focus()}},getCustomParams:function(){var e,i,a=n.map.data,o=this.options;a&&(e=a[o.configId],"object"==typeof e&&(i=e.customParams,i&&(o=t.extend(!0,o,i))))},getHtml:function(){var e,i=this,n=i.getMapData();e=i.options.closeButtonText?i.options.closeButtonText:a.t("map_close"),i.options.fullscreen?(n.closeButton={type:"button",classes:"btn-sub-action btn-secondary map-close",content:e},i.mapHtml=t(i.mapTemplate(n))):i.mapHtml=t('<div id="'+i.canvasId+'" class="map-canvas"></div>')},getMapData:function(){var e=this,t={},i=e.options;return t.title=i.title,t.subtitle=i.subtitle,t.id=i.configId,t.sidebar=i.sidebar||i.legend,t.sidebarContent=i.sidebarContent||i.legendContent,t.legend=t.sidebar,t.legendContent=t.sidebarContent,t.canvasid=e.canvasId,t},getData:function(e){var t,i,a=n.map.data;return a&&(t=a[this.options.configId],t&&(i=t[e])),i},getMarkerData:function(){return this.getData("markerData")},loadToggleGroups:function(){var e=this,i=e.getData("toggleGroups"),n=t('<fieldset class="toggleGroups"></fieldset>');if(i&&i.length){for(var a=0;a<i.length;a++){var o=i[a];o.toggled=o.defaultToggled,e.toggleGroups||(e.toggleGroups={}),o.toggles=[],e.toggleGroups[o.key]=o;var s=!!o.defaultToggled,r=t('<span class="inline-label"></span>').text(o.localizedName),l=t('<input type="checkbox" name="toggleGroup" />').attr("id",o.key).attr("value",o.key).prop("checked",s),c=t('<label class="check toggleGroup"></label>').attr("for",o.key).append(l).append(r);n.append(c)}e.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(n[0]),t("#"+e.canvasId).on("change",".toggleGroup input",function(){var i=t(this),n=i.is(":checked"),a=i.val();e.updateToggleItems(a,n)})}},queueToggle:function(e,t){var i=this;e&&i.toggleGroups[e]&&t&&t.setMap&&i.toggleGroups[e].toggles.push(t)},setInitialToggleStates:function(){var e=this;for(var t in e.toggleGroups)if(e.toggleGroups.hasOwnProperty(t)){var i=e.toggleGroups[t];e.updateToggleItems(t,i.toggled)}},updateToggleItems:function(e,t){var i=this,n=i.toggleGroups[e],a=n.toggles,o=t?i.map:null;n.toggled=t;for(var s=0;s<a.length;s++)a[s].setMap(o)},loadMarkers:function(){var e=this,i=e.getMarkerData(),n=[];if(e.markers=[],e.currMarkerData=null,i&&t.each(i.markers,function(t,i){e.loadMarker(i);var a=e.stringToLatLng(i.latlong);"undefined"!=typeof a&&n.push(a)}),e.options.zoomToFit){e.bounds=new google.maps.LatLngBounds;for(var a=0,o=n.length;a<o;a++)e.bounds.extend(n[a]);e.map.fitBounds(e.bounds)}google.maps.event.addListener(e.infowindow,"closeclick",function(){e.closeMarkerInfo()})},loadMarker:function(e){var t,i=this,n=i.stringToLatLng(e.latlong);if("undefined"!=typeof n){var a,o=i.customMarker(e.type,e.letter);e.hoverType&&(a=i.customMarker(e.hoverType));var s;"undefined"!=typeof e.name&&(s=e.name.replace(/(<([^>]+)>)/gi,"").replace(/(\r\n|\n|\r)/gm,"")),t=new google.maps.Marker({map:i.map,title:s,content:e.content,position:n,icon:o.icon,hoverIcon:a?a.icon:void 0,noHoverIcon:o.icon,zIndex:e.zIndex?e.zIndex:i.options.maxZIndex,animation:e.createAnimation?google.maps.Animation.BOUNCE:void 0}),e.createAnimation&&setTimeout(function(){t.setAnimation(null)},740),e.showContent&&i.showMarkerInfo(t,e),google.maps.event.addListener(t,"click",function(){i.showMarkerInfo(t,e)}),t.hoverIcon&&(google.maps.event.addListener(t,"mouseover",function(){i.setIcon(i.hoverIcon)}),google.maps.event.addListener(t,"mouseout",function(){i.setIcon(i.noHoverIcon)}));var r=e.toggleGroup;r&&i.queueToggle(r,t),i.options.maxZIndex--}return i.markers&&i.markers.push(t),t},customMarker:function(e,t){var i,a,o,s={},r=n.corePath();switch(s.icon={},s.letter=t,e){case"blue-pin":i=r+"images/blu-marker.png";break;case"red-dot":i=r+"images/reddot.png",a=new google.maps.Size(10,10),o=new google.maps.Point(5,5);break;case"red-pin":i=r+"images/red-marker.png","string"==typeof s.letter&&s.letter.length&&(i="http://mt.google.com/vt/icon?psize=16&font=fonts/Roboto-Regular.ttf&color=ff330000&name=icons/spotlight/spotlight-waypoint-b.png&ax=44&ay=48&scale=1&text="+s.letter);break;case"grey-pin":i=r+"images/grey-marker.png";break;case"":case void 0:i=r+"images/red-marker.png";break;default:var l=e.size,c=e.anchor,d=e.url;d?(l&&(a=new google.maps.Size(l.x,l.y)),c&&(o=new google.maps.Point(c.x,c.y)),i=d):i=r+"images/red-marker.png"}return s.icon.url=i,s.icon.size=a,s.icon.anchor=o,s},showMarkerInfo:function(e,t){var a,o,s,r,l=this,c="";if(e&&t&&(a=t.name,o=t.content,r=t.width,"undefined"!=typeof o)){i||(i=n.getCompiledTemplate("map-infowindow",!0));try{s={title:a,secondaryContent:o},r&&(s.markerWidth=r),c=i(s)}catch(d){c=""}l.infowindow.setContent(c),e.autoPan||"undefined"==typeof e.autoPan||l.infowindow.setOptions({disableAutoPan:!0}),l.infowindow.open(l.map,e),l.currMarkerData=t,l.currMarkerData=t,n.publish&&n.publish("map.marker.opened",t)}},closeMarkerInfo:function(){var e=this;e.infowindow.close(),n.publish&&null!==e.currMarkerData&&n.publish("map.marker.closed",e.currMarkerData),e.currMarkerData=null},loadPolygons:function(){var e=this,i=e.getData("polygonData"),n=[];if(i){var a=i.polygons;if(a&&t.isArray(a))for(var o=0;o<a.length;o++){var s=a[o],r=e.loadPolygon(s);n.push(r)}}e.polygonList=n},loadPolygon:function(e){var t=this,i=e.latLongs,n=t.convertPolygonLatLngsToGoogle(i),a=t.buildGooglePolygon(e,n),o=e.toggleGroup;return o&&t.queueToggle(o,a),google.maps.event.addListener(a,"mouseover",function(){this.active||this.setOptions(this.hoverStyle)}),google.maps.event.addListener(a,"mouseout",function(){this.active||this.setOptions(this.defaultStyle)}),google.maps.event.addListener(a,"click",function(){var e=!t.active;t.clearPolygonActiveState(),t.active=e,t.togglePolygonActiveState(this),t.openPolygonInfo(this)}),a},convertPolygonLatLngsToGoogle:function(e){var i,n=this;if(e&&t.isArray(e)){i=[];for(var a=0;a<e.length;a++){var o=e[a],s=n.stringToLatLng(o);s&&i.push(s)}}return i},buildGooglePolygon:function(e,i){var n,a,o,s,r,l=this;return e&&i&&t.isArray(i)&&i.length>0&&(n=l.buildPolygonStyleObj(e),a=l.buildPolygonStyleObj(e.hoverStyle,n),o=l.buildPolygonStyleObj(e.activeStyle,n),s=t.extend({map:l.map,paths:i},n),r=new google.maps.Polygon(s),r.defaultStyle=n,r.hoverStyle=a,r.activeStyle=o,r.content=e.content),r},buildPolygonStyleObj:function(e,i){var n={strokeColor:"#FFF",strokeOpacity:1,strokeWeight:1,fillColor:"#FFF",fillOpacity:.5},a=i?{strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight,fillColor:i.fillColor,fillOpacity:i.fillOpacity}:{},o=e?{strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,fillColor:e.fillColor,fillOpacity:e.fillOpacity}:{},s=t.extend(n,a,o);return s},openPolygonInfo:function(e){var i,n="removeClass";e.content&&(e.active&&(i=e.content,n="addClass"),t("#polygonLegend").html(i),t(".map-overlay")[n]("has-polygon-legend"),google.maps.event.trigger(this.map,"resize"))},togglePolygonActiveState:function(e){var t=e.active?e.activeStyle:e.hoverStyle;e.setOptions(t)},clearPolygonActiveState:function(){var e=this;if(e.polygonList)for(var t=0;t<e.polygonList.length;t++){var i=e.polygonList[t];i.active=!1,i.setOptions(i.defaultStyle)}},loadCircles:function(){var e=this,i=e.getData("circleData"),n=[];if(i){var a=i.circles;if(a&&t.isArray(a))for(var o=0;o<a.length;o++){var s=a[o],r=e.loadCircle(s);n.push(r)}}e.circleList=n},loadCircle:function(e){var t=this,i=e.centerLatLong,n=t.convertCircleLatLngToGoogle(i),a=e.radius,o=t.buildGoogleCircle(e,n,a),s=e.toggleGroup;return s&&t.queueToggle(s,o),google.maps.event.addListener(o,"mouseover",function(){this.active||this.setOptions(this.hoverStyle)}),google.maps.event.addListener(o,"mouseout",function(){this.active||this.setOptions(this.defaultStyle)}),google.maps.event.addListener(o,"click",function(){var e=!t.active;t.clearCircleActiveState(),t.active=e,t.toggleCircleActiveState(this),t.openCircleInfo(this)}),o},convertCircleLatLngToGoogle:function(e){var t,i=this;return e&&(t=i.stringToLatLng(e)),t},buildGoogleCircle:function(e,i,n){var a,o,s,r,l,c=this;return e&&i&&n&&(a=c.buildCircleStyleObj(e),o=c.buildCircleStyleObj(e.hoverStyle,a),s=c.buildCircleStyleObj(e.activeStyle,a),r=t.extend({map:c.map,center:i,radius:n},a),l=new google.maps.Circle(r),l.defaultStyle=a,l.hoverStyle=o,l.activeStyle=s,l.content=e.content),l},buildCircleStyleObj:function(e,i){var n={strokeColor:"#FFF",strokeOpacity:1,strokeWeight:1,fillColor:"#FFF",fillOpacity:.5},a=i?{strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight,fillColor:i.fillColor,fillOpacity:i.fillOpacity}:{},o=e?{strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,fillColor:e.fillColor,fillOpacity:e.fillOpacity}:{},s=t.extend(n,a,o);return s},openCircleInfo:function(e){var i,n="removeClass";e.content&&(e.active&&(i=e.content,n="addClass"),t("#circleLegend").html(i),t(".map-overlay")[n]("circle-legend"),google.maps.event.trigger(this.map,"resize"))},toggleCircleActiveState:function(e){var t=e.active?e.activeStyle:e.hoverStyle;e.setOptions(t)},clearCircleActiveState:function(){var e=this;if(e.circleList)for(var t=0;t<e.circleList.length;t++){var i=e.circleList[t];i.active=!1,i.setOptions(i.defaultStyle)}},loadMap:function(){var e,i,a,o=this,s=o.stringToLatLng(o.options.center),r=o.options,l=google.maps;if(o.center=s,e={scaleControl:!0,center:o.center,zoom:r.zoom,mapTypeId:l.MapTypeId[r.mapType]},!r.fullscreen&&r.title&&(e.panControlOptions={position:l.ControlPosition.LEFT_CENTER},e.zoomControlOptions={position:l.ControlPosition.RIGHT_BOTTOM},e.mapTypeControlOptions={position:l.ControlPosition.TOP_RIGHT}),n.isTouchDevice&&r.fullscreen){var c=document.documentElement.clientWidth/window.innerWidth;c>1.01&&(e.draggable=!1,e.scrollwheel=!1)}i=n.map.data[r.configId],"object"==typeof i.mapOptions&&t.extend(e,i.mapOptions),o.map=new l.Map(document.getElementById(o.canvasId),e),n.map.data[r.configId].module=o,o.infowindow=new l.InfoWindow({maxWidth:400}),o.loadToggleGroups(),o.loadCircles(),o.loadMarkers(),o.loadPolygons(),o.setInitialToggleStates(),n.mapObj=o.map,n.publish&&n.publish("map.appended",o),n.subscribe("debounced.resize",function(){r.zoomToFit?o.map.fitBounds(o.bounds):(a=o.map.getCenter(),o.center=a,o.map.setCenter(o.center))}),l.event.addListener(o.map,"click",function(){o.closeMarkerInfo()})},open:function(e){var i=this;e&&(g=e instanceof jQuery?e:t(e)),n.subscribe("map.appended",i,i.onMapAppended),n.isTouchDevice&&(i.scrollPosition=l.scrollTop()),i.appendHtml(),i.options.fullscreen&&setTimeout(function(){var e,t,n=0;e=window.isIE8?[]:document.querySelectorAll('body > :not(#uitk-live-announce):not(script):not([aria-hidden="true"]):not(.'+d+")"),t=e.length,setTimeout(function(){for(n=0;n<t;n++)e[n].className.indexOf("uitk-aria-hidden")===-1&&(e[n].className+=" uitk-aria-hidden",e[n].setAttribute("aria-hidden",!0));i.focusMapHeading()},50),l.on("keydown",function(e){27===e.keyCode&&b()})},100)},focusMapHeading:function(){var e,i=t("."+d),a=i.find(".map-heading"),o=i.find(".subtitle"),s=i.find(".map-close");e=a.length>0?a:o.length>0?o:s,n.utils.focusElement(e)},close:function(){var e=this;if(n.publish&&n.publish("map.close",e),e.options.fullscreen){r.removeClass(h),n.isTouchDevice&&l.scrollTop(e.scrollPosition);var t=document.getElementsByClassName("uitk-aria-hidden"),i=t.length;for(i;i>0;i--)t[i-1].removeAttribute("aria-hidden"),t[i-1].className=t[i-1].className.replace(" uitk-aria-hidden","")}e.mapHtml.removeClass(u),setTimeout(function(){e.mapHtml.remove(),n.mapObj=null,delete n.mapObj,y()},600)},stringToLatLng:function(e){var t,i=",";if("string"==typeof e&&e.indexOf(i)>0){var n=e.split(i),a=parseFloat(n[0]),o=parseFloat(n[1]);"number"!=typeof a||isNaN(a)||"number"!=typeof o||isNaN(o)||(t=new google.maps.LatLng(a,o))}return t}},t.fn[s]=function(){var i,n,a;return"object"==typeof arguments[0]?(i=arguments[0],n=arguments[1],a=arguments[2]):(i={},n=arguments[0],a=arguments[1]),this.each(function(){t.data(this,s)||t.data(this,s,new e(this,i)),"string"==typeof n&&t.data(this,s)[n](a)})},t('[data-control="map"][data-fullscreen="false"]')[s](),r.on(f,'[data-control="map"][data-fullscreen="true"]',function(e){var i=g=t(e.target).closest('[data-control="map"]');e.preventDefault(),i[s]("open")}),r.on(f,"."+p,function(e){e.preventDefault(),b()}),n.map.create=function(t,i){var n=new e(null,t);return n.open(i),n},n.map.close=b,n.publish&&n.publish("mapLoaded"),n.modules.Map=e},n.map}),define("uitk_pagination",["uitk_domReady","jquery","uitk","uitk_plugins","handlebars","uitk_i18n"],function(e,t,i,n,a,o){"use strict";function s(e,i){if(this.DEFAULT_RESULTS_PER_PAGE=10,this.DEFAULT_TOTAL_PAGES_TO_DISPLAY=7,this.$element=t(e),this.topLink=this.$element.data("top-link")||!1,"boolean"!=typeof this.topLink)throw new TypeError("UITK Pagination: The 'data-top-link' attribute must be true or false.");if(this.totalNumberOfResults=this.$element.data("total-results"),!this.totalNumberOfResults)throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-total-results' attribute.");if("number"!=typeof this.totalNumberOfResults)throw new TypeError("UITK Pagination: The 'data-total-results' attribute must be a number.");if(this.currentFirstResult=this.$element.data("first-result"),!this.currentFirstResult)throw new ReferenceError("UITK Pagination: The pagination control requires a 'data-first-result' attribute.");if("number"!=typeof this.currentFirstResult)throw new TypeError("UITK Pagination: The 'data-first-result' attribute must be a number.");if(this.resultsPerPage=this.$element.data("per-page"),this.resultsPerPage&&0!==this.resultsPerPage){if("number"!=typeof this.resultsPerPage)throw new TypeError("UITK Pagination: The 'data-per-page' attribute must be a number.")}else this.resultsPerPage=this.DEFAULT_RESULTS_PER_PAGE;if(this.totalPagesToDisplay=this.$element.data("pages-to-display"),this.totalPagesToDisplay&&0!==this.totalPagesToDisplay){if("number"!=typeof this.totalPagesToDisplay)throw new TypeError("UITK Pagination: The 'data-pages-to-display' attribute must be a number.")}else this.totalPagesToDisplay=this.DEFAULT_TOTAL_PAGES_TO_DISPLAY;if(this.showResultsInPageUnit=this.$element.data("results-page-unit")||!1,"boolean"!=typeof this.showResultsInPageUnit)throw new TypeError("UITK Pagination: The 'data-results-page-unit' attribute must be true or false.");if(this.showAlwaysFirstAndLastPage=this.$element.data("show-always-first-last")||!1,"boolean"!=typeof this.showAlwaysFirstAndLastPage)throw new TypeError("UITK Pagination: The 'data-show-always-first-last' attribute must be true or false.");this.totalPages=Math.ceil(this.totalNumberOfResults/this.resultsPerPage),this.displayPagination=this.totalPages>1,this.currentPageNum=Math.ceil(this.currentFirstResult/this.resultsPerPage),this.showEllipses=!1,this.firstPage={number:1,isCurrentPage:!1},this.lastPage={number:this.totalPages,isCurrentPage:!1},this.showResults=!0,this.isSinglePage=1===this.totalPages,this.showFirstEllipses=!1,this.showLastEllipses=!1;var n=this.$element.data();this.topLinkFocus=n.topLinkFocus||"#header-logo",this.topLinkText=n.topLinkText||o.t("pagination_top_of_page"),this.topLinkFocus.indexOf("#")<0&&(this.topLinkFocus="#"+this.topLinkFocus),this.init()}var r="uitk_pagination",l=i.clickEvent,c=t("body");s.prototype={constructor:s,init:function(){var e="uitk-pagination-page-template",t=this;if(a.registerPartial(e,i.getCompiledTemplate(e)),this.calculateValues(),t.showPages=!0,Modernizr.mediaqueries){var n=function(e,i){"pag_isMobile"===i.key&&t.showPages!==!1&&(t.showPages=!1,t.render()),"pag_isNotMobile"===i.key&&t.showPages!==!0&&(t.showPages=!0,t.render())};i.subscribe("mediaquery.matched",n),i.mediaquery.register({pag_isMobile:"(max-width: 600px)",pag_isNotMobile:"(min-width: 601px)"})}this.render()},calculateValues:function(){var e=this.calcStartPage(this.totalPages,this.totalPagesToDisplay,this.currentPageNum),t=Math.min(this.totalPagesToDisplay,this.totalPages);this.calcPageVars(this.currentPageNum,this.totalPages),this.currentLastResult=Math.min(this.currentFirstResult+this.resultsPerPage-1,this.totalNumberOfResults),this.showAlwaysFirstAndLastPage?(this.showFirstEllipses=!1,this.showLastEllipses=!1,e>1&&(this.showFirstEllipses=!0,e+=1,t-=1),e+t<=this.totalPages&&(this.showLastEllipses=!0,t-=1)):(this.showEllipses=this.calcShowEllipses(e,t,this.totalPages),this.showEllipses&&(t-=2,e=Math.ceil(this.currentPageNum-t/2))),this.pages=this.generatePages(t,e,this.currentPageNum)},calcStartPage:function(e,t,i){return e<t||i<=t/2?1:i===e||i+t/2>=e?e-t+1:Math.ceil(i-t/2)},calcPageVars:function(e,t){this.onFirstPage=1===e,this.onLastPage=e===t,this.prevPageNum=e-1,this.nextPageNum=e+1,this.updateFirstAndLastPage()},updateFirstAndLastPage:function(){this.firstPage.isCurrentPage=this.onFirstPage,this.lastPage.isCurrentPage=this.onLastPage},calcShowEllipses:function(e,t,i){return e>1&&e+t<=i},generatePages:function(e,t,i){for(var n=[],a=0;a<e;a++)n[a]={number:t+a},i===t+a&&(n[a].isCurrentPage=!0);return n},goToPage:function(e){this.currentPageNum=e,this.currentFirstResult=(this.currentPageNum-1)*this.resultsPerPage+1,this.calculateValues(),this.render();var t={pageNumber:e};i.publish("pagination.pageChanged",t)},prevPage:function(){this.goToPage(this.currentPageNum-1)},nextPage:function(){this.goToPage(this.currentPageNum+1)},render:function(){var e=i.getCompiledTemplate("uitk-pagination-content-template"),t=e(this);this.$element.html(t)}},n.initPlugin(r,s),t(".pagination[data-single-page]")[r]();var d=t(".pagination-update");return i.iosVersion()[0]<=5&&(l="touchend"),c.on(l,".pagination-label",function(e){var n=e.currentTarget,a=t(n),o=a.closest(".pagination[data-single-page]"),s="BUTTON"===n.nodeName.toUpperCase()?a:a.prev("input"),l=parseInt(s.val(),10);e.preventDefault(),o[r]("goToPage",l),i.utils.focusElement(d)}),c.on(l,".pagination-prev, .pagination-next",function(e){var n=t(e.currentTarget),a=n.closest(".pagination[data-single-page]");e.preventDefault(),n.hasClass("pagination-prev")?a[r]("prevPage"):a[r]("nextPage"),i.utils.focusElement(d)}),c.on("keyup",".pagination input, button.pagination-label",function(e){var n=t(e.currentTarget),a=n.closest(".pagination");if(32===e.keyCode){var o=parseInt(n.val(),10);a[r]("goToPage",o),i.utils.focusElement(d)}}),c.on("click",".backToTop",function(e){e.preventDefault();var n=t(t(this).attr("href")),a=n.offset().top;i.utils.focusElement(n),window.scrollTo(0,a)}),s}),define("uitk_respSortbar",["uitk_domReady","jquery","handlebars","uitk","uitk_i18n","uitk_plugins","uitk-responsive-sortbar-template.hbs","uitk-responsive-sortbar-contents-template.hbs","uitk-responsive-sortbar-options-template.hbs","uitk-responsive-sortbar-more-template.hbs","icon-tag.hbs"],function(e,t,i,n,a,o){"use strict";function s(e,t){o.newModule.call(this,e,t,c)}var r="uitk_responsive_sortbar",l=t("body"),c={barTemplateId:"uitk-responsive-sortbar-template",contentsTemplateId:"uitk-responsive-sortbar-contents-template",optionsTemplateId:"uitk-responsive-sortbar-options-template",moreTemplateId:"uitk-responsive-sortbar-more-template",minVisibleWithLabel:2,selectView:!0,selectViewForce:!1,viewFlip:"mobile"},d=n.clickEvent+"."+r;return s.prototype={constructor:s,init:function(){var e,t=this,i=t.options,a=i.viewFlip,o=i.selectView,s=i.selectViewForce,r="uitk_rsb_"+a,l=Modernizr.mq("only all");l&&o&&!s?(e=n.subscribe("mediaquery.matched",function(i,a){a.key===r&&(n.unsubscribe("mediaquery.matched",e),t.addSortBar())}),n.subscribe("mediaquery.matched",function(e,i){i.key===r+"_down"?t.currentView="select":i.key===r&&(t.currentView="bar")}),n.mediaquery.publishAgain()):l&&o?t.currentView="select":(t.currentView="bar",t.addSortBar()),t.currentSelection=t.element.find("select").val()},addSortBar:function(){var e=this;e.handleEvent=!0,e.storeTemplates(),e.parseSelect(),e.options.selectViewForce===!1&&e.appendBarHtml(),e.storeOptionWidths(),e.updateVisibility(),e.optionsJson.more&&e.updateSortbar(!0),n.subscribe("throttled.resize",function(){e.handleResize()})},storeTemplates:function(){var e=this,t=n.getCompiledTemplate("icon-tag");i.registerPartial("button-tag",n.getCompiledTemplate("button-tag")),
e.barTemplate=n.getCompiledTemplate(e.options.barTemplateId,!0),e.contentsTemplate=n.getCompiledTemplate(e.options.contentsTemplateId,!0),e.optionsTemplate=n.getCompiledTemplate(e.options.optionsTemplateId,!0),e.moreTemplate=n.getCompiledTemplate(e.options.moreTemplateId,!0),i.registerPartial("icon-tag",t)},parseSelect:function(){var e,t=this,i={},n=t.element.find(".sort-bar-select-wrap"),a=n.find("select"),o=n.find(".btn-label > .visuallyhidden").html(),s=n.find(".inline-label").text(),r=a.children("option"),c=r.length,d=!!l.hasClass("inverse")&&"right";for(t.optionsJson={},t.optionsJson.order=[],t.optionsJson.visibleOrder=[],t.optionsJson.invisibleCount=0,t.optionsJson.filterLabel=o,t.optionsJson.sortLabel=s,t.optionsJson.showSortLabel=!0,t.optionsJson.toggleLeft=n.hasClass("toggle-left"),t.optionsJson.toggleRight=n.hasClass("toggle-right"),t.optionsJson.moreLabel=t.options.moreLabel,t.optionsJson.inverse=d,e=0;e<c;e+=1){var u=r.eq(e),h=u.data("optGroup"),p=t.parseOptions(u),f={};i[h]?(f.states={},f.states[0]=i[h],f.states[1]=p,f.icon={name:"updown"},f.group=h,f.attributes=i[h].attributes,f.dataAttributes=i[h].dataAttributes,f.states[0].selected?f.selected=!0:f.states[1].selected&&(f.selected=!0)):(t.optionsJson.order.push(h),f=p),f.visible=!0,i[h]=f}t.optionsJson.options=i},parseOptions:function(e){var t,i,n,a,o,s,r={},l=e.data(),c=e.attr("data-attribute-names"),d="";if(r.label=e.text(),r.id=l.optId,r.group=l.optGroup,r.value=e.attr("value"),r.attributes="",c)for(t=c.split(","),i=t.length,s=0;s<i;s++)r.attributes+=" "+t[s]+'="'+e.attr(t[s])+'"';for(n in l)l.hasOwnProperty(n)&&"optId"!==n&&"attributeNames"!==n&&(a=l[n],o=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d+=" data-"+o+'="'+a+'"');return r.dataAttributes=d,"selected"===e.attr("selected")&&(r.selected=!0),r},appendBarHtml:function(){var e=this,t=e.optionsJson,i={filterLabel:t.filterLabel,sortLabel:t.sortLabel,toggleLeft:t.toggleLeft,toggleRight:t.toggleRight,moreLabel:t.moreLabel,showSortLabel:!0,options:e.getOptionsArray(),toggleButton:{type:"button",cssClass:"btn-sub-action btn-primary btn-has-text off-canvas-btn",dataAttributes:'data-control="off-canvas-toggle" data-target="[role=complementary]" data-side="'+t.inverse+'"',attributes:'aria-expanded="false"',content:'<span class="icon icon-offcanvas" aria-hidden="true"></span><span class="alt">toggle column</span> '+t.filterLabel}};e.element.append(e.barTemplate(i))},getOptionsArray:function(){var e=this.optionsJson;return t.map(e.order,function(t){return[e.options[t]]})},storeOptionWidths:function(){var e,t=this,i=t.element.find(".sort-options"),n=i.find(".tab"),a=n.length,o=0;for(e=0;e<a;e+=1){var s=n.eq(e),r=s.outerWidth();o+=r,t.optionsJson.options[s.data("optGroup")].width=r}t.optionsJson.totalWidth=o,t.optionsJson.sortLabelWidth=i.find(".sort-bar-label").outerWidth()},publishChanged:function(){var e=this.element.find("select").val(),t=e!==this.currentSelection;this.currentSelection=e,n.publish("sortBar.changed",{sortBy:e,hasChanged:t})},handleResize:function(){var e=this,t=e.updateVisibility();e.updateSortbar(t,!1)},handleSelect:function(e){var t=this;if(t.handleEvent){var i,n,a=e.find(":selected").data();n=t.updateSelection(a.optGroup,a.optId),i=t.updateVisibility(),t.updateSortbar(i,n)}t.publishChanged()},handleSortBar:function(e,t){var i,n,a=this,o=e.data();a.element.find(".more.open .tab").uitk_dropDown("close"),"bar"===t?n=a.updateSelection(o.optGroup):"menu"===t&&(n=a.updateSelection(o.optGroup,o.optId)),i=a.updateVisibility(),a.updateSortbar(i,n),a.updateSelect(),a.handleFocus(t),a.announceSortStatus(o),a.publishChanged()},handleFocus:function(){var e=this,t=e.element,i=t.find(".selected");n.utils.focusElement(i)},announceSortStatus:function(e){var t,i,o,s=this,r=s.optionsJson,l=s.optionsJson.options[e.optGroup],c=l.group,d="";t=r.visibleOrder.length>0?r.visibleOrder:r.order;for(var u=0;u<t.length;u++)t[u].indexOf(c)>-1&&(o=u+1);i=r.more?t.length+1:t.length,d=a.t("resp_sort_bar_results_label",{arg0:c,arg1:o,arg2:i}),n.utils.liveAnnounce(d,"assertive")},updateSelection:function(e,t){var i,n,a=this,o=a.optionsJson.options,s=o[e],r=s.states,l=!1,c=function(e){e===i?(i.selected=!0,n.selected=!1):(i.selected=!1,n.selected=!0)};if(s.selected)l=!0;else{for(var d in o)o.hasOwnProperty(d)&&(o[d].selected=!1);s.selected=!0}return r&&(i=r[0],n=r[1],t?c(n.id===t?n:i):l?l&&c(n.selected?i:n):c(i)),!l},updateVisibility:function(){var e,t,i=this,n=i.element.find(".sort-options"),a=i.optionsJson.sortLabelWidth,o=n.width()-a-16,s=i.optionsJson,r=s.options,l=s.order,c=s.visibleOrder=[],d=l.length,u=s.totalWidth,h=!1,p=0,f=d-i.options.minVisibleWithLabel,g=!0;if(u<o){for(t in r)r.hasOwnProperty(t)&&(r[t].visible!==!0&&(h=!0),r[t].visible=!0);i.optionsJson.showSortLabel||(i.optionsJson.showSortLabel=!0,h=!0),this.optionsJson.more=!1}else{var m=!1,v=u;for(e=d-1;e>=0;e-=1){var b=r[l[e]];b.selected?(b.visible!==!0&&(h=!0),b.visible=!0):(v<o?m=!0:p===f&&(g=!1,o+=a,v<o&&(m=!0)),m||(v-=b.width,p+=1),g!==i.optionsJson.showSortLabel&&(i.optionsJson.showSortLabel=g,h=!0),b.visible!==m&&(h=!0,b.visible=m)),b.visible&&c.unshift(b.group)}this.optionsJson.more=!0}return h},updateSortbar:function(e,t){var i=this;e?i.updateHtml(".sort-bar-container","contentsTemplate"):t&&i.updateOptions()},updateOptions:function(){this.updateHtml(".sort-options","optionsTemplate")},updateHtml:function(e,t){var i=this,a=document.activeElement,o=!1,s=i.optionsJson,r=i.element.find(".more.open").length>0||!1,l={options:i.getOptionsArray(),more:s.more,moreOpen:r,sortLabel:s.sortLabel,moreLabel:s.moreLabel,moreIcon:{name:"toggle180"},showSortLabel:s.showSortLabel};(i.element.find(a).length>0||i.element[0]===a)&&(o=!0),i.element.find(e).html(i[t](l)),o&&n.utils.focusElement(i.element)},updateSelect:function(){var e=this,t=e.getSelected();e.element.find("select").children('option[data-opt-id="'+t.id+'"]').attr("selected","selected").addBack().siblings().removeAttr("selected")},getSelected:function(){var e,t={},i=this.optionsJson.options;for(var n in i)i.hasOwnProperty(n)&&(e=i[n],e.selected&&(t.group=e.group,e.states?t.id=e.states[1].selected?e.states[1].id:e.states[0].id:t.id=e.id));return t}},o.initPlugin(r,s),l.on(d,".responsive-sortbar .sort-options .btn-sort",function(e){var i=t(e.target).closest(".btn-sort"),n=i.closest('[data-control="responsive-sortbar"]');n[r]("handleSortBar",i,"bar")}),l.on(d,".responsive-sortbar .menu .btn-sort",function(e){e.preventDefault();var i=t(e.target).closest(".btn-sort"),n=i.closest('[data-control="responsive-sortbar"]');n[r]("handleSortBar",i,"menu")}),l.on("change",'[data-control="responsive-sortbar"] select',function(e){var i=t(e.target),a=i.closest('[data-control="responsive-sortbar"]'),o=i.closest("select");a[r]("handleSelect",i),n.utils.focusElement(o)}),n.mediaquery.register("(min-width:30.75em)","uitk_rsb_mobile"),n.mediaquery.register("(min-width:45.375em)","uitk_rsb_smallTablet"),n.mediaquery.register("(min-width:60em)","uitk_rsb_tablet"),n.mediaquery.register("(max-width:30.6875em)","uitk_rsb_mobile_down"),n.mediaquery.register("(max-width:45.3125em)","uitk_rsb_smallTablet_down"),n.mediaquery.register("(max-width:59.9375em)","uitk_rsb_tablet_down"),t("[data-control=responsive-sortbar]")[r](),n.modules.RespSortbar=s,s}),define("uitk_footer",["uitk_domReady","jquery","uitk"],function(e,t,i){"use strict";var n=t("#site-footer-wrap").find(".tablet-collapse");if(i.mediaquery.register("(min-width: 320px) and (max-width: 726px)","not-desktop"),n){var a=function(e,i){"not-desktop"===i.key&&t(n).uitk_toggle("close")};i.subscribe("mediaquery.matched",a),i.mediaquery.publishAgain()}return i}),define("uitk_tables",["uitk_domReady","jquery","uitk"],function(e,t,i){var n=function(e){var i,n=e.length;for(i=0;i<n;i++){var a,o=e.eq(i),s=o.next(),r=o.parent(),l=o.find("tr"),c=l.eq(0).find("th"),d=l.length,u=[];if(o.data("tableInit"))return;for(o.detach(),o.data("tableInit",!0),c.each(function(){u.push(t(this).text())}),a=0;a<d;a++){var h,p=l.eq(a),f=p.find("td"),g=f.length;for(h=0;h<g;h++){var m=f.eq(h);m.attr("data-title",u[h])}}s.length>0?o.insertBefore(s):o.appendTo(r)}conditionizr.ie9&&t("table.data-table").hasClass("no-collapse")&&t("table.data-table").wrap('<div class="data-table-wrapper" />')},a=function(e){var e=e||t('[data-control="table"]');n(e)};return i.initResponsiveTables=a,n(t('[data-control="table"]')),a}),define("uitk_onOffSwitch",["uitk_domReady","jquery","uitk"],function(e,t,i){var n,a,o,s,r=Modernizr.checkedselector;o=t(".on-off-switch"),s=function(e){var i=e&&e.parents(".on-off-switch").find("input")||o.find("input"),n=i&&i.find(":checked");!r&&n&&(i.removeClass("checked"),n.length?n.addClass("checked"):i.each(function(e,i){!!i.checked&&t(i).addClass("checked")})),i.each(function(e,i){i=t(i),i.is(":checked")||i.checked?i.attr("checked","checked"):i.removeAttr("checked")})};var l=function(e){return e.closest(o).find("input:checked").val()},c=function(e){return e.closest(o).find("input:checked").attr("name")},d=function(e){return e.closest("fieldset")},u=function(e,t,n){var a={};a.name=t,a.value=n,i.publish("onOffSwitch.changed",e,a)};return s(),t("body").on(i.clickEvent,".on-off-switch input",function(e){a=t(e.currentTarget),n=a.closest("input"),u(d(n),c(n),l(n)),s(n)}),i.modules.onOffSwitch={publishOnOffSwitchChange:u},i.modules.onOffSwitch}),define("uitk_onPageInterstitial",["uitk_domReady","jquery","uitk","uitk_i18n","uitk_modal"],function(e,t,i,n){var a,o,s,r=!1,l=!1,c=(t("body"),{modalId:"onpage-interstitial-modal",background:!1,dismiss:!1,jsTheme:"onpage-interstitial",showLoader:!1});return i.subscribe("results.changed",function(e,o){function s(){var e=(t(document).scrollTop()+90)/17+"em";I.css({position:"absolute",top:e})}var d,u=o.appendMsg,h=o.screenReaderMsg?o.screenReaderMsg:t("<div></div>").append(u).text(),p=o.replaceMsg,f=o.screenReaderMsg?o.screenReaderMsg:t("<div></div>").append(p).text(),g=t(".modal-body"),m=t(".loader"),v="<p>"+n.t("modal_loader_text_default")+"</p>",b="<span class='loader loader-dark loader-secondary loader-animated'></span>",y=o.screenReaderMsg?o.screenReaderMsg:o.message,k=o.ariaLevel?o.ariaLevel:"assertive";if(o.contentId){if(o.contentId&&"#"!==o.contentId.charAt(0)&&"."!==o.contentId.charAt(0))d=t("#"+o.contentId),o.disable&&(d.append('<div class="opi-overlay" ></div>'),"static"===d.css("position")&&d.css("position","relative"),d.attr("aria-busy","true"));else if(d=t(o.contentId),o.disable)for(var w=o.contentId.split(","),C=0;C<w.length;C++)t(w[C]).append('<div class="opi-overlay" ></div>'),"static"===t(w[C]).css("position")&&d.css("position","relative"),t(w[C]).attr("aria-busy","true");d.addClass("onpage-interstitial-results fade")}if(c.content=o.message,c.showLoader=o.showLoader,c.content&&c.content.indexOf(">")===-1&&(c.content="<p>"+c.content+"</p>"),c.content&&""!==c.content||u||p||(c.content=v,c.showLoader=!0),r&&(a.options.showLoader=c.showLoader),!r||u||p||(a.updateContent(a.options.showLoader?c.content+b:c.content),i.utils.liveAnnounce(y,k)),r||u||p){if(u&&r){var T,P=g.html(),S=m.wrap("<p/>").parent().html(),D=P.indexOf(S);D===-1?(T=P+u,i.utils.liveAnnounce(h,k)):P.toLowerCase().indexOf(v.toLowerCase())===-1?(T=P.substring(0,D)+u+P.substr(D),i.utils.liveAnnounce(h,k)):(T=u+P.substr(D),i.utils.liveAnnounce(h,k)),a.updateContent(T)}p&&r&&(a.updateContent(a.options.showLoader?p+b:p),i.utils.liveAnnounce(f,k))}else{if(c.content=c.showLoader?c.content+b:c.content,a=i.modal.create(c),i.utils.liveAnnounce(y,k),!Modernizr.positionfixed){var I=t("#"+c.modalId);s(),i.subscribe("debounced.scroll",function(){s()})}r=!0}o.scrollToTop&&(l=!0)}),i.subscribe("results.complete",function(e,n){var c;n=n||{},c=n.ariaLevel?n.ariaLevel:"polite",n.screenReaderMsg&&i.utils.liveAnnounce(n.screenReaderMsg,c),"focusElement"in n&&""!==n.focusElement&&(s=t("#"!==n.focusElement.charAt(0)&&"."!==n.focusElement.charAt(0)?"#"+n.focusElement:n.focusElement)),"contentId"in n&&""!==n.contentId&&(o=t("#"!==n.contentId.charAt(0)&&"."!==n.contentId.charAt(0)?"#"+n.contentId:n.contentId)),t(".opi-overlay").remove(),t("[aria-busy = 'true']").attr("aria-busy","false"),r&&(void 0!==s?a.focusMeOnClose=s:a.focusMeOnClose=o,a.close(),void 0!==n&&"contentId"in n&&""!==n.contentId&&o.removeClass("fade onpage-interstitial-results"),r=!1,l&&(setTimeout(function(){window.scroll(0,0)},250),l=!1),Modernizr.positionfixed||i.unsubscribe("debounced.scroll"))}),i}),define("uitk_flexcard",["uitk_domReady","jquery","uitk","uitk_plugins"],function(e,t,i,n){"use strict";function a(e,t){n.newModule.call(this,e,t,s)}i.mediaquery.register("(max-width:45.3125em)","flexMaxSmallTablet"),i.mediaquery.register("(min-width:45.375em)","flexMinTablet"),i.mediaquery.register("(max-width:59.9375em)","flexMaxTablet"),i.mediaquery.register("(min-width:60em)","flexMinDesktop"),i.mediaquery.register("(max-width:30.6875em)","flexMaxMobile"),i.mediaquery.register("(min-width:30.75em)","flexMinSmallTablet");var o="uitk_flexCard",s={},r={mobile:{flip:"flexMaxMobile",reset:"flexMinSmallTablet"},smallTablet:{flip:"flexMaxSmallTablet",reset:"flexMinTablet"},tablet:{flip:"flexMaxTablet",reset:"flexMinDesktop"}},l="flex-tile",c="flex-listing";return a.prototype={constructor:a,init:function(){var e=this;e.element.children().hasClass("flex-placeholder")&&(i.subscribe("debounced.resize",function(){e.placeholder()}),e.placeholder()),e.options.flexFlip&&(e.options.flexType=e.element.hasClass(l)?l:c,e.options.flipType=e.options.flexType===l?c:l,i.subscribe("mediaquery.matched",function(t,i){e.flexFlip(i)}))},placeholder:function(){var e=t(this.element),i=e.prev(".col").children(".flex-card").height();e.children(".flex-placeholder").css("height",i)},flexFlip:function(e){var t=this.options.flexFlip,i=this.options.flexType,n=this.element.hasClass(l)?l:c;r[t].flip===e.key&&i===n?this.flipClass(this.element):r[t].reset===e.key&&i!==n&&this.flipReset(this.element)},flipReset:function(e){e.removeClass(this.options.flipType).addClass(this.options.flexType),e.children(".uitk-col")},flipClass:function(e){e.removeClass(this.options.flexType).addClass(this.options.flipType),e.children(".uitk-col")}},n.initPlugin(o,a),t("[data-flex-flip]")[o](),t(".flex-placeholder").parent()[o](),i.mediaquery.publishAgain(),i.modules.FlexCard=a,a}),define("uitk_flexcardset",["uitk_domReady","jquery","uitk","uitk_plugins"],function(e,t,i){"use strict";function n(e,t){uitk.utils.newModule.call(this,e,t,o)}var a="uitk_flexCardSet",o={};return n.prototype={constructor:n,init:function(){var e,t=this,i=t.element,n="flex-same-height-clear",a="flex-2up",o="flex-3up",s="flex-4up";i.find(".col").removeClass(n),i.hasClass(a)?e="2n+3":i.hasClass(o)?e="3n+4":i.hasClass(s)&&(e="4n+5"),e&&i.find(".col:nth-child("+e+")").addClass(n)}},uitk.utils.initPlugin(a,n),uitk.modules.FlexCardSet=n,n}),define("uitk_datepicker",["uitk_domReady","jquery","handlebars","uitk_i18n","uitk","uitk_date"],function(e,t,i,n,a,o){"use strict";function s(e,i){var n,a,o=this;o.element=t(e),i=i||{},n=o.element.data()||{},o.options=t.extend(!0,{},w,n,i),o.datePickerInput=o.element.find("input."+D),a=o.datePickerInput.data("minRangeLength"),o.datePickerInput.data("minRangeLength")&&(o.options.minRangeLength=a),o.init()}var r,l,c,d,u,h,p,f,g="uitk_datepicker",m=t("body"),v=t(document),b=t(window),y=parseFloat(m.css("min-width")),k=y>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,w={template:"uitk-datepicker-template",minRangeLength:null,gutter:6,borderOffset:-2},C="click."+g,T=new Date,P="datepicker",S="datepicker-open",D="datepicker-trigger-input",I="datepicker-dropdown",x="datepicker-label",_="focused",O="datepicker-prev",E="datepicker-next",A="pin-center",F="datepicker-no-close",M="first-month",L="last-month",R="datepicker-cal-month-header",H="[data-control=datepicker]",N=n.t("date_picker_show_months"),z=n.t("collapsed"),$=n.t("selected").trim(),V=a.isTouchDevice;if(T.setHours(0,0,0,0),"undefined"==typeof a.datePickerCalendarObj){var q={date_format:n.t("date_format"),date_separator:n.t("date_separator"),start_day_of_the_week:n.t("start_day_of_the_week"),months:n.t("months"),days_of_the_week:n.t("days_of_the_week"),days_of_the_week_full:n.t("date_picker_full_days_of_the_week"),close:n.t("close"),nights_text:n.t("nights_text"),stringToArray:function(){var e,t,i=this;for(t in i)e=i[t],"string"==typeof e&&"["===e[0]&&(e=e.substr(1,e.length-2).split(", "),i[t]=e),"start_day_of_the_week"===t&&(i[t]=parseInt(i[t]));return i}};q.stringToArray();var B=o.core.date.CalendarControl.Config;B.setFormatConfig(q.date_format,q.date_separator),B.setUnitConfig(q.start_day_of_the_week,q.months,q.days_of_the_week,q.days_of_the_week_full),B.setTextConfig(q.close),B.setNightTextConfig(q.nights_text),a.datePickerCalendarObj=o.core.date.Calendar(B),a.dateUpdater=o.core.date.DateUpdater(a.datePickerCalendarObj,B),c=function(){return V?function(e){e=e||m,e.find(H).each(function(){var e=t(this),i=e.find("."+D);e.data("showKeyboard")||i.attr("readonly","readonly")})}:function(){}}(),a.initDatePickerInputs=c}return s.prototype={constructor:s,monthCache:{},dateUpdaters:{},datePickerCalendarObj:!1,datePickerConfig:!1,daysHeader:!1,allowPastDates:!1,init:function(){var e=this,i=a.datePickerCalendarObj,n=e.options;e.element.data("dblFire",!1),e.dateError={},e.startDay=i.getStartOfWeek(),void 0===n.close&&(n.close=!0),e.datePickerTemplate||(a.getCompiledTemplate("button-tag",!0),s.prototype.datePickerTemplate=a.getCompiledTemplate(e.options.template)),e.daysHeader||(s.prototype.daysHeader=e.getDaysHtml()),n.firstValidDate?n.firstValidDate=i.getDateFromString(e.options.firstValidDate,!0):n.firstValidDate=T,n.firstValidDate.getFullYear()<T.getFullYear()&&(e.allowPastDates=!0),n.startDate||n.endDate?(n.startDate?(e.startDateSelector=n.startDate,e.datePickerPair=t(e.startDateSelector),e.startDateField=e.datePickerPair.find("."+D)):(e.startDateSelector="#"+e.element.attr("id"),e.startDateField=e.datePickerInput,e.dateType="start"),n.endDate?(e.endDateSelector=n.endDate,e.datePickerPair=t(e.endDateSelector),e.endDateField=e.datePickerPair.find("."+D)):(e.endDateSelector="#"+e.element.attr("id"),e.endDateField=e.datePickerInput,e.dateType="end"),n.defaultRangeLength=t(e.startDateSelector).data("default-range-length"),n.maxRangeLength=t(e.startDateSelector).data("max-range-length"),n.lastValidDate||(n.lastValidDate=t(e.startDateSelector).data("last-valid-date")),n.lastValidDate&&i.getDateFromString(n.lastValidDate,!0).getFullYear()<T.getFullYear()&&(e.allowPastDates=!0),e.registerFields()):(e.datePickerPair=!1,e.startDateField=e.datePickerInput,e.dateType="start"),n.lastValidDate=i.getDateFromString(e.options.lastValidDate,!0),n.lastValidDate&&n.lastValidDate.getFullYear()<T.getFullYear()&&(e.allowPastDates=!0)},getWindowWidth:function(){return b.width()},centerDropDown:function(e){var t,i=this,n=e.find("."+D),a=e.find("."+I),o=i.options.borderOffset;u=a.outerWidth(),h=n.outerWidth(),t=(h-u)/2,a.css("right",t-o/2+"px")},setDatePickerPos:function(e){var t,i,n,a,o,s,l,c,p,f,g=this,m=e.find("."+D),v=e.find("."+I),b=e.hasClass("pin-left"),y=e.hasClass("pin-right"),k=g.options.gutter,w=g.options.borderOffset;r=g.getWindowWidth(),u=v.outerWidth(),h=m.outerWidth(),d=e.hasClass(A),b?v.css({right:"auto",left:w+"px"}):y?v.css("right",w+"px"):d&&g.centerDropDown(e),t=v.offset(),i=t.left,n=r-(i+u),a=parseInt(i-k),o=parseInt(n-k),s=parseFloat(v.css("right")),l=s+a,c=s-o,i<k?(d?v.css("right",l+"px"):v.css("right",a+"px"),"-2px"===v.css("right")&&"-2px"===v.css("left")&&v.css("right","auto")):n<k&&(d?v.css("right",c+"px"):(v.css("left",o+"px"),p=v.position().left,f=u-h+p,f<=0&&v.css({right:w+"px",left:"auto"})))},openDatePicker:function(){var e=this,t=e.element,i=t.find("."+I),n=t.find("."+x),o=t.parents('[tabindex="-1"]');o.removeAttr("tabindex"),e.closeAllDatePickers(),t.addClass(S),i.removeAttr("aria-hidden"),n.addClass(_),a.publish("datepicker.opened",{$datepicker:t}),v.on("keydown","."+S,function(t){27===t.keyCode&&setTimeout(function(){e.closeAllDatePickers()},10)})},closeDatePicker:function(e){var t=e.find("."+I),i=e.find("."+x);e.removeClass(S),t.attr("aria-hidden","true").empty(),i.removeClass(_),v.off("keydown","."+S,function(e){27===e.keyCode&&setTimeout(function(){that.closeAllDatePickers()},10)})},closeAllDatePickers:function(){var e=t(H),i=e.find("."+I),n=e.find("."+x),a=e.find("."+D);e.hasClass(S)&&(e.removeClass(S),i.attr("aria-hidden","true").empty(),n.removeClass(_)),V||a.removeAttr("aria-label")},handleResize:function(e){var t=this,i=e.data("autoPos");r=t.getWindowWidth(),y||(y=255),i&&r>y&&e[g]("setDatePickerPos",e)},registerFields:function(){var e=this;if(e.startDateSelector&&e.endDateSelector){var t=e.startDateSelector+"_"+e.endDateSelector;t in e.dateUpdaters||(e.dateUpdaters[t]=a.dateUpdater.register(e.startDateField[0],e.endDateField[0],e.options.minRangeLength,null,null,e.options.defaultRangeLength,e.allowPastDates))}},getDaysHtml:function(e,t,i){var n,o,s,r=this,l=a.datePickerCalendarObj.config,c="";for(e=e||l.getDayAbbrs(),t=t||r.startDay,n=e.length,i=i||l.getDayNames(),s=0;s<n;s+=1)o=s+t,o>=n&&(o-=n),c+='<th scope="col" role="columnheader" class="datepicker-day-name"><span class="visuallyhidden">'+i[o]+'</span><span aria-hidden="true">'+e[o]+"</span></th>";return c},getNextMonth:function(e,t){var i,n,o=a.datePickerCalendarObj.config;return e===o.getMonths().length-1?(i=0,n=t+1):(i=e+1,n=t),{month:i,year:n}},getPrevMonth:function(e,t){var i,n,o=a.datePickerCalendarObj.config;return 0===e?(i=o.getMonths().length-1,n=t-1):(i=e-1,n=t),{month:i,year:n}},getFirstDayOffset:function(e,t){var i,n=this;return t=t||n.startDay,i=e-t,i<0&&(i=7+i),i},getMonthHtml:function(e,t){var i,o,s,r,l,c=a.datePickerCalendarObj,d=[],u=n.t("date_picker_date_empty"),h=this;if(s=e+"-"+t,s in h.monthCache)return h.monthCache[s];for(o=c.getMonthCount(e,t),r=new Date(t,e,1).getDay(),l=h.getFirstDayOffset(r),d.push("<tr>"),i=1;i<=l;i+=1)d.push('<td><span class="visuallyhidden datepicker-day-empty">'+u+"</span></td>");for(i=1;i<=o;i+=1)d.push('<td class="datepicker-day-number"><button type="button" class="datepicker-cal-date" data-year="'+t+'" data-month="'+e+'" data-day="'+i+'">'+i+"</button></td>");for(i=1;i<=d.length;i+=1)void 0!==d[i]&&i%7===0&&(d[i]=d[i]+"</tr><tr>");return d.push("</tr>"),d=d.join(""),h.monthCache[s]=d,d},getDatePickerCalHtml:function(e,i){var o,s,r,l,c,d,u=this,h=a.datePickerCalendarObj,p=h.config,f=u.options,g="datepicker-paging datepicker-prev btn-paging btn-secondary prev",m="datepicker-paging datepicker-next btn-paging btn-secondary next",v="datepicker-close-btn close btn-text",b=n.t("date_picker_prev_month"),y=n.t("date_picker_next_month"),k=n.t("close"),w=n.t("date_picker_close_hint");return u.firstMonth=e,u.firstYear=i,s=u.getNextMonth(e,i),r=s.month,l=s.year,e===f.firstValidDate.getMonth()&&i===f.firstValidDate.getFullYear()&&(g=g+" "+M),f.lastValidDate&&r===f.lastValidDate.getMonth()&&l===f.lastValidDate.getFullYear()&&(m=m+" "+L),c={prevButton:{type:"button",cssClass:g,content:'<span class="icon icon-pageprev" aria-hidden="true"></span><span class="visuallyhidden">'+b+"</span>"},nextButton:{type:"button",cssClass:m,content:'<span class="icon icon-pagenext" aria-hidden="true"></span><span class="visuallyhidden">'+y+"</span>"},datePickerCalDays:u.daysHeader,datePickerMonth1:p.getMonths()[e],datePickerYear1:i,datePickerCalDates1:u.getMonthHtml(e,i),datePickerMonth2:p.getMonths()[r],datePickerYear2:l,datePickerCalDates2:u.getMonthHtml(r,l)},f.close&&(c.closeButton={type:"button",cssClass:v,content:'<span aria-hidden="true">'+k+' </span><span class="visuallyhidden">'+w+'</span><span class="icon icon-close" aria-hidden="true"></span>'}),o=u.datePickerTemplate(c),u.currentDatePickerCal=t(o).data("datepicker",u.element),u.currentMonth=e,u.currentYear=i,u.highlight(u.currentDatePickerCal),f.close||u.currentDatePickerCal.addClass(F),u.startDate&&"start"!==u.dateType?"end"===u.dateType&&(u.disableDatesBefore(u.currentDatePickerCal,u.startDate),f.maxRangeLength&&(d=new Date(u.startDate.getTime()+864e5*parseInt(f.maxRangeLength,10)),u.disableDatesAfter(u.currentDatePickerCal,d))):u.disableDatesBefore(u.currentDatePickerCal,u.options.firstValidDate),f.lastValidDate&&u.disableDatesAfter(u.currentDatePickerCal,f.lastValidDate),"undefined"!=typeof f.blackoutDates&&u.disableDatesDuring(u.currentDatePickerCal),u.currentDatePickerCal},getMonthMsg:function(e){var i=[],n=e.find("."+R+":visible"),a=t(n);return a.each(function(e){i.push(a.eq(e).text())}),i=i.join(" ")},nextMonth:function(e){var t,i,o,s=this,r=s.datePickerCalContainer,l=n.t("date_picker_end_valid_range");e.hasClass(L)?r.addClass("show-second-month"):(t=s.getNextMonth(s.currentMonth,s.currentYear),i=t.month,o=t.year,r.html(s.getDatePickerCalHtml(i,o).html()),a.utils.focusElement(r.find("."+E))),p=N+" "+s.getMonthMsg(r),(1===r.find("."+L).length&&2===r.find("."+R+":visible").length||e.hasClass(L))&&(a.utils.focusElement(r.find("."+O)),p+=", "+l),a.utils.liveAnnounce(p)},prevMonth:function(){var e,t,i,o=this,s=o.datePickerCalContainer,r=s.find(".datepicker-cal-month:visible"),l=n.t("date_picker_start_valid_range");return s.hasClass("show-second-month")&&2!==r.length||(e=o.getPrevMonth(o.currentMonth,o.currentYear),t=e.month,i=e.year,s.html(o.getDatePickerCalHtml(t,i).html())),s.removeClass("show-second-month"),p=N+" "+o.getMonthMsg(s),1===s.find("."+M).length?(a.utils.focusElement(s.find("."+E)),p+=", "+l):a.utils.focusElement(s.find("."+O)),a.utils.liveAnnounce(p),r},getDateFromField:function(e,t){var i,n,o=this,s=e.closest("."+P),r=a.datePickerCalendarObj;return n=s[g]("getDateError"),i=n&&n.flagged?!(!n.replacementDate||!n.highlight&&!t)&&r.getDateFromString(n.replacementDate,o.allowPastDates):r.getDateFromString(e.val(),o.allowPastDates)},getStartDate:function(e){var t=this;return e=e||t.getDateFromField(t.startDateField),!e||e.valueOf()<t.options.firstValidDate.valueOf()?(t.startDate=null,e=t.options.firstValidDate):t.options.lastValidDate&&e.valueOf()>t.options.lastValidDate.valueOf()?(t.startDate=null,e=t.options.lastValidDate):t.startDate=e,e},getInitialDatePickerCal:function(){var e,t,i,n,o,s,r,l,c=this,d=a.datePickerCalendarObj;if(t=T.valueOf()>c.options.firstValidDate.valueOf()?T:c.options.firstValidDate,c.options.lastValidDate&&t.valueOf()>c.options.lastValidDate.valueOf()&&(t=c.options.lastValidDate),c.options.lastValidDate&&c.options.lastValidDate.valueOf()<T.valueOf()?0===t.getMonth()?(i=11,n=t.getFullYear()-1):(i=t.getMonth()-1,n=t.getFullYear()):(i=t.getMonth(),n=t.getFullYear()),s=c.getStartDate(),c.endDateField&&(r=c.getDateFromField(c.endDateField),c.setThisEndDate(s,r)),(c.startDate||c.endDate)&&(l="end"===c.dateType?c.getDateFromField(c.endDateField,!0)||r:c.getDateFromField(c.startDateField,!0)||s,(c.lastDisplayedMonth||0===c.lastDisplayedMonth)&&c.lastDisplayedYear&&(i=c.lastDisplayedMonth,n=c.lastDisplayedYear),l&&(!c.dateError.flagged||c.dateError.flagged&&c.dateError.replacementDate))){var u,h=c.dateType,p=l.getMonth(),f=1===p.toString().length?"0"+p:p,g=l.getFullYear(),m=g+""+f,v=c.getNextMonth(i,n),b=1===i.toString().length?"0"+i:i,y=n+""+b,k=v.month,w=1===k.toString().length?"0"+k:k,C=v.year,P=C+""+w;m>=y&&m<=P||("start"===h?(i=p,n=g):"end"===h&&(u=c.getPrevMonth(p,g),i=u.month,n=u.year))}"end"===c.dateType&&i!==s.getMonth()&&d.getMonthCount(s.getMonth(),s.getFullYear())-s.getDate()<7?(o=c.getNextMonth(i,n),c.setLastDisplayed({month:o.month,year:o.year}),c.getDatePickerCalHtml(o.month,o.year)):(c.setLastDisplayed({month:i,year:n}),c.getDatePickerCalHtml(i,n)),e=c.currentDatePickerCal;var S=e.find(".datepicker-cal-month").eq(1);return(c.options.lastValidDate&&c.options.lastValidDate.valueOf()<T.valueOf()&&0===e.find(".start, .end").length||S.find(".start").length>0||"end"===c.dateType&&S.find(".end").length>0)&&e.addClass("show-second-month"),e},getDateLink:function(e,t){if(e&&t)return e.find("button[data-day="+t.getDate()+"][data-month="+t.getMonth()+"][data-year="+t.getFullYear()+"]")},highlight:function(e){var t=this,i=t.highlightStart(e),n=t.highlightEnd(e);t.highlightRange(e,i,n)},highlightStart:function(e){var t=this,i=t.getDateFromField(t.startDateField);if(i)return t.getDateLink(e,i).addClass("start")},highlightEnd:function(e){var t=this;if(t.endDateField){var i=t.getDateFromField(t.endDateField);if(i)return t.getDateLink(e,i).addClass("end")}},highlightRange:function(e,t,i){var n,a,o,s,r=this,l=e.find(".datepicker-cal-dates button"),c=l.index(t)+1,d=l.index(i),u=r.startDate,h=r.endDate,p=r.currentMonth,f=r.currentYear;if(l.removeClass("highlight"),c>d&&l.filter(".end").removeClass("end"),t&&c>0)o=0;else{if(!u)return;n=u.getFullYear(),o=u.getMonth()<p&&n===f||n<f?-1:1}if(i&&d>=0)s=0;else{if(!h)return;a=h.getFullYear(),s=h.getMonth()<p&&a===f||a<f?-1:1}if(!(o<0&&s<0||o>0&&s>0)){if(o<0)c=0;else if(o>0)return;if(s>0)d=l.length;else if(s<0)return;l.slice(c,d).addClass("highlight")}},disableDates:function(e){var i=n.t("date_picker_date_disabled");e.each(function(){var e=this,n=t(e);n.replaceWith('<button type="button" class="datepicker-cal-date disabled" aria-hidden="true" disabled>'+n.text()+'</button><span class="visuallyhidden">'+n.text()+", "+i+"</span>")})},disableDatesBefore:function(e,t){var i,n=this,a=e.find(".datepicker-cal-date"),o=n.getDateLink(e,t);o.length>0&&(i=a.index(o),i>0&&(n.disableDates(a.slice(0,i)),e.find("button.prev").addClass(M)))},disableDatesAfter:function(e,t){var i,n,a,o,s,r=this,l=e.find(".datepicker-cal-date"),c=l.length,d=r.getDateLink(e,t);d.length>0?(i=l.index(d),i+1<c&&(r.disableDates(l.slice(i+1)),e.find("button.next").addClass(L))):(n=l.first(),a=n.data("year"),o=n.data("month"),s=t.getFullYear(),(a>s||o>t.getMonth()&&a===s)&&(r.disableDates(l),e.find("button.next").addClass(L)))},disableDatesDuring:function(e){var i,n,o,s,r,l,c,d,u,h,p,f,g=this,m=a.datePickerCalendarObj,v=m.getDateFormat(),b=m.getDateSeparator(),y=e.find(".datepicker-cal-date"),k=g.options.blackoutDates,w=k.dates.length,C=k.blackoutDatesFlag,T=[],P=[],S=[];if("mmddyy"!==v&&"undefined"==typeof k.formatted){for(l=0;l<w;l++){var D=[];k.dates[l]=k.dates[l].split("/"),d=v.indexOf("mm")/2,c=v.indexOf("dd")/2,u=v.indexOf("yy")/2,D[u]=k.dates[l][2],D[c]=k.dates[l][1],D[d]=k.dates[l][0],D=D.join(b),k.dates[l]=D}k.formatted=!0}for(h=0;h<w;h++)T.push(m.getDateFromString(k.dates[h],g.allowPastDates));for(i=T.length,p=0;p<i;p++){var I=g.getDateLink(e,T[p])||{};I.length>0&&(P.push(I),C===!1&&(r=t.inArray(I.get(0),y),S.push(r)))}if(n=P.length,C===!0||"undefined"==typeof C){if(n>0){for(o=P[0],f=1;f<n;f++)o=o.add(P[f]);g.disableDates(o)}}else{for(s=S.length,f=s-1;f>=0;f--)y.splice(S[f],1);g.disableDates(y)}},selectDate:function(e){var t=new Date(e.data("year"),e.data("month"),e.data("day")),i=this,n=a.datePickerCalendarObj.toStringFromComp(t.getDate(),t.getMonth()+1,t.getFullYear()),o=n.split("/").join(" "),s=i.element.closest('[data-control="datepicker"]'),r=s.find("."+x),l=s.find("."+D);f=r.text(),p=f+" "+z,setTimeout(function(){a.updatePlaceholderClass(i.startDateField),i.endDateField&&a.updatePlaceholderClass(i.endDateField)},50),i.setLastDisplayed(),i.clearDateError(),i.element.data("showDatePickerCal",!1),i.datePickerInput.val(n),V?(p=o+" "+$+". "+f+" "+z,a.utils.liveAnnounce(p)):(p=f+" "+z,l.attr("aria-label",p)),a.publish("datepicker.selectDate",{element:i.datePickerInput,date:t}),i.datePickerInput.focus()},mouseenterDate:function(e){var t=this;"start"===t.dateType?(t.datePickerCalContainer.find("a.start").removeClass("start"),t.highlightRange(t.datePickerCalContainer,e,t.highlightEnd(t.datePickerCalContainer))):"end"===t.dateType&&(t.datePickerCalContainer.find("a.end").removeClass("end"),t.highlightRange(t.datePickerCalContainer,t.highlightStart(t.datePickerCalContainer),e))},mouseleaveDate:function(){var e=this;e.highlightRange(e.datePickerCalContainer,e.highlightStart(e.datePickerCalContainer),e.highlightEnd(e.datePickerCalContainer))},setContainer:function(e){var t=this;t.datePickerCalContainer=e},setLastDisplayed:function(e,t){
var i=this,n=e&&(e.month||0===e.month)?e.month:i.firstMonth,a=e&&e.year?e.year:i.firstYear;t=!(t||t===!1||!i.datePickerPair),t&&i.datePickerPair[g]("setLastDisplayed",{month:n,year:a},!1),i.lastDisplayedMonth=n,i.lastDisplayedYear=a},setThisEndDate:function(e,t){var i=this;!t||t.valueOf()<e.valueOf()?i.endDate=null:i.endDate=t},updateOptions:function(e,i){var n,o=this,s=a.datePickerCalendarObj,r={},l=!1;i=!(i||i===!1||!o.datePickerPair);for(n in e)if(e.hasOwnProperty(n))switch(n){case"firstValidDate":case"lastValidDate":o.options[n]=s.getDateFromString(e[n],o.allowPastDates);break;case"maxRangeLength":o.options[n]=e[n],r[n]=e[n];break;default:o.options[n]=e[n]}if(i===!0){for(n in r)if(r.hasOwnProperty(n)){l=!0;break}l&&(o.options.startDate?t(o.startDateSelector)[g]("updateOptions",r,!1):o.options.endDate&&t(o.endDateSelector)[g]("updateOptions",r,!1))}},flagDateError:function(e,t){var i=this;t=!t&&t!==!1,i.dateError={flagged:!0,replacementDate:e||!1,highlight:t}},clearDateError:function(){var e=this;e.dateError={flagged:!1,replacementDate:!1,highlight:!1}},getDateError:function(){var e=this;return e.dateError}},t.fn[g]=function(){var e,i,n,a,o;return"object"==typeof arguments[0]?(e=arguments[0],i=arguments[1],n=arguments[2],a=arguments[3]):(e={},i=arguments[0],n=arguments[1],a=arguments[2]),this.each(function(){t.data(this,g)||t.data(this,g,new s(this,e)),"string"==typeof i&&(o=t.data(this,g)[i](n,a))}),o},l=function(e){var t,i,o,s=e.find("."+I),r=e.data("autoPos"),l=e.hasClass(A),c=e.find("."+x),d="datepicker-cal",u=e.find("."+D),h=n.t("expanded");t=e[g]("getInitialDatePickerCal"),void 0!==t&&(e[g]("openDatePicker"),s.append(t),e[g]("setContainer",e.find("."+d)),f=c.text(),p=f+" "+h+". ",o=N+" "+e[g]("getMonthMsg",e),V?(i=n.t("date_picker_use_hint_touch"),p+=i+". "+o,setTimeout(function(){a.utils.liveAnnounce(p)},200)):(i=n.t("date_picker_use_hint"),p+=i+". "+o,u.attr("aria-label",p)),r&&!k?e[g]("setDatePickerPos",e):l&&e[g]("centerDropDown",e)),setTimeout(function(){e.data("showDatePickerCal",!0)},100)},m.on("focus."+g+" "+C,"."+D,function(e){var i=t(e.target),n=i.closest('[data-control="datepicker"]');n.data("dblFire")||(n.data("showDatePickerCal")!==!1?(n.data("showDatePickerCal",!1),l(n)):n.data("showDatePickerCal",!0),n.data("dblFire",!0),setTimeout(function(){n.data("dblFire",!1)},400))}),m.on(C,".datepicker-next",{stopPropagation:!0},function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),e.stopPropagation(),n[g]("nextMonth",i)}),m.on(C,".datepicker-prev",{stopPropagation:!0},function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),e.stopPropagation(),n[g]("prevMonth",i)}),m.on(C,".datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||(n[g]("selectDate",i),setTimeout(function(){n[g]("closeDatePicker",n)},100))}),m.on("mouseenter."+g+" focus."+g,".datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||n[g]("mouseenterDate",i)}),m.on("mouseleave."+g+" blur."+g,".datepicker-open .datepicker-cal-date",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker");e.preventDefault(),i.hasClass("disabled")||n[g]("mouseleaveDate",i)}),m.on(C,".datepicker-close",function(e){var i=t(e.target),n=i.closest(".datepicker-cal").data("datepicker"),o=n.find("."+D),s=n.find("."+x);f=s.text(),p=f+" "+z,e.preventDefault(),V?a.utils.liveAnnounce(p):o.attr("aria-label",p),n.data("showDatePickerCal",!1),a.publish("datepicker.closeButton",{$datepicker:n,$datepickerCloseBtn:i}),o.focus(),setTimeout(function(){n[g]("closeDatePicker",n)},50)}),v.on(C+" focusin."+g,function(e){if("focusin"!==e.type||a.utils.isFocusableElement(t(e.target))){var i=t(e.target).closest('[data-control="datepicker"]');i.length<=0&&(i=t(e.target)),"datepicker"===i.data("control")||i.hasClass(S)||0!==i.closest("."+S).length||s.prototype.closeAllDatePickers()}}),b.on("resize."+g,function(){var e=t(H+"."+S);!k&&e.length>0&&s.prototype.handleResize(e)}),c(),a.modules.DatePicker=s,s}),define("uitk_autocomplete",["jquery","handlebars","uitk","uitk_i18n","uitk-autocomplete-by-category.hbs","uitk-autocomplete-default.hbs"],function(e,t,i,n){"use strict";function a(e,t,i){this.__essAbacusIds=e,this.__variantAssigner=t,this.__pageIdGetter=i,this.siteId=this.__getSiteId(),this.guid=this.__getGuid()}function o(t){if(!t.data("autocomplete")){var i=t.data("template");void 0!==i&&(i.indexOf("/")>=0?e.ajax({url:i,success:function(e){var i=t.data();i.rawHtml=!0,new D(t,e,i)},dataType:"text"}):new D(t,i,t.data()))}}var s,r,l,c,d,u=e("body"),h=e(window),p=parseFloat(u.css("min-width")),f=p>950||"false"===Modernizr.mediaqueries||Modernizr.mediaqueries===!1,g={gutter:6,borderOffset:-2},m="[data-control=autocomplete]",v="autocomplete",b="autocomplete-trigger-input",y="autocomplete-dropdown",k="autocomplete-open",w="autocomplete-arrow",C="pin-center",T="pin-left",P="pin-right",S="highlight";if("undefined"!=typeof window.uitkautocomplete)return console.log("autocomplete is now included in the UITK so you no longer need to load it manually"),window.uitkautocomplete;if(u[0].hasAttribute("data-disable-autocomplete"))return!0;var D=function(n,a,o){this.$element=e(n),this.$parent=this.$element.closest("."+v),this.$label=this.$element.closest("label"),d=this.$parent.data("autoPos"),this.setPinClass(this.$parent),this.ariaOwns=this.$element.attr("aria-owns")||"backwards",this.templateUsed=a,this.firstItemFlag=!0,this.lastItemFlag=!0,o.rawHtml?this.template=t.compile(a):i?this.template=i.getCompiledTemplate(a):(a=e(a).html(),this.template=t.compile(a)),this.opts=e.extend(!0,{},D.defaultOptions,o),this.searchType=null,this.cache={},this.ignoreNext=!1,this.isClickOn=!1,this.bodyClick=!1,this.$element.autocomplete="off",this.$element.closest("form").attr({autocomplete:"off",spellcheck:"false"}),this.$element.on("focus",e.proxy(this.focus,this)).on("keydown",e.proxy(this.keyDown,this)).on("keyup",e.proxy(this.keyUp,this)).on("keypress",e.proxy(this.keyPress,this)).on("blur",e.proxy(this.blur,this)),this.$ta=this.$element.closest(".autocomplete").find("."+y),this.$ta.on("mousedown",e.proxy(this.clickOn,this)).on("mouseup",e.proxy(this.clickOff,this)).on("click",e.proxy(this.click,this)).on("mouseenter","a",e.proxy(this.mouseEnter,this)),this.$element.data("autocomplete",this),this.opts.openDefaultTa?(this.shouldBeOpen=!0,this.request("defaultResponse",!1)):this.request("zzzzzz",!0),h.on("resize",function(){var t=e(m+"."+k);!f&&t.length>0&&D.prototype.handleResize(t)})};return D.prototype={constructor:D,shouldBeOpen:!1,startRequest:function(){var e=this.$element.val();e.length>=this.opts.minchar?this.cache[e]?this.render(e,this.cache[e]):this.request(e):this.closeIfOpen()},request:function(t,i){var n,o={},s=a.defaultGenerator;"v4"===this.opts.version?(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/api/",this.opts.version,"/typeahead/",encodeURIComponent(t),"?callback=?"].join(""),"CARS"===this.opts.lob&&(o.sortcriteria="category"),o.regiontype=this.opts.mask,o.locale=this.opts.locale,o.ab=this.opts.abtest,o.lob=this.opts.lob,o.format="jsonp",o.dest=this.opts.dest,o.maxresults=this.opts.maxresults,o.rid=this.opts.regionid,o.features=this.opts.features,o.client=this.opts.clientId?this.opts.clientId:s.getClientId(),o.siteid=s.siteId,o.guid=s.guid):(n=this.opts.overrideServiceUrl?[this.opts.overrideServiceUrl,encodeURIComponent(t)].join(""):[this.opts.serviceUrl,"/hint/es/",this.opts.version,"/ac/",this.opts.locale,"/",encodeURIComponent(t),"?callback=?"].join(""),o.type=this.opts.mask,o.ab=this.opts.abtest,o.lob=this.opts.lob,o.format="json",o.dest=this.opts.dest,o.maxresults=this.opts.maxresults,o.rid=this.opts.regionid,this.opts.overrideServiceUrl||"//suggest.expedia.com"!==this.opts.serviceUrl||(o.client=this.opts.clientId?this.opts.clientId:s.getClientId(),o.siteid=s.siteId,o.guid=s.guid));var r;if(r=i?e.noop:e.proxy(this.callback,this),this.opts.additionalDataSourceUrl){r=e.proxy(this.combineResults,this);var l=[this.opts.additionalDataSourceUrl,encodeURIComponent(t)].join(""),c=n;e.when(e.getJSON(l,o),e.getJSON(c,o)).then(r)}else e.getJSON(n,o,r)},combineResults:function(e,t){var i=[];e[0]&&e[0].sr&&(i=i.concat(e[0].sr)),t[0]&&t[0].sr&&(i=i.concat(t[0].sr)),this.processResults(i,e[0].q)},callback:function(e){var t=e.sr?e.sr:e.r,i=e.q;this.processResults(t,i)},processResults:function(e,t){e&&this.shouldBeOpen&&this.$element[0]==document.activeElement?(this.cache[t]=e,this.render(t,e)):(this.cache[t]=[],this.closeIfOpen())},playBackUserTypedText:function(t,i){if(this.opts.playBackText&&"defaultResponse"!==i){var n=!0;if(e.each(t,function(e,t){t.id===-1&&(n=!1)}),n){var a=/<script[\s\S]+?script\s*>?/gi;i=i.replace(a,"");var o=/\d/,s=this.opts.playBackText;s=s.replace(o,i);var r={};r.l=i,r.d=s,r.id=-1,r.i=-1,"HOTELS"===this.opts.lob&&(r.t="HOTEL"),t.push(r)}}},render:function(t,a){var o="v4"===this.opts.version,s=this.$element.val(),r={};if(a.length>0&&(this.opts.openDefaultTa||s===t)){this.playBackUserTypedText(a,t),a.sort(function(e,t){var i=o?e.index-t.index:e.i-t.i;return i});var l=this.opts,c={};e.each(a,function(e,t){var i=o?D.CATEGORIES[t.type]:D.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof c[n]&&(c[n]=!0)});var d={};"HOTELS"===this.opts.lob?(c["Region/City"]&&(d["Region/City"]=[]),c.Attractions&&(d.Attractions=[]),c.Airports&&(d.Airports=[]),c.Amenities&&(d.Amenities=[]),c.Hotels&&(d.Hotels=[])):"CARS"===this.opts.lob&&(c.Airports&&(d.Airports=[]),c["Region/City"]&&(d["Region/City"]=[]),c.Attractions&&(d.Attractions=[])),e.each(a,function(e,t){var i=o?D.CATEGORIES[t.type]:D.CATEGORIES[t.t],n=i?i.name:"Other";"undefined"==typeof d[n]&&(d[n]=[]),t.categoryName=n,d[n].push(t),l.forceicon?t.icon=l.forceicon:t.icon=i?i.icon:"location",o&&t.regionNames?"undefined"!=typeof t.regionNames.lastSearchName?t.regionNames.lastSearchName=t.regionNames.lastSearchName.replace(/'/g,"&#39;"):"undefined"!=typeof t.regionNames.fullName&&(t.regionNames.lastSearchName=t.regionNames.fullName.replace(/'/g,"&#39;"),t.regionNames.fullName=t.regionNames.fullName.replace(/'/g,"&#39;")):"undefined"!=typeof t.l&&(t.regionNames={lastSearchName:t.l,displayName:t.d},t.type=t.t),t.data=JSON.stringify(t)}),i.publish("typeahead.opened",{results:a,text:t}),r.continueText=this.opts.continuetext,r.closeText=this.opts.closetext,r.results=a,r.resultsByCategory=d,Modernizr.android||(r.ariaOwns=this.ariaOwns),r.isV4=o;var u=this.template(r);this.$ta.html(u),this.$ta.is(":hidden")&&this.open(),this.$label.addClass("focused");var h,p=a.length;h=1===p?"typeahead_results_displayed_one":"typeahead_results_displayed_other",i.utils.liveAnnounce(n.t(h,{arg0:p}))}else s===t&&this.closeIfOpen()},open:function(){this.$ta.closest("."+v).addClass(k),this.$ta.show(),d&&!f?this.setAutocompletePos(this.$parent):c&&this.centerDropDown(this.$parent)},closeIfOpen:function(){this.$ta.closest("."+v).hasClass(k)&&this.close()},close:function(){this.$label.removeClass("focused"),this.$ta.closest("."+v).removeClass(k),this.$ta.hide(),this.$ta.html(""),this.removeActiveDescendant(),i.publish("typeahead.closed")},closeAllTA:function(){var t=e("."+v);t.find("label."+w).removeClass("focused"),t.removeClass(k).find("."+y).html("").hide(),this.removeActiveDescendant()},removeActiveDescendant:function(){var t=e("input[aria-activedescendant]");t.length>0&&t.removeAttr("aria-activedescendant")},prev:function(){var t=this.$ta.find("a"),n=this.$ta.find("."+S).removeClass(S),a=t.index(n),o=t[a-1],s=e(o),r=e(o).attr("id"),l=t.length-1,c="";n.attr("aria-selected","false"),o?(a!==l||conditionizr.safari||(c=s.attr("data-value"),i.utils.liveAnnounce(c,"polite")),s.addClass(S),s.attr("aria-selected","true"),this.$element.attr("aria-activedescendant",r)):(this.$element.removeAttr("aria-activedescendant"),i.utils.liveAnnounce(this.$element.val(),"polite"))},next:function(){var t,a=this.$ta.find("a"),o=this.$ta.find("."+S).removeClass(S),s=a.index(o),r=a[s+1],l=e(r),c=e(r).attr("id"),d="";l.hasClass("close")||o.attr("aria-selected","false"),conditionizr.safari||(this.firstItemFlag===!0?this.firstItemFlag=!1:"undefined"==typeof a[s]&&(t=this.$ta.find("a")[0],d=e(t).attr("data-value"),i.utils.liveAnnounce(d,"polite"))),r?(l.addClass(S),l.attr("aria-selected","true"),l.hasClass("close")?i.utils.liveAnnounce(n.t("close"),"assertive"):this.$element.attr("aria-activedescendant",c)):i.utils.liveAnnounce(this.$element.val(),"polite")},removeHighlights:function(){this.$ta.find("."+S).removeClass(S)},selectHighlighted:function(t,a){var o,s,r=this.$ta.find("."+S),l=r.text(),c="#uitk-autocomplete-default"===this.templateUsed?"results-item":"results-item-ally";if(i.isTouchDevice&&(r=e(t.target).closest("."+c).find("a"),r.context=this.$ta.context,l=r.text(),a=""===l),o=l.replace(/(^\s+|\s+$)/g,""),this.updateTextField(r),r.removeClass(S),a===!0)s=r.text().replace(/(^\s+|\s+$)/g,""),i.utils.liveAnnounce(n.t("close_button_menu_closed"));else{var d=n.t("item_selected_menu_closed",{arg0:o});i.utils.liveAnnounce(d,"assertive")}var u=t.target||t.srcElement,h=u.classList;if(!h.contains("close")&&!h.contains("icon-close")){var p={element:r};i.publish("typeahead.resultSelected",p)}},updateTextField:function(e){if(e){var t=this,i=e.attr("data-value");if(i){i=i.replace(/&#39;/g,"'"),t.$element.val(i);var n=e.attr("data-id");n&&t.$element.attr("data-id",n),t.opts.selectioncallback&&("function"==typeof t.opts.selectioncallback?t.opts.selectioncallback(e):"string"==typeof t.opts.selectioncallback&&window[t.opts.selectioncallback](e))}t.closeIfOpen(),Modernizr.appleios?setTimeout(function(){t.$element.focus()},100):t.$element.focus()}},focus:function(){},keyDown:function(e){var t;switch(e||(e=window.event),t=e.keyCode){case 27:this.closeIfOpen(),e.stopPropagation();break;case 9:case 13:if(this.opts.selectFirstElementByDefault&&this.$ta.find("."+S).length<=0&&this.$label.hasClass("focused")){var i=this.$ta.find("li.category-item");if(i&&0!==i.length||(i=this.$ta.find("li.results-item")),i){var n=i.first();n&&n.find("a").addClass(S)}}this.$ta.find("."+S).length&&(e.stopPropagation(),13===t&&e.preventDefault(),this.selectHighlighted(e,this.$ta.find("."+S).hasClass("close")));break;case 32:this.$ta.find("."+S).hasClass("close")&&(e.stopPropagation(),e.preventDefault());break;case 39:this.$ta.find("."+S).length&&(this.ignoreNext=!0,e.stopPropagation(),this.selectHighlighted());break;case 38:e.preventDefault(),e.stopPropagation(),this.prev();break;case 40:e.stopPropagation(),e.preventDefault(),this.next()}},keyPress:function(e){e||(e=window.event),13===e.keyCode&&this.closeIfOpen()},keyUp:function(e){if(this.ignoreNext)return void(this.ignoreNext=!1);switch(e||(e=window.event),e.keyCode){case 27:break;case 37:this.removeHighlights();break;case 38:e.preventDefault(),e.stopPropagation();break;case 40:e.stopPropagation(),e.preventDefault();break;case 16:case 17:case 18:break;case 13:this.shouldBeOpen=!1;break;case 32:this.$ta.find("."+S).hasClass("close")&&(e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e,this.$ta.find("."+S).hasClass("close")));break;default:this.shouldBeOpen=!0,this.startRequest()}},blur:function(){window.navigator.msPointerEnabled&&!window.PointerEvent||this.isClickOn&&(this.$ta.bind("mousedown",e.proxy(this.cancelEvent,this)),e(document.body).bind("mousedown",e.proxy(this.close,this)),this.bodyClick=!0)},clickOn:function(){this.isClickOn=!0},clickOff:function(){this.isClickOn=!1},click:function(e){e.stopPropagation(),e.preventDefault(),this.selectHighlighted(e)},mouseEnter:function(t){this.removeHighlights(),e(t.currentTarget).addClass(S)},cancelEvent:function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancel=!0,e.returnValue=!1},remove:function(){this.$element.autocomplete="on",this.$element.closest("form").attr("autocomplete","on"),this.$element.off("focus",e.proxy(this.focus,this)).off("keydown",e.proxy(this.keyDown,this)).off("keyup",e.proxy(this.keyUp,this)).off("keypress",e.proxy(this.keyPress,this)).off("blur",e.proxy(this.blur,this)),this.$ta.off("mousedown",e.proxy(this.mouseDown,this)).off("mouseup",e.proxy(this.mouseUp,this)).off("click",e.proxy(this.click,this)).off("mouseenter","a",e.proxy(this.mouseEnter,this)).remove()},getWindowWidth:function(){return h.width()},centerDropDown:function(e){var t,i=e.find("."+b),n=e.find("."+y),a=g.borderOffset;r=n.outerWidth(),l=i.outerWidth(),t=(l-r)/2,n.css("right",t-a/2+"px")},setAutocompletePos:function(e){var t,i,n,a,o,d,u,h,p,f,m=this,v=e.find("."+y),k=e.find("."+b),w=e.hasClass(T),S=e.hasClass(P),D=g.gutter,I=g.borderOffset;s=m.getWindowWidth(),r=v.outerWidth(),l=k.outerWidth(),c=e.hasClass(C),w?v.css({right:"auto",left:I+"px"}):S?v.css("right",I+"px"):c&&m.centerDropDown(e),t=v.offset(),i=t.left,n=s-(i+r),a=parseInt(i-D),o=parseInt(n-D),d=parseFloat(v.css("right")),u=d+a,h=d-o,i<D?(c?v.css("right",u+"px"):v.css("right",a+"px"),"-2px"===v.css("right")&&"-2px"===v.css("left")&&v.css("right","auto")):n<D&&(c?v.css("right",h+"px"):(v.css("left",o+"px"),p=v.position().left,f=r-l+p,f<=0&&v.css({right:I+"px",left:"auto"})))},handleResize:function(e){var t=this,i=e.data("autoPos");s=t.getWindowWidth(),p||(p=255),i&&s>p&&t.setAutocompletePos(e)},setPinClass:function(e){e.hasClass(T)||e.hasClass(P)||e.hasClass(C)||e.addClass(T)}},D.AIRPORT=1,D.CITY=2,D.MULTICITY=4,D.NEIGHBORHOOD=8,D.POI=16,D.ADDRESS=32,D.METROCODE=64,D.HOTEL=128,D.MULTIREGION=256,D.TRAINSTATION=512,D.METROSTATION=1024,D.REGIONTYPE={ALL:31,AIRPORT:1,CITIES:2},D.LOB={HOTELS:"HOTELS",PACKAGES:"PACKAGES",FLIGHTS:"FLIGHTS"},D.CATEGORIES={CITY:{id:0,name:"Region/City",icon:"location"},ATTRACTION:{id:1,name:"Attractions",icon:"location"},AIRPORT:{id:2,name:"Airports",icon:"flights"},HOTEL:{id:3,name:"Hotels",icon:"hotels"},ADDRESS:{id:4,name:"Address",icon:"location"},TRAINSTATION:{id:5,name:"Train Station",icon:"train"},METROSTATION:{id:6,name:"Metro Station",icon:"train"},MULTICITY:{id:7,name:"Region/City",icon:"location"},NEIGHBORHOOD:{id:8,name:"Region/City",icon:"location"},METROCODE:{id:9,name:"Airports",icon:"flights"},POI:{id:11,name:"Attractions",icon:"location"},RENTAL:{id:12,name:"Rental locations",icon:"location"},DEALS:{id:13,name:"Deals",icon:"location"},AMENITY:{id:14,name:"Amenities",icon:"tag"}},a.prototype.ESS_ABACUS_IDS=[],a.prototype.clientIdByPageId={aws_Homepage:"AWSHomepage",Homepage:"Homepage","page.Flights":"FlightsLandingPage","page.Hotels":"HotelsLandingPage","page.Cars":"CarsLandingPage","page.Activities":"LXLandingPage","page.Packages":"PackageLandingPage","page.car.search.list":"Cars.Search","page.Car-Search":"Cars.Search","page.Flight-Search-Disambig":"Flights","page.Flight-Search-Roundtrip":"Flights","page.Flight-Search-Roundtrip.Out":"Flights","page.Flight-Search-Roundtrip.In":"Flights","page.Flight-Search-Oneway":"Flights","page.Package.FC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FC.Flight-Search-Roundtrip":"Packages.Search","page.Package.FC.Car-Search":"Packages.Search","page.Package.HC.Hotel-Search":"Packages.Search","page.Package.HC.Car-Search":"Packages.Search","page.HC.Package.Infosite.Information":"Packages.Search","page.FHC.Package-Search":"Packages.Search","page.Package.FHC.Hotel-Search":"Packages.Search","page.FHC.Package.Infosite.Information":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip.In":"Packages.Search","page.Package.FHC.Flight-Search-Roundtrip":"Packages.Search","page.Package-Change-Flight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FHC.Car-Search":"Packages.Search","page.Package.FH.Hotel-Search":"Packages.Search","page.FH.Package.Infosite.Information":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.Out":"Packages.Search","page.Package.FH.Flight-Search-Roundtrip.In":"Packages.Search","page.Package-Search":"Packages.Search","page.Packages.Infosite.Information":"Packages.Search","page.package-search.changeFlight.Outbound":"Packages.Search","page.package-search.changeFlight.Roundtrip":"Packages.Search","page.Package.FH.Hotel-Search.Error":"Packages.Search","page.FH.Package-Search.Error":"Packages.Search","page.HC.Package-Search.Error":"Packages.Search","page.Package.HC.Hotel-Search.Error":"Packages.Search","page.FHC.Package-Search.Error":"Packages.Search","page.FHC.package-search.changeFlight.Outbound":"Packages.Search","page.FHC.package-search.changeFlight.Return":"Packages.Search","page.Package.FH.Hotel-Search.ChangeHotel":"Packages.Search","page.Package.FC.Car-Search-Dynamic":"Packages.Search","page.Package-Search.Error":"Packages.Search","page.FC.Package-Search.Error":"Packages.Search"},a.prototype.defaultPageIdGetter=function(){var t=e("#pageId"),i=1===t.size()?t.val():"";return i?i:""},a.prototype.getClientId=function(){var e="function"==typeof this.__pageIdGetter&&this.__pageIdGetter(),t=e&&a.prototype.clientIdByPageId[e];return t?t:"Unknown"},a.prototype.__getVariantAssignment=function(e){var t=this.__variantAssigner(e);return void 0===t?void 0:"".concat(e,".",t)},a.prototype.generateAbacusParameter=function(){function t(e){return"function"==typeof i.__getVariantAssignment?i.__getVariantAssignment(e):void 0}var i=this,n=[];return e(this.__essAbacusIds).each(function(e,i){var a=t(i);a&&n.push(a)}),n.length>0?n.join("|"):""},a.prototype.__getSiteId=function(){return window.site_id?window.site_id:""},a.prototype.__getCookie=function(e){var t="; "+document.cookie,i=t.split("; "+e+"=");if(2===i.length)return i.pop().split(";").shift()},a.prototype.__getGuid=function(){var t=this.__getCookie("MC1"),i=t&&t.split("=");return e.isArray(i)&&2===i.length?i[1]:""},a.prototype.defaultVariantAssigner=function(){if(window.corewizard&&window.corewizard.searchExperiments)return window.corewizard.searchExperiments.getSearchExperimentVariantIfParticipating},a.defaultGenerator=new a(a.prototype.ESS_ABACUS_IDS,a.prototype.defaultVariantAssigner?a.prototype.defaultVariantAssigner():void 0,a.prototype.defaultPageIdGetter),t.registerHelper("each_with_key",function(e,t){var i,n,a="",o=t.hash.key;for(n in e)e.hasOwnProperty(n)&&(i=e[n],o&&(i[o]=n),a+=t.fn(i));return a}),D.defaultOptions={minchar:3,maxitems:20,version:"v4",locale:"en_US",abtest:"",mask:D.AIRPORT|D.CITY|D.MULTICITY|D.NEIGHBORHOOD|D.POI,lob:D.LOB.FLIGHTS,dest:!1,closetext:"Close",continuetext:"Continue typing to refine search",selectioncallback:null,forceicon:!1,serviceUrl:"//suggest.expedia.com",overrideServiceUrl:"",features:"",clientId:"",additionalDataSourceUrl:"",playBackText:"",openDefaultTa:!1,selectFirstElementByDefault:!1},e(function(){u.on("focus.autocomplete",'[data-provide="autocomplete"]',function(){var t=e(this);o(t)})}),window.uitkautocomplete=D,e(document).on("click.uitk_autocomplete focusin.uitk_autocomplete",function(t){if("focusin"!==t.type||i.utils.isFocusableElement(e(t.target))){var n=e(t.target).closest('[data-control="autocomplete"]');n.length<=0&&(n=e(t.target)),(1===n.length&&!n.hasClass(k)||"autocomplete"!==n.data("control")&&!n.hasClass(k)&&0===n.closest("."+k).length)&&D.prototype.closeAllTA()}}),i.subscribe("Input cleared",function(e,t){var i=t.$elem,n=i.data("autocomplete");n&&n.closeIfOpen()}),D}),define("uitk_drawer",["uitk","jquery","hammer","uitk_plugins","uitk_i18n","uitk_domReady","uitk_focus"],function(e,t,i,n,a){"use strict";function o(e,i){var n,a=this;a.drawer=e,a.$drawer=t(e),i=i||{},n=a.$drawer.data()||{},a.options=t.extend(!0,{},$,n,i),i.testRun&&p(!0),a.init()}if(!conditionizr.ie8){var s,r,l,c,d,u,h,p,f="uitk_drawer",g="uitk-drawer",m=g+"-wrapper",v="uitk-overlay",b=g+"-overlay-visible",y="is-open",k="is-closed",w=g+"-aria-hidden",C="drawer-pos-left",T="[data-control=drawer-close]",P="[data-control=drawer-trigger]",S="aria-hidden",D="click",I="click."+g+"-close",x="keydown."+g,_=g+"-transition",O="transitionend."+_+" msTransitionEnd."+_+" transitionEnd."+_+" webkitTransitionEnd."+_,E=t("body"),A=t(".uitk-layout"),F="open",M="openTransition",L="closed",R="closedTransition",H="uitk_drawerEnable",N="uitk_drawerDisable",z={defaultOpenMsg:a.t("drawer_default_open"),defaultCloseMsg:a.t("drawer_default_close"),filterOpenMsg:a.t("drawer_filter_open"),filterCloseMsg:a.t("drawer_filter_close"),navOpenMsg:a.t("drawer_nav_open"),navCloseMsg:a.t("drawer_nav_close")},$={triggerTarget:"left",drawerType:"default"},V={smalltablet:492,tablet:726,desktop:960};return p=function(i){var n=function(){var e,i=document.getElementsByClassName(g),n=i.length;for(e=0;e<n;e++)t(i[e])[f]("drawerViewOff")};A=i?t(".uitk-layout"):A,s=Modernizr.csstransitions,r=A.find("."+m),l=r[0],c=r.data("drawerDisableAt"),c&&(V[c]&&(c=V[c]),d="(max-width: "+(c-1)/16+"em)",u="(min-width: "+c/16+"em)",i||(e.mediaquery.register(d,H),e.mediaquery.register(u,N),e.subscribe("mediaquery.matched",function(e,t){t.key===N&&n()}),e.mediaquery.publishAgain())),E.on(D,P,function(e){var i=t(e.target).closest(P),n=i.data("targetDrawer")||$.triggerTarget;n&&t(".drawer-pos-"+n)[f]("showDrawer",i)})},o.prototype={init:function(){var n,a,o=this,l=o.options;o.state=L,o.drawerViewEnabled=!0,o.$overlay=r.find("."+v),l.drawerSide=o.$drawer.hasClass(C)?"left":"right",a=e.createFocus(),h=a.focusEvent(),a.setFocusContextSelector(o.drawer),n=t(P),"left"===l.drawerSide?(a.injectFocusTrap("top"),o.$defaultTrigger=n.not("[data-target-drawer=right]")):(a.injectFocusTrap("bottom"),o.$defaultTrigger=n.filter("[data-target-drawer=right]")),o.focus=a,l.openMsg||(l.openMsg=z[l.drawerType+"OpenMsg"]),l.closeMsg||(l.closeMsg=z[l.drawerType+"CloseMsg"]),s&&o.$drawer.on(O,function(e){e.target===this&&o._handleTransEnd()}),e.isTouchDevice&&(o.overlaySwipe=new i.Manager(o.$overlay[0],{recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]}),o.drawerSwipe=new i.Manager(o.drawer,{recognizers:[[i.Swipe,{direction:i.DIRECTION_HORIZONTAL}]]}),o.overlaySwipe.on("swipe"+l.drawerSide,function(){o.hideDrawer()}),o.drawerSwipe.on("swipe"+l.drawerSide,function(){o.hideDrawer()})),e.subscribe("mediaquery.matched",function(e,t){t.key===H&&o.drawerViewOn()}),e.subscribe("tooltip.open",function(){o.tooltipOpen=!0}),e.subscribe("tooltip.hidden",function(){o.tooltipOpen=!1})},drawerViewOn:function(){var t=this,i=t.$drawer.find(document.activeElement).length>0;t.drawerViewEnabled=!0,i?(t.state===F?(t._swipeOn(),t._focusOn(!0),t._overlayOn()):t.state===L&&t.showDrawer(null,!0),e.tooltips.hideAll()):i||(t.state===F?t.hideDrawer(!0):t.state===L&&t._addClosedClass())},drawerViewOff:function(){var t=this;t.drawerViewEnabled=!1,t._removeClosedClass(),t.state===F&&(t._swipeOff(),t._focusOff(),t._overlayOff(),e.tooltips.hideAll())},showDrawer:function(e,t){var i=this;return!!i.drawerViewEnabled&&(i.state=M,i.holdFocus=t,i.$trigger=e||i.$defaultTrigger,i._addEscListener(),r.on(I,"."+v+", "+T,function(){i.hideDrawer()}),i._removeClosedClass(),i.$drawer[0].scrollTop=0,void setTimeout(function(){i._overlayOn(),i.$drawer.addClass(y),s||i._handleTransEnd()},25))},hideDrawer:function(e){var t=this;return!!t.drawerViewEnabled&&(t.state=R,t._removeEscListener(),r.off(I),t._swipeOff(),t.$drawer.removeClass(y),t._overlayOff(),e||t._focusOff(),void(s||t._handleTransEnd()))},_addClosedClass:function(){this.$drawer.addClass(k)},_removeClosedClass:function(){this.$drawer.removeClass(k)},_addEscListener:function(){var e=this;E.on(x,function(t){e.tooltipOpen||27!==t.keyCode||e.state!==F||e.hideDrawer()})},_removeEscListener:function(){E.off(x)},_swipeOn:function(){return!!e.isTouchDevice&&(this.overlaySwipe.set({enable:!0}),void this.drawerSwipe.set({enable:!0}))},_swipeOff:function(){return!!e.isTouchDevice&&(this.overlaySwipe.set({enable:!1}),void this.drawerSwipe.set({enable:!1}))},_handleTransEnd:function(){var t=this;t.state===R?(t._addClosedClass(),e.utils.liveAnnounce(t.options.closeMsg),t.state=L):t.state===M&&(t._focusOn(t.holdFocus),t._swipeOn(),e.utils.liveAnnounce(t.options.openMsg),t.state=F)},_overlayOn:function(){E.addClass(b)},_overlayOff:function(){E.removeClass(b)},_focusOn:function(t){var i,n=this;(conditionizr.ie10||conditionizr.ie11)&&n._ariaHiddenOn(),t||(i=n.$drawer.find("#"+n.options.focusOnOpenId),i.length>0?e.utils.focusElement(i):n.focus.firstFocus(!0)),n._trapFocus(),conditionizr.ie9||conditionizr.ie10||conditionizr.ie11||n._ariaHiddenOn()},_focusOff:function(){var e=this;e._ariaHiddenOff(),e._releaseFocus()},_trapFocus:function(){var t=this,i=t.focus;i.enable(),t.focusToken=e.subscribe(h,function(e,t){t.isContainedInContext||i.focus()})},_releaseFocus:function(){var t=this,i=t.focus;i.disable(),setTimeout(function(){i.blur(t.$trigger)},250),e.unsubscribe(h,t.focusToken)},_ariaHiddenOn:function(){if(!conditionizr["lt-ie10"]){var e,t=this,i=A[0];e=function(e,t){var i,n,a=e.children,o=a.length;for(n=0;n<o;n++)i=a[n],i===t||i.attributes.getNamedItem(S)||(i.className+=" "+w,i.setAttribute(S,"true"))},e(i,l),e(l,t.drawer)}},_ariaHiddenOff:function(){if(!conditionizr["lt-ie10"]){var e,t,i=document.getElementsByClassName(w);for(t=i.length-1;t>=0;t--)e=i[t],e.removeAttribute(S),e.className=e.className.replace(" "+w,"")}}},n.initPlugin(f,o),"drawer"===A.data("uitkLayout")&&p(),o}});var uDash="uitk-",uLoDash="uitk_",hb=".hbs",tmp="template"+hb;define(uLoDash+"init",["uitk",uLoDash+"date",uLoDash+"i18n",uLoDash+"messages","hammer","hbsHelpers","button-tag"+hb,"figure-tag"+hb,"icon-tag"+hb,"map-infowindow"+hb,uDash+"datepicker-"+tmp,uDash+"content-slider-controls-"+tmp,uDash+"map-"+tmp,uDash+"modal-bg-"+tmp,uDash+"modal-inner-"+tmp,uDash+"modal-"+tmp,uDash+"modal-title-"+tmp,uDash+"pagination-content-"+tmp,uDash+"pagination-page-"+tmp,uDash+"responsive-sortbar-contents-"+tmp,uDash+"responsive-sortbar-more-"+tmp,uDash+"responsive-sortbar-options-"+tmp,uDash+"responsive-sortbar-"+tmp,uDash+"ta-by-category"+hb,uDash+"ta-default"+hb,uDash+"youtube-video"+hb,uLoDash+"polyfill_placeholder",uLoDash+"focus",uLoDash+"browserStorage",uLoDash+"abacus",uLoDash+"tooltip",uLoDash+"typeahead",uLoDash+"tabs",uLoDash+"toggle",uLoDash+"offCanvasToggle",uLoDash+"media",uLoDash+"mediaViewer",uLoDash+"mediaSlider",uLoDash+"contentSlider",uLoDash+"modal",uLoDash+"dropdown",uLoDash+"share",uLoDash+"map",uLoDash+"pagination",uLoDash+"respSortbar",uLoDash+"footer",uLoDash+"tables",uLoDash+"onOffSwitch",uLoDash+"onPageInterstitial",uLoDash+"flexcard",uLoDash+"datepicker",uLoDash+"autocomplete",uLoDash+"drawer"],function(e){"use strict";return"undefined"!=typeof $LAB&&("undefined"!=typeof uitkformatter&&uitkformatter.dependency?require(uitkformatter.dependency,function(){$LAB.runQueue()}):$LAB.runQueue()),e.readyState=!0,e.readyState}),require([uLoDash+"init"]),require(["handlebars"],function(e){window.Handlebars=e});